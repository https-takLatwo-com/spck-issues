/*

ace
---
Copyright (c) 2010, Ajax.org B.V.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
    * Neither the name of Ajax.org B.V. nor the
      names of its contributors may be used to endorse or promote products
      derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


buffer
---
The MIT License (MIT)

Copyright (c) Feross Aboukhadijeh, and other contributors.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.


Dexie.js
---
Copyright (c) 2014-2017 David Fahlander

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.


dot
---
Copyright (c) 2011 Laura Doktorova

Software includes portions from jQote2 Copyright (c) 2010 aefxx,
http://aefxx.com/ licensed under the MIT license.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


isomorphic-git
---
Copyright 2017-2018 the 'isomorphic-git' authors

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


Jdenticon
---
MIT License

Copyright (c) 2014-2018 Daniel Mester Pirttijärvi

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


jquery
---
Copyright 2014 jQuery Foundation and other contributors
http://jquery.com/

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


diff
---
Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


spck-module
---
The MIT License (MIT)
=====================

Copyright © `2018` `Zeb Zhao`

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the “Software”), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.


js-beautify
---
The MIT License (MIT)

Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


spck-ui
---
The MIT License (MIT)
=====================

Copyright © `2017` `Zeb Zhao`

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the “Software”), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.


uikit
---
The MIT License (MIT)

Copyright (c) YOOtheme GmbH

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


minimatch
---
The ISC License

Copyright (c) Isaac Z. Schlueter and Contributors

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR
IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.


jaro-winkler
---
The MIT License (MIT)

Copyright (c) 2015 Jordan Thomas

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


typescript
---

*****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
*****************************************************************************

----------------- TypeScript ThirdPartyNotices -------------------------------------------------------

The TypeScript software is based on or incorporates material and code from the projects listed below
(collectively "Third Party Code"). Microsoft is not the original author of the
Third Party Code. The original copyright notice and the license, under which
Microsoft received such Third Party Code, are set forth below. Such license and
notices are provided for informational purposes only. Microsoft licenses the Third
Party Code to you under the terms of the Apache 2.0 License.
All Third Party Code licensed by Microsoft under the Apache License, Version 2.0 (the "License"); you
may not use this file except in compliance with the License. You may obtain a copy
of the License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED WARRANTIES OR
CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions and
limitations under the License.
---------------------------------------------
Third Party Code Components
--------------------------------------------

------------------- DefinitelyTyped --------------------
This file is based on or incorporates material from the projects listed below (collectively "Third Party Code"). Microsoft is not the original author of the Third Party Code. The original copyright notice and the license, under which Microsoft received such Third Party Code, are set forth below. Such licenses and notices are provided for informational purposes only. Microsoft, not the third party, licenses the Third Party Code to you under the terms set forth in the EULA for the Microsoft Product. Microsoft reserves all other rights not expressly granted under this agreement, whether by implication, estoppel or otherwise.
DefinitelyTyped
This project is licensed under the MIT license.
Copyrights are respective of each contributor listed at the beginning of each definition file.
Provided for Informational Purposes Only

MIT License
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the ""Software""), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
--------------------------------------------------------------------------------------

------------------- Unicode --------------------
UNICODE, INC. LICENSE AGREEMENT - DATA FILES AND SOFTWARE

Unicode Data Files include all data files under the directories
http://www.unicode.org/Public/, http://www.unicode.org/reports/,
http://www.unicode.org/cldr/data/, http://source.icu-project.org/repos/icu/, and
http://www.unicode.org/utility/trac/browser/.

Unicode Data Files do not include PDF online code charts under the
directory http://www.unicode.org/Public/.

Software includes any source code published in the Unicode Standard
or under the directories
http://www.unicode.org/Public/, http://www.unicode.org/reports/,
http://www.unicode.org/cldr/data/, http://source.icu-project.org/repos/icu/, and
http://www.unicode.org/utility/trac/browser/.

NOTICE TO USER: Carefully read the following legal agreement.
BY DOWNLOADING, INSTALLING, COPYING OR OTHERWISE USING UNICODE INC.'S
DATA FILES ("DATA FILES"), AND/OR SOFTWARE ("SOFTWARE"),
YOU UNEQUIVOCALLY ACCEPT, AND AGREE TO BE BOUND BY, ALL OF THE
TERMS AND CONDITIONS OF THIS AGREEMENT.
IF YOU DO NOT AGREE, DO NOT DOWNLOAD, INSTALL, COPY, DISTRIBUTE OR USE
THE DATA FILES OR SOFTWARE.

COPYRIGHT AND PERMISSION NOTICE

Copyright (c) 1991-2017 Unicode, Inc. All rights reserved.
Distributed under the Terms of Use in http://www.unicode.org/copyright.html.

Permission is hereby granted, free of charge, to any person obtaining
a copy of the Unicode data files and any associated documentation
(the "Data Files") or Unicode software and any associated documentation
(the "Software") to deal in the Data Files or Software
without restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, and/or sell copies of
the Data Files or Software, and to permit persons to whom the Data Files
or Software are furnished to do so, provided that either
(a) this copyright and permission notice appear with all copies
of the Data Files or Software, or
(b) this copyright and permission notice appear in associated
Documentation.

THE DATA FILES AND SOFTWARE ARE PROVIDED "AS IS", WITHOUT WARRANTY OF
ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT OF THIRD PARTY RIGHTS.
IN NO EVENT SHALL THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS
NOTICE BE LIABLE FOR ANY CLAIM, OR ANY SPECIAL INDIRECT OR CONSEQUENTIAL
DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE,
DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THE DATA FILES OR SOFTWARE.

Except as contained in this notice, the name of a copyright holder
shall not be used in advertising or otherwise to promote the sale,
use or other dealings in these Data Files or Software without prior
written authorization of the copyright holder.
--------------------------------------------------------------------------------------

------------- End of ThirdPartyNotices ---------------------------------------------------


vscode-css-languageservice, vscode-nls
---
The MIT License (MIT)

Copyright (c) Microsoft

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


vscode-html-languageservice
---
The MIT License (MIT)

Copyright (c) Microsoft

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

THIRD-PARTY SOFTWARE NOTICES AND INFORMATION

vscode-html-languageservice incorporates third party material from the projects listed below. The original copyright
notice and the license under which Microsoft received such third party material are set forth below. Microsoft
reserves all other rights not expressly granted, whether by implication, estoppel or otherwise.

1. JS Beautifier (https://github.com/beautify-web/js-beautify)

The MIT License (MIT)

Copyright (c) 2007-2017 Einar Lielmanis, Liam Newman, and contributors.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

2.	HTML 5.1 W3C Working Draft version 08 October 2015 (http://www.w3.org/TR/2015/WD-html51-20151008/)

%% HTML 5.1 W3C Working Draft NOTICES AND INFORMATION BEGIN HERE
=========================================
Copyright © 2015 W3C® (MIT, ERCIM, Keio, Beihang). This software or document includes material copied
from or derived from HTML 5.1 W3C Working Draft (http://www.w3.org/TR/2015/WD-html51-20151008/.)

THIS DOCUMENT IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING, BUT
NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF
THE DOCUMENT ARE SUITABLE FOR ANY PURPOSE; NOR THAT THE IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ANY THIRD PARTY
PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE
DOCUMENT OR THE PERFORMANCE OR IMPLEMENTATION OF THE CONTENTS THEREOF.

The name and trademarks of copyright holders may NOT be used in advertising or publicity pertaining to this document or its contents
without specific, written prior permission. Title to copyright in this document will at all times remain with copyright holders.
=========================================
END OF HTML 5.1 W3C Working Draft NOTICES AND INFORMATION

3. Ionic documentation version 1.2.4 (https://github.com/driftyco/ionic-site)

%% Ionic documentation NOTICES AND INFORMATION BEGIN HERE
=========================================
Copyright Drifty Co. http://drifty.com/.

Apache License

Version 2.0, January 2004

http://www.apache.org/licenses/

TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

1. Definitions.

"License" shall mean the terms and conditions for use, reproduction, and distribution as defined by Sections 1 through 9 of this document.

"Licensor" shall mean the copyright owner or entity authorized by the copyright owner that is granting the License.

"Legal Entity" shall mean the union of the acting entity and all other entities that control, are controlled by, or are under common control with that entity. For the purposes of this definition, "control" means (i) the power, direct or indirect, to cause the direction or management of such entity, whether by contract or otherwise, or (ii) ownership of fifty percent (50%) or more of the outstanding shares, or (iii) beneficial ownership of such entity.

"You" (or "Your") shall mean an individual or Legal Entity exercising permissions granted by this License.

"Source" form shall mean the preferred form for making modifications, including but not limited to software source code, documentation source, and configuration files.

"Object" form shall mean any form resulting from mechanical transformation or translation of a Source form, including but not limited to compiled object code, generated documentation, and conversions to other media types.

"Work" shall mean the work of authorship, whether in Source or Object form, made available under the License, as indicated by a copyright notice that is included in or attached to the work (an example is provided in the Appendix below).

"Derivative Works" shall mean any work, whether in Source or Object form, that is based on (or derived from) the Work and for which the editorial revisions, annotations, elaborations, or other modifications represent, as a whole, an original work of authorship. For the purposes of this License, Derivative Works shall not include works that remain separable from, or merely link (or bind by name) to the interfaces of, the Work and Derivative Works thereof.

"Contribution" shall mean any work of authorship, including the original version of the Work and any modifications or additions to that Work or Derivative Works thereof, that is intentionally submitted to Licensor for inclusion in the Work by the copyright owner or by an individual or Legal Entity authorized to submit on behalf of the copyright owner. For the purposes of this definition, "submitted" means any form of electronic, verbal, or written communication sent to the Licensor or its representatives, including but not limited to communication on electronic mailing lists, source code control systems, and issue tracking systems that are managed by, or on behalf of, the Licensor for the purpose of discussing and improving the Work, but excluding communication that is conspicuously marked or otherwise designated in writing by the copyright owner as "Not a Contribution."

"Contributor" shall mean Licensor and any individual or Legal Entity on behalf of whom a Contribution has been received by Licensor and subsequently incorporated within the Work.

2. Grant of Copyright License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare Derivative Works of, publicly display, publicly perform, sublicense, and distribute the Work and such Derivative Works in Source or Object form.

3. Grant of Patent License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in this section) patent license to make, have made, use, offer to sell, sell, import, and otherwise transfer the Work, where such license applies only to those patent claims licensable by such Contributor that are necessarily infringed by their Contribution(s) alone or by combination of their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit) alleging that the Work or a Contribution incorporated within the Work constitutes direct or contributory patent infringement, then any patent licenses granted to You under this License for that Work shall terminate as of the date such litigation is filed.

4. Redistribution. You may reproduce and distribute copies of the Work or Derivative Works thereof in any medium, with or without modifications, and in Source or Object form, provided that You meet the following conditions:

You must give any other recipients of the Work or Derivative Works a copy of this License; and

You must cause any modified files to carry prominent notices stating that You changed the files; and

You must retain, in the Source form of any Derivative Works that You distribute, all copyright, patent, trademark, and attribution notices from the Source form of the Work, excluding those notices that do not pertain to any part of the Derivative Works; and

If the Work includes a "NOTICE" text file as part of its distribution, then any Derivative Works that You distribute must include a readable copy of the attribution notices contained within such NOTICE file, excluding those notices that do not pertain to any part of the Derivative Works, in at least one of the following places: within a NOTICE text file distributed as part of the Derivative Works; within the Source form or documentation, if provided along with the Derivative Works; or, within a display generated by the Derivative Works, if and wherever such third-party notices normally appear. The contents of the NOTICE file are for informational purposes only and do not modify the License. You may add Your own attribution notices within Derivative Works that You distribute, alongside or as an addendum to the NOTICE text from the Work, provided that such additional attribution notices cannot be construed as modifying the License. You may add Your own copyright statement to Your modifications and may provide additional or different license terms and conditions for use, reproduction, or distribution of Your modifications, or for any such Derivative Works as a whole, provided Your use, reproduction, and distribution of the Work otherwise complies with the conditions stated in this License.

5. Submission of Contributions. Unless You explicitly state otherwise, any Contribution intentionally submitted for inclusion in the Work by You to the Licensor shall be under the terms and conditions of this License, without any additional terms or conditions. Notwithstanding the above, nothing herein shall supersede or modify the terms of any separate license agreement you may have executed with Licensor regarding such Contributions.

6. Trademarks. This License does not grant permission to use the trade names, trademarks, service marks, or product names of the Licensor, except as required for reasonable and customary use in describing the origin of the Work and reproducing the content of the NOTICE file.

7. Disclaimer of Warranty. Unless required by applicable law or agreed to in writing, Licensor provides the Work (and each Contributor provides its Contributions) on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You are solely responsible for determining the appropriateness of using or redistributing the Work and assume any risks associated with Your exercise of permissions under this License.

8. Limitation of Liability. In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall any Contributor be liable to You for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising as a result of this License or out of the use or inability to use the Work (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if such Contributor has been advised of the possibility of such damages.

9. Accepting Warranty or Additional Liability. While redistributing the Work or Derivative Works thereof, You may choose to offer, and charge a fee for, acceptance of support, warranty, indemnity, or other liability obligations and/or rights consistent with this License. However, in accepting such obligations, You may act only on Your own behalf and on Your sole responsibility, not on behalf of any other Contributor, and only if You agree to indemnify, defend, and hold each Contributor harmless for any liability incurred by, or claims asserted against, such Contributor by reason of your accepting any such warranty or additional liability.

END OF TERMS AND CONDITIONS
=========================================
END OF Ionic documentation NOTICES AND INFORMATION


vscode-languageserver-types, vscode-uri
---
Copyright (c) Microsoft Corporation

All rights reserved.

MIT License

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


file-saver
---
The MIT License

Copyright © 2016 [Eli Grey][1].

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

  [1]: http://eligrey.com


zip.js
---
Copyright (c) 2013 Gildas Lormeau. All rights reserved.
Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
1. Redistributions of source code must retain the above copyright notice,
this list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in
the documentation and/or other materials provided with the distribution.
3. The names of the authors may not be used to endorse or promote products
derived from this software without specific prior written permission.
THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

window.addEventListener("unhandledrejection",e=>{e.preventDefault();var{reason:t,promise:n}=e;window.console.warn("Unhandled promise rejection:",n&&n.stack||t&&t.stack)}),m.debug=!1,window.$checkEnabled=!1,ace.config.set("basePath","ace"),m.module("embed").require("main","settings","urlQuery","remote","path","model","project","session","files").__new__((function(e){e.unprocessedEvents=[],e.port=null,window.onmessage=function(t){if(!e.t()){var n=t.data,i=t.ports&&t.ports[0],o=(t.origin||"-").split("://").pop();"connect"===n&&i?(i.postMessage("connected"),e.port=i):e.unprocessedEvents.push({port:i,data:n,origin:o}),"loaded"===e.__state__&&(e.unprocessedEvents.forEach(t=>e.i(t)),e.unprocessedEvents.length=0)}}})).__init__((function(e,{project:t,settings:n,urlQuery:i,remote:o,path:a,main:r,model:s,session:l,files:c}){var u=i.o.bind(i);if(Object.assign(e,{project:t,settings:n,remote:o,path:a,main:r,model:s,session:l,files:c,projectName:u("name")||u("project"),useFiles:u("files"),usePreview:u("preview"),theme:u("theme")}),!e.t()){e.unprocessedEvents.forEach(t=>e.i(t)),e.unprocessedEvents.length=0;var h=r.s();h.observable.subscribe(({action:t,position:n,selectionRanges:i,selectedText:o,path:a})=>{if(e.port)switch(t){case"focus":case"blur":e.port.postMessage({action:t});break;case"edit":e.port.postMessage({action:"textChange",args:[h.getValue(),a]});break;case"positionChange":e.port.postMessage({action:t,args:[n]});break;case"selectionChange":e.port.postMessage({action:t,args:[{selectedText:o,selectionRanges:i}]})}}),c.observable.subscribe(({action:t,path:n})=>{if(e.port)switch(t){case"open":e.port.postMessage({action:"fileOpen",path:n})}}),l.observable.subscribe(({action:t,project:n})=>{if(e.port)switch(t){case"open":e.port.postMessage({action:"projectOpen",project:n});break;case"close":e.port.postMessage({action:"projectClose"})}}),e.useFiles||(r.l().hide(),r.u().hide(),r.p().hide(),r.m().hide(),r.v().hide(),r.s().setScrollMargin(8,24)),e.usePreview||(r.g().hide(),r.k().hide(),r.S().hide(),r._().hide()),e.theme&&n.A(theme)}})).def({t:function(){return!window.$embedMode||["spck.io","www.spck.io"].includes(window.location.hostname)},I:function({projectName:e,files:t,open:n,origin:i}){var o=this;return o.project.C({name:`«${i}»${e}`,currentFilePath:n,uniqueName:!1,buildCallback:({dir:e})=>Promise.all(t.map(({path:t,text:n,url:i})=>{if(t){var a=PathUtils.join(e,t);return i?o.remote.$(i).then(e=>GFS.write(a,e)):GFS.write(a,n)}}))})},R:function(e){return ENV.filesDirAsync(e)},i:function({data:e,port:t,origin:n}){var i=this,o=i.main.s(),a=i.settings,r=[];if("string"==typeof e&&t)switch(e){case"text":t.postMessage(o.getValue());break;case"theme":t.postMessage(o.getTheme());break;case"mode":t.postMessage(o.getMode());break;case"tabSize":t.postMessage(o.getTabSize());break;case"position":t.postMessage(o.getCursorPosition())}else if("object"==typeof e){var{project:s,files:l,appendFiles:c,open:u,editor:h,clearProjects:d}=e,p=i.projectName||s||"Project";if(d&&("boolean"==typeof d?r.push(i.model.T("RISKY_STUFF")):Array.isArray(d)&&r.push(Promise.all(d.map(e=>ENV.filesDirAsync(e).then(e=>i.model.F(e)))))),l?(l.forEach((e,t)=>{if(!e)throw new Error(`Found a '${e} entry at position ${t} of files array.`)}),r.push(ENV.filesDirAsync(p).then(e=>i.model.j(e).then(()=>c?Promise.all(l.map(({path:e,text:t,url:n})=>{if(e){var o=PathUtils.join(dir,e);return n?i.remote.$(n).then(e=>GFS.write(o,e)):GFS.write(o,t)}})):i.model.F(e).then(()=>i.I({projectName:p,open:u,files:l,origin:n})),()=>i.I({projectName:p,open:u,files:l,origin:n}))))):u&&r.push(ENV.filesDirAsync(name).then(e=>i.main.P(PathUtils.join(e,u)))),h){if("object"!=typeof e)throw new Error("Type mismatch: 'editorConfig' property must be an object.");var f=!1,{mode:m,fontSize:v,tabSize:g,text:b,gutter:w,theme:y,position:x}=h;"string"==typeof y&&(a.A(y),f=!0),"string"==typeof m&&o.setMode(m),v&&(a.O(v),f=!0),void 0!==g&&(a.U(g),f=!0),"string"==typeof b&&o.setValue(b,!0),"boolean"==typeof w&&(a.N(w),f=!0),"object"===x&&(o.navigateTo(x.row,x.column),o.scrollToLine(x.row,!0,!1)),f&&r.push(a.B().then(a.L()))}}return Promise.all(r)}}),UIkit2.support.mutationobserver=null,UI.ready((function(){m.module("views").require("embed","main","urlQuery","cookieBanner","logger");var e=m.modules,{urlQuery:t,projects:n,session:i,model:o,main:a,prompt:r,settings:s,menu:l}=e,c=t.o.bind(t),u={embedMode:window.$embedMode,fileName:c("fileName"),externalPath:c("externalPath"),fileContent:c("fileContent")};Promise.resolve().then((function(){if("serviceWorker"in navigator)return navigator.serviceWorker.register("service.worker.js").catch($LOG.error.bind($LOG,"[SW ERROR]"))})).then((function(){return m.initialize("views")})).then((function(){return s.L()})).then((function(){if(n.G(),l.switcher().switchToTab("projects"),!u.embedMode&&!u.fileName)return o.M("currentProjectDir").then((function(e){e?i.D(e):i.W()}),(function(){return r.V({en:"Incognito mode detected!",es:"Modo de incógnito detectado!",ja:"シークレットモードが検出されました!",pt:"Modo de navegação anônima detectado!",zh:"检测到无痕模式!",zhTW:"檢測到無痕模式!"},null,{message:{en:"Your browser is operating in incognito, and the editor will not function properly in this mode. Please restart in a normal browsing session."},hideCancel:!0}),n.container().showBatch("empty"),i.W()}))})).then((function(){setTimeout((function(){UI.removeClass(document.getElementById("appContainer"),"uk-invisible");var e=document.getElementById("preloader");e&&e.parentNode&&document.body.removeChild(e)}),350),a.H(u)}))}));var AndroidRef=window.AndroidRef=window.Android;function virtualBack(){var e=!1,t=$(".uk-modal.uk-open").attr("id");if(t)$$(t).close(),e=!0;else{var n=$(".uk-offcanvas.uk-active").attr("id");if(n)$$(n).close(),e=!0;else{var i=$$("mainEditor").$editor;i.isTextSelected()&&(i.clearSelection(),e=!0)}}return e}function getChromeVersion(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)}var RES_I18N={Actions:{New:e=>({en:`New ${e.en}`,es:`${e.es} Nuevo`,ja:`新規${e.ja}`,pt:`Novo ${e.pt}`,zh:`新建${e.zh}`,zhTW:`新增${e.zhTW}`}),Upload:e=>({en:`Upload ${e.en}`,es:`Subir ${e.es}`,ja:`${e.ja} Upload`,pt:`Subir ${e.pt}`,zh:`上传${e.zh}`,zhTW:`上传${e.zhTW}`}),Delete:e=>({en:`Delete ${e.en}`,es:`Borrar ${e.es}`,ja:`${e.ja}を削除`,pt:`Excluir ${e.pt}`,zh:`删除${e.zh}`,zhTW:`删除${e.zhTW}`}),Rename:e=>({en:`Rename ${e.en}`,es:`Renombrar ${e.es}`,ja:`${e.ja}を名前を変更`,pt:`Renomear ${e.pt}`,zh:`重新命${e.zh}名`,zhTW:`重命${e.zhTW}名`}),Revert:e=>({en:`Revert ${e.en}`,es:`Restituir ${e.es}`,ja:`${e.ja}を取り消す`,pt:`Reverter ${e.pt}`,zh:`还原${e.zh}`,zhTW:`復原${e.zhTW}`}),Migrate:e=>({en:`Migrate ${e.en}`,es:`Migrar ${e.es}`,ja:`${e.ja}を移行する`,pt:`Migrar ${e.pt}`,zh:`迁移${e.zh}`,zhTW:`遷移${e.zhTW}`}),Undo:e=>({en:`Undo ${e.en}`,es:`Deshacer ${e.es}`,ja:`${e.ja}を取り消す`,pt:`Desfazer ${e.pt}`,zh:`撤销${e.zh}`,zhTW:`復原${e.zhTW}`}),Redo:e=>({en:`Redo ${e.en}`,es:`Rehacer ${e.es}`,ja:`${e.ja}をやり直す`,pt:`Refazer ${e.pt}`,zh:`重做${e.zh}`,zhTW:`重做${e.zhTW}`}),Import:e=>({en:`Import ${e.en}`,es:`Importar ${e.es}`,ja:`${e.ja}をインポート`,pt:`Importar ${e.pt}`,zh:`导入${e.zh}`,zhTW:`導入${e.zhTW}`}),Export:e=>({en:`Export ${e.en}`,es:`Exportar ${e.es}`,ja:`エクスポート${e.ja}`,pt:`Exportar ${e.pt}`,zh:`导出为${e.zh}`,zhTW:`匯出為${e.zhTW}`}),Create:e=>({en:`Create ${e.en}`,es:`Crea ${e.es}`,ja:`${e.ja}を作成`,pt:`Criar ${e.pt}`,zh:`创建新${e.zh}`,zhTW:`建立新${e.zhTW}`}),View:e=>({en:`View ${e.en}`,es:`Ver ${e.es}`,ja:`表示${e.ja}`,pt:`Exibir ${e.pt}`,zh:`查看${e.zh}`,zhTW:`檢視${e.zhTW}`}),GoTo:e=>({en:`Go to ${e.en}`,es:`Ir a ${e.es}`,ja:`${e.ja}へ移動`,pt:`Ir para a ${e.pt}`,zh:`跳转到${e.zh}`,zhTW:`前往${e.zhTW}`}),Select:e=>({en:`Select ${e.en}`,es:`Seleccione ${e.es}`,ja:`${e.ja}を選択してください`,pt:`Selecione o ${e.pt}`,zh:`请选择${e.zh}`,zhTW:`請選擇${e.zhTW}`}),Failed:e=>({en:`${e.en} Failed`,es:`Fallo al ${e.es}`,ja:`${e.ja}に失敗`,pt:`${e.pt} Falhou`,zh:`${e.zh}失败`,zhTW:`${e.zhTW}失敗`}),SearchFor:e=>({en:`Search ${e.en}`,es:`Buscar ${e.en}`,ja:`検索: ${e.ja}`,pt:`Procurar ${e.pt}`,zh:`查找${e.zh}`,zhTW:`搜尋${e.zhTW}`})},Objects:{File:{en:"File",es:"Archivo",ja:"ファイル",pt:"Arquivo",zh:"文件",zhTW:"檔案"},Folder:{en:"Folder",es:"Carpeta",ja:"フォルダ",pt:"Pasta",zh:"文件夹",zhTW:"資料夾"},Project:{en:"Project",es:"Proyecto",ja:"プロジェクト",pt:"Projeto",zh:"项目",zhTW:"專案"},Line:{en:"Line",es:"La Línea",ja:"指定行",pt:"Linha",zh:"指定行",zhTW:"指定列"},Preview:{en:"Preview",es:"Previsualizar",ja:"プレビュー",pt:"Pré-Visualização",zh:"预览",zhTW:"預覽頁面"},Definition:{en:"Definition",es:"Definición",ja:"宣言に移動",pt:"Declaração",zh:"跳转至声明",zhTW:"移動至宣告"},Credentials:{en:"Credentials",es:"Credenciales",ja:"資格情報",pt:"Credenciais",zh:"凭证",zhTW:"憑證"},Labs:{en:"Labs",es:"Labs",ja:"ラボを見る",pt:"Labs",zh:"实验项目",zhTW:"實驗專案"},Repository:{en:"Repo",es:"Repositorio",ja:"リポジトリ",pt:"Repositório",zh:"版本库",zhTW:"版本庫"},Upstream:{en:"Upstream",es:"Ascendencia (Upstream)",ja:"上流",pt:"Upstream",zh:"上游",zhTW:"上游"},Path:{en:"Path",es:"Camino.",ja:"パス",pt:"Caminho",zh:"路径",zhTW:"路徑"},Remote:{en:"Remote",es:"Remoto",ja:"リモート",pt:"Remoto",zh:"远端",zhTW:"遠端"},Diff:{en:"Diff",es:"Diff",ja:"差分",pt:"Comparação",zh:"差异",zhTW:"比較差異"},Branch:{en:"Branch",es:"Ramal",ja:"ブランチ",pt:"Ramo",zh:"分支",zhTW:"分支"},Log:{en:"Log",es:"Reg.",ja:"ログ",pt:"Histórico",zh:"日志",zhTW:"日誌"},Push:{en:"Push",es:"Impulsar",ja:"プッシュ",pt:"Empurrar",zh:"推送(Push)",zhTW:"推送"},Pull:{en:"Pull",es:"Incorporar",ja:"プル",pt:"Puxar",zh:"拉取(Pull)",zhTW:"拉取"},Fetch:{en:"Fetch",es:"Descargar",ja:"フェッチ",pt:"Obter",zh:"获取",zhTW:"獲取"},RecoveredFile:{en:"Recovered File",es:"Archivo Recuperado",ja:"回収されたファイル",pt:"Arquivo Recuperado",zh:"恢復的件恢",zhTW:"恢復的件恢"},ActionRequired:e=>({en:`Action Required: ${e.en}`,es:`Acción Requerida: ${e.es}`,ja:`手動で：${e.ja}`,pt:`Ação Necessária: ${e.pt}`,zh:`手动执行：${e.zh}`,zhTW:`手動執行：${e.zhTW}`}),SuccessfulFor:e=>({en:`${e.en} Successful`,es:`${e.es} Exitoso`,ja:`${e.ja}成功`,pt:`${e.pt} bem Sucedido`,zh:`${e.zh}成功`,zhTW:`${e.zhTW}成功`}),NameFor:e=>({en:`${e.en} Name`,es:`Nombre del ${e.es}`,ja:`${e.ja}名`,pt:`Nome do ${e.pt}`,zh:`${e.zh}名`,zhTW:`${e.zhTW}名`}),BranchWithName:e=>({en:`Branch: ${e}`,es:`Ramal: ${e}`,ja:`ブランチ: ${e}`,pt:`Ramo: ${e}`,zh:`当前分支: ${e}`,zhTW:`目前分支: ${e}`}),Echo:e=>({en:e,es:e,ja:e,pt:e,zh:e,zhTW:e})},Elements:{Ok:i18nTag({en:"Ok",ja:"確認",zh:"确认",zhTW:"確認"}),Cancel:i18nTag({en:"Cancel",es:"Cancelar",ja:"キャンセル",pt:"Cancelar",zh:"取消",zhTW:"取消"}),Revert:i18nTag({en:"Revert",es:"Restituir",ja:"変更の取り消し",pt:"Reverter",zh:"还原",zhTW:"還原"}),Undo:i18nTag({en:"Undo",es:"Deshacer",ja:"取り消す",pt:"Desfazer",zh:"撤销",zhTW:"復原"}),Redo:i18nTag({en:"Redo",es:"Rehacer",ja:"やり直す",pt:"Refazer",zh:"重做",zhTW:"重做"}),Paste:i18nTag({en:"Paste",es:"Pegar",ja:"ペースト",pt:"Colar",zh:"粘贴",zhTW:"貼上"}),Copy:i18nTag({en:"Copy",es:"Copiar",ja:"コピー",pt:"Copiar",zh:"复制",zhTW:"複製"}),Cut:i18nTag({en:"Cut",es:"Cortar",ja:"カット",pt:"Cortar",zh:"剪切",zhTW:"剪下"}),SelectAll:i18nTag({en:"Select All",es:"Seleccionar Todo",ja:"すべて選択",pt:"Selecionar Tudo",zh:"全选",zhTW:"全選"}),Delete:i18nTag({en:"Delete",es:"Borrar",ja:"削除",pt:"Excluir",zh:"删除",zhTW:"删除"}),Rename:i18nTag({en:"Rename",es:"Renombrar",ja:"名前を変更",pt:"Renomear",zh:"重新命名",zhTW:"重命名"}),Edit:i18nTag({en:"Edit",es:"Edita",ja:"編集",pt:"Editar",zh:"编辑",zhTW:"編輯"}),ShareLink:i18nTag({en:"Share Link",es:"Compartir Enlace",ja:"共有リンク",pt:"Compartilhar Link",zh:"分享链接",zhTW:"分享鏈接"}),Export:i18nTag({en:"Export",es:"Exportar",ja:"エクスポート",pt:"Exportar",zh:"导出",zhTW:"匯出"}),Format:i18nTag({en:"Format",es:"Formato",ja:"自動インデント",pt:"Formato",zh:"自动缩进",zhTW:"自動縮排"}),FindAll:i18nTag({en:"Find All",es:"Buscar Todos",ja:"すべて検索",pt:"Localizar Tudo",zh:"查找全部",zhTW:"尋找所有項目"}),Find:i18nTag({en:"Find",es:"Buscar",ja:"検索",pt:"Procurar",zh:"查找",zhTW:"尋找"}),Replace:i18nTag({en:"Replace",es:"Reemplazar",ja:"検索",pt:"Substituir",zh:"替换",zhTW:"替換"}),ReplaceAll:i18nTag({en:"Replace All",es:"Reemplaza Todas",ja:"すべて置換",pt:"Substituir Tudo",zh:"全部替换",zhTW:"全部取代"}),FindResults:i18nTag({en:"Find Results",es:"Resultados",ja:"検索結果",pt:"Resultados",zh:"查找结果",zhTW:"搜尋結果"}),Open:i18nTag({en:"Open",es:"Abrir",ja:"開",pt:"Abrir",zh:"打开",zhTW:"開啟"}),ShowInfo:i18nTag({en:"Show Info",es:"Mostrar Info",ja:"情報を表示",pt:"Mostrar Info",zh:"显示信息",zhTW:"顯示信息"}),CommitAll:i18nTag({en:"Commit All",es:"Consigna Todos",ja:"すべてコミット",pt:"Submeter Todos",zh:"全部提交",zhTW:"全部提交"}),RevertAll:i18nTag({en:"Revert All",es:"Restituir Todos",ja:"すべて変更の取り消し",pt:"Reverter Todos",zh:"全部还原",zhTW:"全部還原"}),Checkout:i18nTag({en:"Checkout",es:"Adquirir",ja:"チェックアウト",pt:"Restaurar",zh:"检出",zhTW:"取出"}),Local:i18nTag({en:"Local",es:"Local",ja:"ローカル",pt:"Local",zh:"本地",zhTW:"本地"}),Branches:i18nTag({en:"Branches",es:"Ramals",ja:"ブランチ",pt:" Ramos",zh:"分支",zhTW:"分支"}),RevertAndCheckout:i18nTag({en:"Revert & Checkout",es:"Restituir & Adquirir",ja:"取り消し/チェックアウト",pt:"Reverter e Restaurar",zh:"还原/检出",zhTW:"復原/取出"}),MarkResolved:i18nTag({en:"Mark Resolved",es:"Marcar Resuelto",ja:"解決済みとする",pt:"Marcar Resolvido",zh:"标记为已解决",zhTW:"標記為已解決"}),LogHistory:i18nTag({en:"Log History",es:"Reg. Histórico",ja:"ログの履歴",pt:"Histórico",zh:"历史记录",zhTW:"日誌歷史"}),Remotes:i18nTag({en:"Remotes",es:"Remotos",ja:"リモート",pt:"Remotos",zh:"远端",zhTW:"遠端"}),GitCredentials:i18nTag({en:"Git Credentials",es:"Git Credenciales",ja:"Git 資格情報",pt:"Git Credenciais",zh:"Git 凭证",zhTW:"Git 憑證"}),CloneRepo:i18nTag({en:"Clone Repo",es:"Clonar Repo",ja:"クローン(複製)",pt:"Clonar Repositório",zh:"克隆版本库",zhTW:"克隆版本庫"})},Placeholders:{EnterNameOrPath:{en:"Enter Name or Path",es:"Ingrese Nombre o Camino",ja:"ファイルパス",pt:"Insira Nome ou Caminho",zh:"输入名或路径",zhTW:"輸入名或路徑"},HttpsUrl:{en:"URL (Start with https://)",es:"URL (Comienzan con https://)",ja:"「https://」で始まるURL",pt:"URL (Iniciam com https://)",zh:"URL 以「https://」开始",zhTW:"「https://」開頭的 URL"},AuthorEmail:{en:"Author Email",es:"E-mail del Autor",ja:"作者メールアドレス",pt:"Autor Email",zh:"作者邮件",zhTW:"作者電郵"},AuthorName:{en:"Author Name",es:"Nombre del Autor",ja:"作者名",pt:"Nome do Autor",zh:"作者名",zhTW:"作者名"},CommitMessage:{en:"Commit Message",es:"Mensaje de Consigna",ja:"コミットメッセージ",pt:"Mensagem de Submissão",zh:"提交消息",zhTW:"提交訊息"},Username:{en:"Username",es:"Nombre de Usuario",ja:"ユーザー名",pt:"Usuário",zh:"用户名",zhTW:"帳號"}},ErrorMessages:{CannotBeEmpty:i18nTag({en:"Cannot be empty.",es:"No puede estar vacío.",ja:"空にすることはできません",pt:"Não pode estar vazio.",zh:"不能为空",zhTW:"不能為空"}),InvalidCharsFound:e=>i18nTag({en:`Invalid characters: ${e}`,es:`Caracteres inválidos: ${e}`,ja:`無効な文字: ${e}`,pt:`Caracteres inválidos: ${e}`,zh:`无效字符: ${e}`,zhTW:`無效字符: ${e}`}),ExistsFor:e=>i18nTag({en:`${e.en} already exists.`,es:`${e.es} ya existe.`,ja:`${e.ja}は既に存在します`,pt:`${e.pt} já existe.`,zh:`${e.zh}已存在`,zhTW:`${e.zhTW}已經存在`}),InvalidFor:e=>i18nTag({en:`${e.en} is invalid.`,es:`${e.es} no es válida.`,ja:`${e.ja}は無効です。`,pt:`${e.pt} é inválido.`,zh:`${e.zh}无效`,zhTW:`${e.zhTW}無效`}),DecodeError:i18nTag({en:"Decoding Error",es:"Error de Decodificación",ja:"デコードエラー",pt:"Erro na decodificação",zh:"错误解码",zhTW:"錯誤解碼"}),ManualRecoveryRequired:e=>i18nTag({en:`Recovered an unsaveable file to [${e}]. This file cannot be saved, please copy the text to another application to prevent data loss.`,es:`Se recuperó un archivo que no se puede guardar en [${e}]. Este archivo no se puede guardar, copie el texto en otra aplicación para evitar la pérdida de datos.`,ja:`保存できないファイルを [${e}] に復元しました。このファイルは保存できません。データの損失を防ぐため、テキストを別のアプリケーションにコピーしてください。`,pt:`Recuperou um arquivo não salvável para [${e}]. Não é possível salvar este arquivo. Copie o texto para outro aplicativo para evitar a perda de dados.`,zh:`已将无法保存的文件恢复到 [${e}]。无法保存此文件，请复制文本到另一个应用程序以防止数据丢失。`,zhTW:`已將無法保存的文件恢復到 [${e}]。無法保存此文件，請複製文本到另一個應用程序以防止數據丟失。`})}};function i18nAttributes(e){return Object.keys(e).reduce((t,n)=>(t["data-i18n-"+n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()]=e[n],t),{})}function i18nTag(e,t="span"){return e=i18nAttributes(e),`<${t} ${Object.keys(e).reduce((t,n)=>t+`${n}="${e[n]}"`,"")}></${t}>`}function deferLatestToNextAnimationFrame(e,t){var n,i,o,a=0;return function(){return n=this,i=arguments,a++,o||(o=new Promise(t=>{requestAnimationFrame(()=>{a=0,o=null,t(e.apply(n,i))})})),a>=t?o:null}}function LFUCache(e,t){var n=0,i=1,o={},a={};function r(){var e={},r={};n=0,Object.keys(a).forEach(s=>{var l=a[s];l&&l/i>t&&(n++,e[s]=1,r[s]=o[s])}),o=r,a=e,i=1}Object.assign(this,{_cache:o,_hits:a,keys:function(){return Object.keys(o)},get:function(e){var t=++a[e]||void 0;return t&&(i=t>i?t:i)&&o[e]},set:function(t,i){return++n>e&&r(),a[t]=1,o[t]=i},del:function(e){delete o[e],delete a[e],n--},find:function(e){return Object.keys(o).find(t=>o[t]===e)},rename:function(e,t){o[t]=o[e],a[t]=a[e],delete o[e],delete a[e]},clear:function(){n&&(n=0,i=1,o={},a={})}})}function PromisePool({data:e,promiseGenerator:t,maxConcurrency:n=1,retryAttempts:i=0,useRaf:o=!1}){var a=!1,r=0,s=[],l=e.map((function(e){return{failures:0,entry:e}}));return new Promise((function(e,t){for(var i=0;i<n&&c(e,t);i++);}));function c(e,n){if(l.length){var u=l.pop();return r++,t(u.entry).then((function(t){s.push(t),r--,a||(o?requestAnimationFrame(c.bind(this,e,n)):c(e,n))}),(function(t){u.failures<i?(u.failures++,l.push(u),r--,a||(o?requestAnimationFrame(c.bind(this,e,n)):c(e,n))):(a=!0,n(t))})),!0}return!(0===r&&!a)||(e(s),!1)}}define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],(function(e,t,n){"use strict";var i=e("../lib/dom"),o=e("../lib/lang"),a=e("../lib/event"),r=e("../keyboard/hash_handler").HashHandler,s=e("../lib/keys"),l='<div class="ace_search right">    <button action="toggleReplace" class="ace_search_toggle collapse" title="Toggle Replace"></button>    <div class="ace_search_form">      <div class="uk-flex uk-flex-middle uk-flex-space-between">        <div class="uk-flex-item-1">          <button action="findAll" class="ace_icon find-all" title="All (Alt-Enter)"></button>          <button action="toggleRegexpMode" class="ace_icon x-menu-toggle x-outline regex" title="RegExp Search"></button>          <button action="toggleCaseSensitive" class="ace_icon x-menu-toggle x-outline case-sensitive" title="Case-Sensitive Search"></button>          <button action="toggleWholeWords" class="ace_icon x-menu-toggle x-outline whole-word" title="Whole Word Search"></button>        </div>        <button action="hide" class="ace_icon close" title="Close (Esc)"></button>      </div>      <div class="uk-flex">        <div class="uk-flex-item-1">          <input class="uk-input" placeholder="Find" spellcheck="false">          <span class="ace_search_counter"></span>        </div>        <button action="findPrev" class="ace_icon prev" title="Previous (Ctrl-Shift-G)"></button>        <button action="findNext" class="ace_icon next" title="Next (Ctrl-G)"></button>      </div>    </div>    <div class="ace_replace_form uk-flex uk-flex-middle">      <div class="uk-flex-item-1">        <input class="uk-input" placeholder="Replace" spellcheck="false">      </div>      <div action="replaceAndFindNext" class="ace_icon replace" title="Replace"></div>      <div action="replaceAll" class="ace_icon replace-all" title="Replace All"></div>    </div></div>'.replace(/> +/g,">"),c=function(e,t,n){var o=i.createElement("div");o.innerHTML=l,this.element=o.firstChild,this.checkedClass="uk-active",this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(e)};(function(){this.setEditor=function(e){e.searchBox=this,e.renderer.scroller.appendChild(this.element),this.editor=e},this.setSession=function(e){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.replaceOption=e.querySelector("[action=toggleReplace]"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector("input.uk-input"),this.replaceInput=this.replaceBox.querySelector("input.uk-input"),this.searchCounter=e.querySelector(".ace_search_counter")},this.$init=function(){var e=this.element;this.$initElements(e);var t=this;function n(e){e.preventDefault(),e.stopPropagation();var n=(e.target||e.srcElement).getAttribute("action");n&&t[n]?t[n]():t.$searchBarKb.commands[n]&&t.$searchBarKb.commands[n].exec(t)}function i(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&t.focus()}e.addEventListener("click",(function(e){n(e),i(e)})),e.addEventListener("touchstart",n),e.addEventListener("touchend",i),a.addCommandKeyListener(e,(function(e,n,i){var o=s.keyCodeToString(i),r=t.$searchBarKb.findKeyCommand(n,o);r&&r.exec&&(r.exec(t),a.stopEvent(e))})),this.$onChange=o.delayedCall((function(){t.find(!1,!1)})),a.addListener(this.searchInput,"input",(function(){t.$onChange.schedule(20)})),a.addListener(this.searchInput,"focus",(function(){t.activeInput=t.searchInput,t.searchInput.value&&t.highlight()})),a.addListener(this.replaceInput,"focus",(function(){t.activeInput=t.replaceInput,t.searchInput.value&&t.highlight()}))},this.$closeSearchBarKb=new r([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new r,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e.replaceOption.checked=!1,e.$syncOptions(),e.searchInput.focus()},"Ctrl-R|Ctrl-H|Command-Option-F":function(e){e.replaceOption.checked=!0,e.$syncOptions(),e.replaceInput.focus()},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout((function(){e.hide()}))},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}},{name:"toggleReplace",exec:function(e){e.replaceOption.checked=!e.replaceOption.checked,e.$syncOptions()}},{name:"searchInSelection",exec:function(e){e.searchOption.checked=!e.searchRange,e.setSearchRange(e.searchOption.checked&&e.editor.getSelectionRange()),e.$syncOptions()}}]),this.setSearchRange=function(e){this.searchRange=e,e?this.searchRangeMarker=this.editor.session.addMarker(e,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(e){i.setCssClass(this.replaceOption,this.checkedClass,this.searchRange),i.setCssClass(this.replaceOption,this.checkedClass,this.replaceOption.checked),i.setCssClass(this.regExpOption,this.checkedClass,this.regExpOption.checked),i.setCssClass(this.wholeWordOption,this.checkedClass,this.wholeWordOption.checked),i.setCssClass(this.caseSensitiveOption,this.checkedClass,this.caseSensitiveOption.checked),this.replaceBox.style.display=this.replaceOption.checked?"":"none",this.find(!1,!1,e)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t,n){var o=!this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:n,range:this.searchRange})&&this.searchInput.value;i.setCssClass(this.searchBox,"ace_nomatch",o),this.editor._emit("findSearchBox",{match:!o}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var e=this.editor,t=e.$search.$options.re,n=0,i=0;if(t){var o=this.searchRange?e.session.getTextRange(this.searchRange):e.getValue(),a=e.session.doc.positionToIndex(e.selection.anchor);this.searchRange&&(a-=e.session.doc.positionToIndex(this.searchRange.start));for(var r,s=t.lastIndex=0;(r=t.exec(o))&&(n++,(s=r.index)<=a&&i++,!(n>999))&&(r[0]||(t.lastIndex=s+=1,!(s>=o.length))););}this.searchCounter.textContent=i+"/"+(n>999?"999+":n)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var e=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;i.setCssClass(this.searchBox,"ace_nomatch",e),this.editor._emit("findSearchBox",{match:!e}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus(),this.editor._emit("searchBoxClose")},this.show=function(e,t){this.active=!0,this.editor.on("changeSession",this.setSession),this.editor._emit("searchBoxOpen"),this.element.style.display="",this.replaceOption.checked=t,e&&(this.searchInput.value=e),t?(this.replaceInput.focus(),this.replaceInput.select()):(this.searchInput.focus(),this.searchInput.select()),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput}}).call(c.prototype),t.SearchBox=c,t.Search=function(e,t){(e.searchBox||new c(e)).show(e.session.getTextRange(),t)}})),window.require(["ace/ext/searchbox"],(function(){})),m.module("assets").__new__((function(e){e.svgIcons={github:'<svg class="svg-icon" style="width:100%" viewBox="-2 0 20 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z"></path></svg>'}})),m.module("git").def({q:function(){return window.localStorage},K:function(){return ENV.gitConfigPathAsync().then(e=>GFS.readFile(e,{encoding:"utf8"}).then(e=>JSON.parse(e),()=>({})))},Z:function(e){return ENV.gitConfigPathAsync().then(t=>GFS.write(t,JSON.stringify(e)))},Y:function(e){return(e=e.toLowerCase()).startsWith("git@")?e="https://"+e.replace("git@","").replace(":","/"):e.startsWith("ssh://git@")?e="https://"+e.replace("ssh://git@","").replace(":","/"):e.startsWith("ssh://")&&(e="https://"+e.replace("ssh://","").replace(":","/")),PathUtils.hasExt(e,".git")||(e.includes("github.com")||e.includes("gitlab.com")||e.includes("bitbucket.org"))&&(e+=".git"),e=e.replace(/https:\/\/([\w]+)@bitbucket.org/,"https://bitbucket.org")},J:function(e){if(!e)return e;var t=e.match(/git@([A-Za-z0-9-.]+):/);return t?"https://"+t[1]+"/":e},X:function(e){return PathUtils.basename(PathUtils.hasExt(e,".git")?e.slice(0,e.length-4):e)},ee:function(e){var t=new RegExp("https?://([\\w_\\.\\-@:]+)/([\\w_\\.\\-/]+)"),n=e.match(t);return n?{host:this.J(n[1]),repoName:this.X(n[2]),url:e}:null},te:function(e){return this.ne(e).then(e=>!!e.username&&!!e.token)},ne:function(e){var t=this;return t.K().then(n=>{var i=UI.defaults(n,t.q());return{username:i["git.username::"+e]||i["git.username::git"]||"",token:i["git.token::"+e]||i["git.token::git"]||"",email:i["git.email::"+e]||i["git.email::git"]||""}})},ie:function(e,t,n,i){var o=this;return o.K().then(a=>(e?(a["git.username::"+e]=t,a["git.token::"+e]=n,a["git.email::"+e]=i):(a["git.username::git"]=t,a["git.token::git"]=n,a["git.email::git"]=i),o.Z(a)))}}),m.module("dom").def({oe:function(e,t,n,i){return e.slice(0,t)+i+e.slice(n)},ae:function(e){e=e||"";var t=this.se(e,"script"),n=this.le(t,"src"),i=this.se(e,"link");return{scripts:n,links:this.le(i,"href")}},ce:function(e,t,n,i){var o,a,r=e.toLowerCase(),s="<"+t+" ",l="<"+t+">",c="link"==t?"":"</"+t+">",u=r.indexOf(s,0);if(-1==u&&(u=r.indexOf(l,0)),-1!=u&&-1!=u){var h=this.ue(r,u+s.length-1);if(-1!=h){var d=r.substring(u+s.length,h);if(!n||-1!=d.indexOf(n)){var p=r.indexOf(c,h+1);if(-1!=p)return i?(o=h+1,a=p):(o=u,a=p+c.length),{start:o,end:a,html:e.slice(o,a)}}}}},ue:function(e,t){for(var n,i=null,o=t;o<e.length;o++)if(n=e.charAt(o),i)i==n&&(i=null);else if("'"==n||'"'==n)i=n;else if(">"==n)return o;return-1},he:function(e,t,n,i){for(var o,a,r={text:e,removedCount:0},s="",l=0,c=new RegExp(n+"\\s*=\\s*[\"'](.+?)[\"']");l<1e3&&(a=this.ce(e,t,null));)(o=a.html.match(c))&&u(o[1])?(s+=e.slice(0,a.start).replace(/[\s]+$/,""),r.removedCount++):s+=e.slice(0,a.end),e=e.slice(a.end),l++;return s+=e,r.removedCount>0&&(r.text=s),r;function u(e){return m.isFunction(i)?i(e):-1!==i.indexOf(e)}},se:function(e,t){for(var n,i=0,o=[];i<1e3&&(n=this.ce(e,t,null));)o.push(n),e=e.slice(n.end),i++;return o},de:function(e){return e.reduce((function(e,t){return e+t.end}),0)},le:function(e,t){var n=new RegExp(t+"\\s*=\\s*[\"'](.+?)[\"']","i");return e.map((function(e){var t=e.html.match(n);if(t)return t[1]})).filter((function(e){return!!e}))},pe:function(e,t,n,i,o,a){a=a||"";var r={text:e,addedCount:0},s=this.ce(e,t,null,!0);if(!s)return r;var l=e.slice(s.start,s.end),c=this.se(l,n),u=this.de(c),h=this.le(c,i);if(o=o.filter((function(e){return-1===h.indexOf(e)})),r.addedCount=o.length,r.addedCount>0){var d,p=o.reduce((function(e,t){return e+"\n"+a+UI.interpolate("link"==n?'<{{tag}} {{attr}}="{{url}}">':'<{{tag}} {{attr}}="{{url}}"></{{tag}}>',{tag:n,url:t,attr:i})}),""),f=l.match(/[\s]+$/);f=f?f[0].length:0,d=u?s.start+u:s.end-f,r.text=this.oe(e,d,d,p)}return r}}),m.module("lang").__init__((function(e){var t={".js":"javascript",".ts":"typescript",".jsx":"jsx",".tsx":"tsx",".css":"css",".scss":"scss",".sass":"scss",".less":"less",".html":"html",".xhtml":"html",".htm":"html"};e.LanguageServerClient=function(e){this.pending={},this.messageId=0,this.editor=e,this.queuedMessages=[]},e.LanguageServerClient.prototype={$postMessage:function(e,t,n){var i=this;n&&(e.id=++i.messageId,i.pending[i.messageId]=n),t?(e.index=i.$getDocumentIndex(),e.position=i.$getCursorPosition(),i.editor.getCurrentFilePathAsync().then(t=>{e.name=t,e.mode=i.$getModeFromName(t),i.sendToWorker(e)})):(e.mode||(e.mode=i.$getModeFromName(e.name)),i.sendToWorker(e))},sendToWorker:function(e){this.worker?this.worker.postMessage(e):this.queuedMessages.push(e)},$getModeFromName:function(e){return t[PathUtils.ext(e||"")]},$getCursorPosition:function(){var e=this.editor.getCursorPosition();return{line:e.row,character:e.column}},$getDocumentIndex:function(){var e=this.editor.getCursorPosition();return this.editor.getSession().getDocument().positionToIndex(e)},addFile:function(e,t,n){this.$postMessage({type:"add",name:e,text:t},!1,n)},editFile:function(e,t,n,i,o,a){0===this.queuedMessages.length&&this.$postMessage({type:"edit",name:e,version:t,minChar:i,limChar:o,text:n},!1,a)},updateFile:function(e,t,n){0===this.queuedMessages.length&&this.$postMessage({type:"update",name:e,text:t},!1,n)},removeFolder:function(e,t){this.$postMessage({type:"removeFolder",name:e},!1,t)},removeFile:function(e,t){this.$postMessage({type:"remove",name:e},!1,t)},moveFolder:function(e,t,n){this.$postMessage({type:"moveFolder",name:e,newName:t,mode:"all"},!1,n)},moveFile:function(e,t,n,i){this.$postMessage({type:"move",name:e,newName:t,text:n,mode:this.$getModeFromName(t)},!1,i)},setCurrentDirectory:function(e,t){this.$postMessage({type:"setCurrentDirectory",directoryName:e},!1,t)},clearFiles:function(e){this.$postMessage({type:"clear",mode:"javascript"},!1,e),this.$postMessage({type:"clear",mode:"html"},!1,e),this.$postMessage({type:"clear",mode:"css"},!1,e)},getCompleter:function(){var e=this;return{getCompletions:function(t,n,i,o,a){e.getCompletions(t.autoCompleteTriggerCharacter,(function(e){e&&e.completions&&(e.completions.forEach((function(e){e.score=jaroWinkler.distance(o,e.label)})),a(null,e.completions))}))}}},getCompletions:function(e,t){this.$postMessage({type:"completion",triggerCharacter:e},!0,t)},getInfo:function(e){this.$postMessage({type:"info"},!0,e)},goToDefinition:function(e){this.$postMessage({type:"def"},!0,(function(t){t&&t.def&&e(t)}))},getSignature:function(e,t){this.$postMessage({type:"signature",triggerCharacter:e},!0,t)},getRefs:function(e){this.$postMessage({type:"ref"},!0,e)},getRenameLocations:function(e){var t=this.editor.getSession().getDocument();this.$postMessage({types:["rename","renameInfo"]},!0,(function(n){n&&n.rename&&(n.rename.forEach((function(e){var n=e.textSpan;n.startPosition=t.indexToPosition(n.start),n.endPosition=t.indexToPosition(n.start+n.length)})),e(n))}))},getRenameInfo:function(e){this.$postMessage({type:"renameInfo"},!0,e)},start:function(){var e=this;if(!e.worker){var t=e.pending;e.worker=new Worker("./workers/language.worker.js"),e.worker.onmessage=function(n){var i=n.data;"log"==i.type?$LOG.log(i.message):"debug"==i.type?$LOG.debug(i.message):"warn"==i.type?$LOG.warn(i.message):"error"==i.type?$LOG.error(i.message):i.id&&t[i.id]&&(t[i.id](i),delete t[i.id]),e.queuedMessages.length&&(e.queuedMessages.forEach((function(t){e.worker.postMessage(t)})),e.queuedMessages.length=0)},e.worker.onerror=function(e){for(var n in t)t[n](null,e);t={}}}e.stopped=!1},stop:function(){this.worker&&(this.worker.terminate(),this.worker=null,this.stopped=!0)}}})),m.module("history").__new__((function(e){e.HistoryTracker=function(){this.reset()},e.HistoryTracker.prototype={reset:function(){this.current=null,this.undoStack=[],this.redoStack=[]},getLastRedo:function(){return this.redoStack.length?this.redoStack[this.redoStack.length-1]:null},getLastUndo:function(){return this.undoStack.length?this.undoStack[this.undoStack.length-1]:null},truncate:function(e){this.undoStack=this.undoStack.slice(this.undoStack.length-e)},clearRedo:function(){this.redoStack.length=0},push:function(e){this.current&&this.pushUndo(this.current),this.current=e,this.clearRedo()},pushUndo:function(e){return this.undoStack.push(e)},popUndo:function(){return this.undoStack.pop()},pushRedo:function(e){return this.redoStack.push(e)},popRedo:function(){return this.redoStack.pop()},canUndo:function(){return this.undoStack.length>0},canRedo:function(){return this.redoStack.length>0},redo:function(e){var t=this.popRedo();return t&&(e?(this.current&&this.pushUndo(this.current),this.current=t):this.pushUndo(t)),t},undo:function(e){var t=this.popUndo();return t&&(e?(this.current&&this.pushRedo(this.current),this.current=t):this.pushRedo(t)),t}}})),function(e){var t=["Ctrl-p","Ctrl-s","Ctrl-f","Ctrl-g","Ctrl-r","Ctrl-Shift-R","Meta-r","Meta-Shift-R","Meta-q"];e.addEventListener("keydown",(function(e){UI.polyfillKeyboardEvent(e);var n="";e.metaKey&&(n+="Meta-"),e.ctrlKey&&(n+="Ctrl-"),e.shiftKey&&(n+="Shift-"),e.altKey&&(n+="Alt-"),n+=e.key,-1!==t.indexOf(n)&&UI.preventEvent(e)}))}(document),m.module("memory").require("prompt").__init__((function(e,{prompt:t}){var n=window.performance&&window.performance.memory;Object.assign(e,{prompt:t,supported:!!n&&["spck.io","www.spck.io"].includes(window.location.hostname),lowOnMemory:!1,observable:new ObservableClass,memory:n||{totalJSHeapSize:1,usedJSHeapSize:-1,jsHeapSizeLimit:100},CRITICAL_USAGE_LOW_MEMORY:96,ALLOWED_LANGUAGE_SERVICE_INITIAL_FILES_LIMIT:30,ALLOWED_LANGUAGE_SERVICE_INITIAL_SIZE_LIMIT:20971520,LANGUAGE_SERVICE_FILE_SIZE_LIMIT:2097152,EDITOR_FILE_SIZE_LIMIT:5242880})})).def({fe:function(){this.supported&&GA_SendEvent("memory_profile","n/a","mem_used_"+this.me())},me:function(){var e=this.memory;return Math.round(100*e.usedJSHeapSize/e.totalJSHeapSize)},ve:function(){if(this.supported){var e=this.me();e>=this.CRITICAL_USAGE_LOW_MEMORY&&e<100&&(this.ge(),this.fe())}},ge:function(){this.lowOnMemory||(this.lowOnMemory=!0,this.prompt.be("Low Memory Warning","System memory is running low, language service and syntax checking will be disabled."),this.observable.run({lowOnMemory:!0}))},we:function(e){return GFS.size(e).then(e=>e<this.LANGUAGE_SERVICE_FILE_SIZE_LIMIT)},ye:function(e){return e.length<this.LANGUAGE_SERVICE_FILE_SIZE_LIMIT},xe:function(e,t){return Promise.resolve(t&&t.externalContent?t.externalContent.length:GFS.size(e)).then(e=>e<this.EDITOR_FILE_SIZE_LIMIT)}});var ExtensionMimeTypes={".3g2":"video/3gpp2",".3gp":"video/3gpp",".avi":"video/x-msvideo",".flv":"video/x-flv",".h261":"video/h261",".h263":"video/h263",".h264":"video/h264",".jpgm":"video/jpm",".jpgv":"video/jpeg",".jpm":"video/jpm",".m1v":"video/mpeg",".m2v":"video/mpeg",".m4u":"video/vnd.mpegurl",".m4v":"video/mp4",".mj2":"video/mj2",".mjp2":"video/mj2",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".mp4":"video/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".ogv":"video/ogg",".qt":"video/quicktime",".smv":"video/x-smv",".webm":"video/webm",".wm":"video/x-ms-wm",".wmv":"video/x-ms-wmv",".wmx":"video/x-ms-wmx",".aac":"audio/x-aac",".adp":"audio/adpcm",".au":"audio/basic",".flac":"audio/x-flac",".kar":"audio/midi",".m2a":"audio/mpeg",".m3a":"audio/mpeg",".m3u":"audio/x-mpegurl",".m3u8":"application/vnd.apple.mpegurl",".m4a":"audio/mp4",".mid":"audio/midi",".midi":"audio/midi",".mka":"audio/x-matroska",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4a":"audio/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".rmi":"audio/midi",".s3m":"audio/s3m",".snd":"audio/basic",".spx":"audio/ogg",".wav":"audio/x-wav",".weba":"audio/webm",".wma":"audio/x-ms-wma",".xm":"audio/xm",".bmp":"image/bmp",".gif":"image/gif",".ico":"image/x-icon",".jpeg":"image/jpeg",".jpg":"image/jpeg",".jpe":"image/jpeg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".svg":"image/svg+xml",".svgz":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".webp":"image/webp",".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".js":"text/javascript",".sass":"text/x-sass",".scss":"text/x-scss",".styl":"text/x-styl",".txt":"text/plain",".yaml":"text/yaml",".yml":"text/yaml",".md":"text/markdown",".eot":"application/vnd.ms-fontobject",".epub":"application/epub+zip",".gz":"application/x-gzip",".hdf":"application/x-hdf",".json":"application/json",".jsonml":"application/jsonml+json",".latex":"application/x-latex",".mp4s":"application/mp4",".ogx":"application/ogg",".otf":"application/x-font-otf",".pdf":"application/pdf",".ps":"application/postscript",".psf":"application/x-font-linux-psf",".rar":"application/x-rar-compressed",".snf":"application/x-font-snf",".swa":"application/x-director",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tex":"application/x-tex",".tgz":"application/x-gzip",".ttc":"application/x-font-ttf",".ttf":"application/x-font-ttf",".unityweb":"application/vnd.unity",".woff":"application/x-font-woff",".woff2":"application/x-font-woff",".xml":"application/xml",".xsl":"application/xml",".zip":"application/zip"};window.ExtensionMimeTypes=ExtensionMimeTypes,m.module("remote").def({ke:function({url:e,responseType:t,noCache:n}){return new Promise((function(i,o){var a=new XMLHttpRequest;a.open("get",e+(n?`?_=${(new Date).getTime()}`:""),!0),a.responseType=t,a.onload=()=>{if(200===a.status)i(a.response);else if(0===a.status&&a.response)try{JSON.parse(a.response)?i(a.response):o({status:a.status,response:a.response})}catch(e){o({status:a.status,response:a.response})}else o({status:a.status,response:a.response})},a.onerror=e=>{o(e)},a.send()}))},$:function({url:e,responseType:t="text",noCache:n=!0,retryCount:i=0,tries:o=0}){var a=this;return a.ke({url:e,responseType:t}).then(null,(function(r){return o>=i?Promise.reject(r):a.$({url:e,noCache:n,responseType:t,retryCount:i,tries:o+1})}))}});var IDB=new Dexie("ProjectStore");IDB.version(1).stores({projects:"pid, name, hash, repo",files:"id, &path, &fid, type, hash",folders:"id, &path, hash",data:"fid",libraries:"url",sessions:"pid",meta:"key"}),IDB.version(2).stores({projects:"pid",files:"id, &path, &fid",folders:"id, &path",data:"fid",libraries:"url",meta:"key"}).upgrade(e=>Promise.all([e.projects.filter(e=>!e.dir).modify(e=>{var t=e.ref?`${e.pid}:${e.ref.split("/").pop()}`:e.pid;e.olddir=t,e.dir=`${t}/${e.name}`}),e.folders.filter(e=>e.deleted).delete(),e.files.filter(e=>e.deleted).delete(),e.data.filter(e=>"base64"===e.encoding).modify(e=>{e.text=castAsReadableArrayBuffer(Buffer.from(e.text,"base64")),e.encoding="binary"})])),IDB.version(3).stores({files:"id, &path, &fid",folders:"id, &path",data:"fid",meta:"key"});var Buffer=buffer.Buffer,GlobalErrorCodes={ProjectNotFound:"project:404",ProjectNotSaved:"project:424",FileNotFound:"file:404",INodeNotFound:"inode:404",RemoteNotFound:"remote:404",CriticalDeletionError:"delete:500"},{DFS:DFS,GFS:GFS,ENV:ENV,PathUtils:PathUtils,ObservableClass:ObservableClass,DeviceFileSystemClass:DeviceFileSystemClass,GitFileSystemClass:GitFileSystemClass}=function(){const e=console?console.warn:()=>{},t=new LFUCache(800,.8),n=32768,i=16384,o=40960,a=new d,r={isIDB:s,ext:l,hasExt:function(e,t){return e&&l(e)===t},dirname:u,basename:h,join:function(e,t){return null==e||null==t?null:e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")},relativeTo:function(e,t){return t?e.slice(t.length+(t.endsWith("/")?0:1)):e},childOf:function(e,t){return!!e&&(e=c(e),t=c(t),e.startsWith(t+"/")||e===t)},normalizePath:c};return{DFS:a,GFS:new m(a),ENV:new function(e){function t(e){return e=e||"",n().then(t=>`${t||"idb/"}${e}`)}function n(){return new Promise((function(t){e.supported?function t(n,i){i=i||0;try{n(e.getDirectory())}catch(e){i<10?(i++,setTimeout(()=>{$LOG.warn(`Attempting establishing JavaScript bridge (${i}/10)`),t(n,i)},150)):n(null)}}(t):t(null)}))}Object.assign(this,{locale:"en",resource:function(e){if(e){if(AndroidRef&&AndroidRef.getUrlFor&&!s(e)){var t=AndroidRef.getUrlFor(e);return t||`/run${e}`}return`/run/${e}`}return e},projectConfigPathAsync:function(){return t(".projects")},settingsConfigPathAsync:function(){return t(".settings")},gitConfigPathAsync:function(){return t(".gitconfig")},metadataDirAsync:function(e){return t().then(t=>`${t}.metadata/${(e||"").replace(t,"")}`)},trashDirAsync:function(e){return t().then(t=>`${t}.trash/${(e||"").replace(t,"")}`)},tmpDirAsync:function(e){return t().then(t=>`${t}.tmp/${(e||"").replace(t,"")}`)},filesDirAsync:t,systemDirAsync:n})}(a),PathUtils:r,ObservableClass:p,DeviceFileSystemClass:d,GitFileSystemClass:m};function s(e){return e.startsWith("idb/")}function l(e){var t=h(e),n=t.lastIndexOf(".");return-1==n?"":t.substr(n).toLowerCase()}function c(e){var n=t.get(e);if(n)return n;if(e.indexOf("\0")>=0)throw new Error("Path must be a string without null bytes.");if(""===e)throw new Error("Path must not be empty.");return t.set(e,e.split("/").filter((e,t)=>(""!==e||0===t)&&"."!==e).join("/"))}function u(e){var t=e.lastIndexOf("/");return-1===t?".":0===t?"/":e.slice(0,t)}function h(e){var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function d(){var t,n=[],i=Object.create(null);try{t=window.Android||self.Android}catch(t){e(t.message)}function o(e,t){switch(e){case"{}":return Promise.resolve(i);case"[]":return Promise.resolve(n);default:var o=tryParseJSON(e)||{};return t&&Object.assign(o,t),o.status?Promise.reject(o):Promise.resolve(o)}}t?this._supported=!!(t.getDirectory&&t.mkdirp&&t.exists&&t.readFile&&t.remove&&t.readlink&&t.writelink&&t.write&&t.readdir&&t.readdirDeep&&t.lstat&&t.mv&&t.appVersion()>=19):(e("AndroidFileSystem is not operational: interface missing"),this._supported=!1),Object.defineProperty(this,"supported",{get:function(){return this._supported},configurable:!0}),Object.assign(this,{getDirectory:()=>this._directory||(this._directory=t.getDirectory()),readFile:(e,n)=>o(t.readFile(e,n),{ext:l(e),encoding:n}).then(({contents:e})=>"utf8"===n?e:Buffer.from(e,"base64")),remove:e=>e===this._directory?Promise.reject({source:"DeviceFileSystemClass",fn:"remove",message:"Critical deletion error.",code:GlobalErrorCodes.CriticalDeletionError}):o(t.remove(e)),readlink:e=>o(t.readlink(e)).then(({contents:e})=>e),writelink:(e,n)=>o(t.writelink(e,n),{ext:l(e),link:!0}),write:(e,n,i)=>o(t.write(e,n,!!i),{ext:l(e),base64:!!i}),exists:e=>Promise.resolve(t.exists(e)),mkdirp:e=>o(t.mkdirp(e)).then(({contents:e})=>e),readdir:e=>o(t.readdir(e)).catch(()=>null),readdirDeep:(e,n,i)=>o(t.readdirDeep(e,n,i)),lstat:function(e){return o(t.lstat(e)).then(e=>new f(function(e){var t=e.st_mtime||e.mtimeMs,n=e.st_ctime||e.ctimeMs,i=e.st_atime||e.atimeMs;return Object.assign(e,{mtimeMs:1e3*t,ctimeMs:1e3*n,atimeMs:1e3*i}),e}(e)),()=>null)},mv:function(e,n){return o(t.mv(e,n)).then(({contents:e})=>e)},writeExternal:function(e,n,i){if(t&&t.writeExternal)return o(t.writeExternal(e,n,!!i),{base64:!!i,external:!0})}}),this._supported||e("AndroidFileSystem is not operational: interface mismatch")}function p(){var e=[];Object.assign(this,{subscriptions:e,subscribe:function(t){return e.push(t),{unsubscribe:()=>{e.includes(t)&&e.splice(e.indexOf(t),1)}}},run:function(t){return Promise.all(e.map(e=>e(t)))}})}function f({size:e,mode:t,atimeMs:a=null,mtimeMs:r,ctimeMs:s}){var l=0;"number"!=typeof a&&(a=l=Date.now()),"number"!=typeof r&&(r=l=l||Date.now()),"number"!=typeof s&&(s=l=l||Date.now());var c=this;Object.assign(c,{size:e,atimeMs:a,ctimeMs:s,mtimeMs:r,isFile:function(){return(61440&c.mode)===n},isDirectory:function(){return(61440&c.mode)===i},isSymbolicLink:function(){return(61440&c.mode)===o},chmod:function(e){this.mode=61440&c.mode|e},toBuffer:function(){var e=Buffer.alloc(32);return e.writeUInt32LE(c.size,0),e.writeUInt32LE(c.mode,4),e.writeDoubleLE(c.atime.getTime(),8),e.writeDoubleLE(c.mtime.getTime(),16),e.writeDoubleLE(c.ctime.getTime(),24),e},uid:0,gid:0,ino:0,mode:function(e){var t=e>0?e>>12:0;4!==t&&8!==t&&10!==t&&14!==t&&(t=8);var n=511&e;n=73&n?493:420;8!==t&&(n=0);return(t<<12)+n}(t)}),Object.defineProperties(c,{atime:{get:()=>new Date(c.atimeMs)},mtime:{get:()=>new Date(c.mtimeMs)},ctime:{get:()=>new Date(c.ctimeMs)}})}function m(e){var t=IDB,n=new LFUCache(9e3,0),i=new LFUCache(50,.5),a=new LFUCache(500,.5),r=new LFUCache(50,.5),l=new p;function h(e){return t.folders.get({path:e}).then(t=>t||_(e).then(t=>{if(t&&t!==e)return h(t)}))}function d(e){return t.files.get({path:e}).then(e=>e&&e.target?d(e.target):e)}function m(o,p,f={}){return o=c(o),p=c(p),o===p?Promise.resolve():(i.clear(),a.del(o),a.del(u(o)),r.keys().filter(e=>e.startsWith(o)||e.startsWith(e)).forEach(e=>r.del(e)),(e.supported&&!s(o)?e.mv(o,p):d(o).then(e=>{if(e){var n=Date.now();return g(u(p)).then(()=>t.files.update(e.id,{path:p,mtimeMs:n})).then(()=>"file")}return h(o).then(e=>{if(e){var n=Date.now();return Promise.all([g(u(p)),t.files.where("path").startsWith(o+"/").modify(e=>{e.path=p+e.path.slice(o.length),e.mtimeMs=n}),t.folders.where("path").startsWith(o+"/").modify(e=>{e.path=p+e.path.slice(o.length),e.mtimeMs=n}),t.folders.update(e.id,{path:p,mtimeMs:n})]).then(()=>"folder")}})})).then(e=>{if("file"===e)n.rename(o,p);else if("folder"===e){var t=o+"/";n.keys().filter(e=>e.startsWith(t)).forEach(e=>{n.rename(e,e.replace(o,p))})}if(e){var{updateStatus:i}=f;return l.run({action:"mv",updateStatus:i,oldpath:o,path:p,type:e}).then(()=>({oldpath:o,path:p,type:e}))}}))}function v(n,i={}){n=c(n);var o=i.encoding;return e.supported&&!s(n)?e.readFile(n,o):d(n).then(e=>e?t.data.get(e.fid).then(e=>{var t=e&&e.text||"",n=e&&e.encoding||"";return n?"utf8"===o&&"utf8"===n?t:o?Buffer.from(t,n).toString(o):Buffer.from(t,n):"utf8"===o?t:o?Buffer.from(t).toString(o):Buffer.from(t)}):Promise.reject({source:"GitFileSystemClass",fn:"read",message:"Could not find file.",filepath:n,code:GlobalErrorCodes.FileNotFound}))}function g(n){var o;if(n=c(n),e.supported&&!s(n))o=e.mkdirp(n);else{var r=n.split("/").map((e,t,n)=>n.slice(0,t+1).join("/"));o=t.folders.where("path").anyOf(r).keys(e=>{var n=r.filter(t=>!e.includes(t));return n.length>0&&function(e){var n=Date.now(),i=e.map(e=>({id:A(),path:e,mtimeMs:n,ctimeMs:n}));return t.folders.bulkAdd(i)}(n)})}return o.then(e=>{if(e)return i.clear(),n.split("/").slice(0,-1).forEach((e,t,n)=>{a.del(n.slice(0,t+1).join("/"))}),l.run({action:"mkdir",path:n,type:"folder"})})}function b(n,o,h){n=c(n),o=o||"";var{mode:p,target:f,updateStatus:m,skipLanguageService:v}=h||{};return g(u(n)).then(()=>{i.clear(),a.del(u(n)),r.del(n);var c,h=(c=o)instanceof ArrayBuffer||c&&c.buffer instanceof ArrayBuffer&&void 0!==c.byteLength;return(e.supported&&!s(n)?e.write(n,h?Buffer.from(o).toString("base64"):o,h):d(n).then(e=>{var i=Date.now(),a=e?e.id:A(),r=e?e.ctimeMs:i,s=h?castAsReadableArrayBuffer(o):o,l={id:a,fid:a,path:n,mode:p,target:f,ctimeMs:r,mtimeMs:i,size:s.byteLength||s.length};return t.files.put(l).then(()=>{var e={fid:a,text:s,encoding:h?"binary":"utf8"};return t.data.put(e).then(()=>l)})})).then(({mtimeMs:e,size:t,mode:i})=>l.run({action:"write",path:n,type:"file",updateStatus:m,skipLanguageService:v}).then(()=>({mode:i,mtimeMs:e,type:"file",ino:0,size:t})))})}function w(o,h={}){var{tmpDir:d,updateStatus:p}=h,f=(o=c(o))+"/";if(n.keys().filter(e=>e.startsWith(f)).forEach(e=>n.del(e)),d)return m(o,d+o,{updateStatus:p});var v=e.supported&&!s(o)?e.remove(o):Promise.all([t.folders.where("path").equals(o).delete(),t.files.where("path").startsWith(f).delete(),t.folders.where("path").startsWith(f).delete()]);return a.del(o),a.del(u(o)),i.clear(),r.keys().filter(e=>e.startsWith(f)).forEach(e=>r.del(e)),v.then(()=>l.run({action:"rmdir",updateStatus:p,oldpath:o,path:null,type:"folder"})).then(()=>x(o,"folder"))}function y(n){return e.supported&&!s(n)?k(n).then(e=>e?e.length:null):t.files.where("path").startsWith(c(n)+"/").count()}function x(e,t){var n=u(e);return"."===n||""===n?Promise.resolve({oldpath:e,path:null,type:t}):y(n).then(i=>0===i?w(n):{oldpath:e,path:null,type:t})}function k(n){n=c(n);var i=a.get(n);return void 0!==i?Promise.resolve(i):e.supported&&!s(n)?e.readdir(n).then(e=>(e&&e.sort(I),a.set(n,e))):h(n).then(e=>{if(e){var i=e.path+"/",o=i.length;return Promise.all([t.folders.where("path").startsWith(i).filter(e=>!e.path.slice(o).includes("/")).keys(),t.files.where("path").startsWith(i).filter(e=>!e.path.slice(o).includes("/")).keys()]).then(([e,t])=>{var i=e.concat(t).map(e=>e.slice(o));return i.sort(I),a.set(n,i)})}return a.set(n,null)})}function S(n){n=c(n);var i=r.get(n);return void 0!==i?Promise.resolve(i):e.supported&&!s(n)?e.lstat(n).then(e=>r.set(n,e)):t.files.get({path:n}).then(e=>e?e.target?r.set(n,new f({size:e.size||0,mode:FileTypeModes.SYMLINK,mtimeMs:e.mtimeMs,ctimeMs:e.ctimeMs})):r.set(n,new f({size:e.size||0,mode:FileTypeModes.FILE,mtimeMs:e.mtimeMs,ctimeMs:e.ctimeMs})):t.folders.get({path:n}).then(e=>e?r.set(n,new f({size:0,mode:FileTypeModes.DIRECTORY,mtimeMs:e.mtimeMs,ctimeMs:e.ctimeMs})):r.set(n,null)))}function _(n){return n=c(n),e.supported&&!s(n)?Promise.resolve(e.readlink(n)):t.files.get({path:n}).then(e=>e&&e.target||null)}function A(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function I(e,t){return-(e<t)||+(e>t)}Object.assign(this,{read:function(e,t={}){return v(e,t).catch(()=>null)},readFile:v,rmdir:w,rm:function(o,h={}){var{tmpDir:d,updateStatus:p}=h;return o=c(o),d?m(o,`${d}${o}~${A()}`,{updateStatus:p}):(i.clear(),(e.supported&&!s(o)?e.remove(o).then(e=>(a.del(u(o)),a.del(o),r.clear(),e)):t.files.get({path:o}).then(e=>{if(e)return a.del(u(o)),r.del(o),Promise.all([t.files.delete(e.id),t.data.delete(e.fid)]).then(()=>!0)})).then(e=>{if(e){n.del(o);return l.run({action:"rm",updateStatus:p,oldpath:o,path:null,type:"file"}).then(()=>x(o,"file")).then(()=>({oldpath:o,path:null,type:"file"}))}return w(o,{updateStatus:p})}))},readlink:_,readdir:k,readdirDeep:function(n,o){var{files:a=!0,folders:r=!1,relative:l=!1}=o||{},u=(n=c(n))+"/",h=u.length,d=`(dirname=${n},files=${a},folders=${r},relative=${l})`,p=i.get(d);return p?Promise.resolve(p):(e.supported&&!s(n)?e.readdirDeep(n,a,r):Promise.all([r?t.folders.where("path").startsWith(u).keys():[],a?t.files.where("path").startsWith(u).keys():[]]).then(([e,t])=>e.concat(t))).then(e=>i.set(d,l?e.map(e=>e.slice(h)):e))},lstat:S,exists:function(t){return t=c(t),e.supported&&!s(t)?Promise.resolve(e.exists(t)):d(t).then(e=>!!e||h(t).then(e=>!!e))},writelink:function(t,n){t=c(t);var l=n.toString("utf8");if(i.clear(),a.del(u(t)),r.del(t),e.supported&&!s(t))return g(u(t)).then(()=>e.writelink(t,l));return b(t,"",{target:l,mode:o}).then(({mode:e,mtimeMs:t})=>({mode:e,type:"symlink",target:l,size:0,mtimeMs:t}))},write:b,mkdir:g,size:function(e){return S(e).then(e=>e&&e.size||0)},mv:m,migrate:function(e,n,i){return e=c(e),n=c(n),t.files.where("path").startsWith(e+"/").toArray().then(o=>{var a=o.length,r=0;return PromisePool({data:o,promiseGenerator:function(o){return t.data.get(o.fid).then(t=>{if(o&&o.path)return b(o.path.replace(e,n),t.text).then(()=>{i({loaded:r+=1,total:a,phase:"Migrating files"})})})},maxConcurrency:6,retryAttempts:0,useRaf:!0})})},fileCount:y,inode:function(e,t){return Promise.resolve(!t&&n.get(e)||n.set(e,A()))},inodePath:function(e){var t=n.find(e);return t?Promise.resolve(t):Promise.reject({source:"GitFileSystemClass",fn:"inodePath",message:"Could not find inode.",inode:e,code:GlobalErrorCodes.INodeNotFound})},inodePathSync:function(e){return n.find(e)},observable:l,isBinaryContent:function(e){return Buffer.from(e.slice(0,8e3)).some(e=>0===e)},writeExternal:function(t,n,i){return e.supported&&e.writeExternal(t,n,i)},saveBase64:function(e,t){AndroidRef&&AndroidRef.saveBase64?AndroidRef.saveBase64(Buffer.from(t).toString("base64"),e):saveAs(new Blob([t]),e)},uuid4:A})}}(),FileTypeModes={FILE:33188,DIRECTORY:16384,SYMLINK:40960};function tryParseJSON(e){try{return JSON.parse(e)||null}catch(e){return null}}function castAsReadableArrayBuffer(e){if(e instanceof ArrayBuffer)return e;if(e instanceof Uint8Array)return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if(Buffer.isBuffer(e))return e.buffer;throw new Error("Argument type not recognized: "+typeof e)}function GA_SendEvent(e,t,n,i){try{window.gtag&&t&&e&&window.navigator&&navigator.onLine&&window.gtag("event",e,{event_category:t,event_label:n,value:i})}catch(e){}}function GA_SendEvent_Success(e,t,n,i){return function(o){return GA_SendEvent(e+"_s",t,n,i),o}}function GA_SendEvent_Failure(e,t){return function(n){var i="";try{var o=window.$version;n&&(i=`${o}_${e}_${"string"==typeof n.message?n.message:n}`)}catch(e){}return GA_SendEvent(e+"_f",t+"_f",i),Promise.reject(n)}}window.GitStatusTypes={EMPTY:0,SAME:1,IGNORED:2,ADDED:4,CHANGED:8,CONFLICT:16,DELETED:32,STAGED:64},m.module("metadata").require("session","gitClient","path","set").__init__((e,{session:t,gitClient:n,path:i,set:o})=>{Object.assign(e,{gitClient:n,session:t,path:i,set:o,observable:new ObservableClass,_cache:{}}),t.observable.subscribe(e.Se.bind(e)),GFS.observable.subscribe(e._e.bind(e))}).def({Se:function({action:e,projectDir:t}){var n=this;switch(e){case"syncGit":return n.Ae(),n.Ie(t).then(()=>n.Ce())}},D:function(e){var t=this;return t.Ae(),Promise.resolve(e.git&&e.dir&&t.Ee().then(n=>n?t.$e():t.Ie(e.dir).then(()=>t.Ce())))},_e:function({action:e,oldpath:t,path:n,type:i,updateStatus:o}){if(o&&n){var a=this.session.Re();if(a&&a.dir&&a.git&&!this.path.Te(n)){var r=a.dir;return Promise.all([PathUtils.childOf(n,r)&&this.ze(e,i,n,r),PathUtils.childOf(t,r)&&this.ze(e,i,t,r)])}}},ze:function(e,t,n,i){switch(e){case"write":return this.Fe(n,i);case"mv":if(n===i)break;case"rm":case"rmdir":if("folder"===t)return this.Ie(n);if("file"===t)return this.Fe(n,i)}},Ie:function(e){var t=this;if(!e)return Promise.resolve();var n=t.session.je();return Promise.all([t.gitClient.Pe(n).then(e=>e.map(e=>`${n}/${e}`)),t.Oe().map(e=>e.path),GFS.readdirDeep(e)]).then(([i,o,a])=>{var r=t.path.Te,s=e+"/",l=t.set.Ue(e===n?i:i.filter(e=>e.startsWith(s)),e===n?o:o.filter(e=>e.startsWith(s)),a).filter(e=>!r(e));return Promise.all(l.map(e=>t.Fe(e,n)))})},Fe:function(e,t){var n=this,{mtimeMs:i,status:o}=n.Ne(e);return Promise.resolve(0===i||GFS.lstat(e).then(e=>!e||e.mtimeMs>i)).then(i=>{if(i){var a=PathUtils.relativeTo(e,t);return n.gitClient.Be(t,a).then(t=>{$LOG.log(`[git:status] ${t}: ${a}`),o=n.Le(t),n.Ge(e,{status:o})})}}).then(()=>n.observable.run({action:"updateStatus",path:e,status:o}))},Ae:function(){this._cache={},$LOG.log("[metadata]: clear cache")},Ne:function(e){return this._cache[e]||{mtimeMs:0}},Ge:function(e,t){var n=this._cache[e]=this._cache[e]||{};return Object.assign(n,t),n.mtimeMs=Date.now(),n},Ee:function(){return ENV.metadataDirAsync(this.session.je()).then(e=>GFS.exists(e))},$e:function(){var e=this,t=e.session.je();return ENV.metadataDirAsync(t).then(n=>GFS.readFile(n,{encoding:"utf8"}).then(n=>(e._cache=tryParseJSON(n)||{},e.Ie(t))))},Oe:function(){var{SAME:e,IGNORED:t}=GitStatusTypes,n=e|t,i=this._cache;return Object.keys(i).map(e=>({path:e,status:i[e].status})).filter(e=>e.status&&!(e.status&n))},Ce:function(){var e=this._cache;return ENV.metadataDirAsync(this.session.je()).then(t=>GFS.write(t,JSON.stringify(e),{updateStatus:!0}))},Le:function(e){var{EMPTY:t,CONFLICT:n,STAGED:i,SAME:o,DELETED:a,IGNORED:r,ADDED:s,CHANGED:l}=GitStatusTypes,c=t;switch(e.includes("!")&&(c|=n),e.includes("*")||(c|=i),e=e.replace(/[*!]/g,"")){case"absent":case"unmodified":c|=o;break;case"deleted":c|=a;break;case"ignored":c|=r;break;case"added":c|=s;break;case"modified":c|=l}return c}}),m.module("model").__init__((function(e){Object.assign(e,{observable:new ObservableClass})})).def({M:function(e){return IDB.meta.where("key").equals(e).first().then(e=>e&&e.value)},Me:function(e,t){return IDB.meta.put({key:e,value:t})},De:function(e){return ENV.projectConfigPathAsync().then(t=>GFS.write(t,JSON.stringify(e)))},We:function(){return ENV.projectConfigPathAsync().then(e=>GFS.readFile(e,{encoding:"utf8"}).then(e=>JSON.parse(e)))},Ve:function(e,t){t.modifiedAt=Date.now();var n=this;return n.He().then(i=>{var o=i.find(t=>t.dir===e)||(i[i.length]={dir:e});return Object.assign(o,t),n.De(i).then(()=>n.observable.run({action:"update",dir:e,changes:t,project:o,type:"project"}))})},qe:function(e){return this.He().then(t=>{for(var n=t.map(e=>e.dir),i=1,o=e;n.includes(o);)o=`${e} ${i}`,i++;return o})},j:function(e){return this.He().then(t=>t.find(t=>t.dir===e)||Promise.reject({source:"model.module",fn:"pvGetProjectAsync",message:"Project not found: "+e,dir:e,code:GlobalErrorCodes.ProjectNotFound}))},F:function(e){return this.j(e).then(({dir:e})=>Promise.all([GFS.rmdir(e),ENV.trashDirAsync(e).then(e=>GFS.rmdir(e)),ENV.metadataDirAsync(e).then(e=>GFS.rmdir(e))]).then(()=>this.observable.run({action:"delete",dir:e,type:"project"})).then(()=>Promise.all([IDB.data.toCollection().primaryKeys(),IDB.files.orderBy("fid").uniqueKeys()]).then(([e,t])=>{var n=e.filter(e=>!t.includes(e));if(n.length)return IDB.data.bulkDelete(n)})))},He:function(){const e=e=>GFS.readdir(e).then(t=>t?t.map(t=>PathUtils.join(e,t)):[],()=>[]);return ENV.systemDirAsync().then(t=>Promise.all([t?e(t):[],e("idb"),this.We().catch(()=>[])]).then(([e,t,n])=>{const i=n.reduce((e,t)=>(t.dir&&(e[t.dir]=t),e),{}),o=[".projects",".settings",".tmp",".metadata",".gitconfig",".trash"];return e.concat(t).filter(e=>!o.includes(PathUtils.basename(e))).map(e=>i[e]||{dir:e,modifiedAt:Date.now()})}))},T:function(e){if("RISKY_STUFF"===e)return Promise.all([IDB.files.clear(),IDB.folders.clear(),IDB.data.clear(),IDB.meta.clear()]).then(()=>Promise.all([ENV.projectConfigPathAsync().then(e=>GFS.rm(e)),ENV.settingsConfigPathAsync().then(e=>GFS.rm(e)),ENV.trashDirAsync().then(e=>GFS.rmdir(e)),ENV.metadataDirAsync().then(e=>GFS.rm(e))])).then(()=>this.observable.run({action:"delete",type:"projects"}))}}),m.module("session").require("model","progress","prompt","gitClient","zipper").__init__((function(e,{model:t,gitClient:n,progress:i,prompt:o,zipper:a}){Object.assign(e,{model:t,gitClient:n,progress:i,prompt:o,zipper:a,observable:new ObservableClass,_project:null}),t.observable.subscribe(({type:t,project:n,action:i,dir:o})=>{switch(t){case"project":if(e.Ke(o))switch(i){case"delete":return e.W();case"update":return e.Qe(n)}break;case"projects":if("delete"===i)return e.W()}})})).def({Ke:function(e){return this.je()===e},Ze:function({phase:e,loaded:t,total:n}){var i=`${e} (${t}/${n})`,o=t/n*100;this.progress.Ye(i,o),t===n&&this.progress.Je()},Re:function(){return this._project},je:function(){var e=this._project;return e&&e.dir},W:function(){var e=this;return e.Qe(null).then(()=>e.model.Me("currentProjectDir",null)).then(()=>e.observable.run({action:"close"}))},Qe:function(e){var t=this,n=e&&e.dir;return(n?GFS.exists(PathUtils.join(n,".git/config")).then(t=>Object.assign(e,{git:t})).then(()=>t.model.Me("currentProjectDir",n)):Promise.resolve()).then(()=>(t._project=e,t.observable.run({action:"setProject",project:e})))},Xe:function(e){return this.observable.run({action:"syncGit",projectDir:e})},et:function(){var e=this;return new Promise((function(t,n){e.prompt.V(RES_I18N.Actions.Migrate(RES_I18N.Objects.Project),null,{message:{en:"Do you wish to migrate your project to Android Filesystem? Highly recommended to backup your project first."},onResult:function(){t()},onDismiss:function(){n()}})}))},tt:function(){var e=this;return new Promise((function(t,n){e.prompt.V({en:"REVERT MIGRATION",es:"REVERTIR LA MIGRACIÓN",ja:"移行を元に戻す",pt:"REVERTIR A MIGRAÇÃO",zh:"永不迁移",zhTW:"永不遷移"},null,{message:{en:"System detected a migration error occurred with this project, do you wish to revert the migration?"},onResult:function(){t()},onDismiss:function(){n()}})}))},D:function(e){var t=this;return t.model.j(e).then(n=>{var{olddir:i}=n,o=PathUtils.basename(e)||"Unknown";return ENV.filesDirAsync().then(a=>t.model.qe(`${a}${o}`).then(o=>{if(!PathUtils.isIDB(o)){if(i&&(e=i),PathUtils.isIDB(e))return AndroidRef&&AndroidRef.canAccessIDB&&!AndroidRef.canAccessIDB()?(t.prompt.be("Cannot access IndexedDB","Editor loaded off-domain due to a bad internet connection and temporarily cannot access IndexedDB projects. Please connect to another network or disconnect completely and then restart the editor."),Promise.reject({source:"session.module",fn:"pvOpenProjectAsync"})):t.et().then((function(){return $LOG.log(`Migrating '${e}' to '${o}'`),GFS.migrate(e,o,t.Ze.bind(t)).catch(e=>(t.prompt.be(RES_I18N.Actions.Failed(RES_I18N.Actions.Migrate(RES_I18N.Objects.Project)),e&&e.message||"Migration failed for an unknown reason. Please recreate the project to migrate."),t.progress.Je(),Promise.reject(e))).then(()=>t.model.Ve(e,{dir:o,olddir:null})).then(GA_SendEvent_Success("migrate_3","app"),GA_SendEvent_Failure("migrate_3","app")).then(()=>t.model.j(o))}),(function(){return t.zipper.nt(e),n}));var r=e.replace(a,"idb/");return Promise.all([GFS.fileCount(e),GFS.fileCount(r)]).then(([e,i])=>0===e&&i?t.tt().then(()=>t.model.Ve(a,{dir:r,olddir:null})).then(GA_SendEvent_Success("revert_migrate","app"),GA_SendEvent_Failure("revert_migrate","app")).then(()=>t.model.j(r)):n)}return i?GFS.mkdir(i).then(()=>GFS.mv(i,o)).then(()=>t.model.Ve(e,{dir:o,olddir:null})).then(()=>t.model.j(o)):n}))}).then(e=>t.Qe(e).then(()=>this.observable.run({action:"open",project:e})))}}),m.module("share").require("prompt").__init__((function(e,{prompt:t}){Object.assign(e,{prompt:t});var n="abcdefghijklmnopqrstuvwxyz";e.maxSize=16384,e.base=n+n.toUpperCase(),e.baseCharCodes=new Uint8Array(e.base.split("").map(e=>e.charCodeAt(0)))})).def({it:function(){$$("shareLinkInput").element.select(),document.execCommand("copy")},ot:function(e){var t=this;return GFS.lstat(e).then(n=>{if(n){if(n.size<t.maxSize)return t.at(e).then(e=>{$$("shareLinkInput").setValue(e),t.modal.open(),GA_SendEvent("share_link","n/a")}).catch(e=>{t.prompt.be(e.name||RES_I18N.ErrorMessages.DecodeError,e.message||String(e))});t.prompt.be("Size Exceeded","Could not share file because it exceeds the 16 kB limit.")}else t.prompt.be("Missing File","Could not share file because it does not exist.")})},at:function(e){return GFS.readFile(e).then(t=>`https://spck.io/?fileName=${encodeURIComponent(PathUtils.basename(e))}&fileContent=${this.rt(t)}`)},rt:function(e){var t=new zip.Deflater;t.append(e);var n=t.flush(),i=this.base;return n.reduce((e,t)=>e+i[Math.floor(t/5)]+(t%5||""),"")},st:function(e){for(var t,n,i=new Uint8Array(e.length),o=0,a=0,r=this.baseCharCodes;a<e.length;){if(!(65<=(t=e.charCodeAt(a))&&t<=122&&(t<=90||t>=97)))throw new Error("Decoding error occurred with corrupted url.");48<=(n=e.charCodeAt(a+1))&&n<=57?(i[o]=5*r.indexOf(t)+n-48,a+=2,o++):(i[o]=5*r.indexOf(t),a++,o++)}var s=new zip.Inflater,l=Buffer.from(castAsReadableArrayBuffer(s.append(i.slice(0,o))));return s.flush(),l}}),m.module("share").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:RES_I18N.Elements.ShareLink,collapsable:!1}]},body:{flexLayout:"column",cells:[{margin:"y-sm",view:"label",label:"The url below is self-contained and can be accessed without an internet connection if you downloaded the app."},{cls:"uk-form",flexAlign:"middle",cells:[{id:"shareLinkInput",view:"input",flexSize:"flex",autocapitalize:"off",autocorrect:"off",spellcheck:"false",readonly:!0},{view:"menuIcon",icon:"copy",title:"Copy Link",margin:"x-sm",flexSize:"none",on:{onClick:function(){e.it()}}}]}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"shareCancelButton",view:"button",label:RES_I18N.Elements.Cancel,on:{onClick:function(){e.modal.close()}}}]}},document.getElementById("appContainer"))})),m.module("templates").__new__((function(e){e.frameworks={js:{angular:{name:"Angular",info:"Learn one way to build applications with Angular and reuse your code and abilities to build apps for any deployment target.",templates:[{path:"index.html",src:"index.html"},{path:"systemjs.config.js",src:"angular-systemjs.config.js",include:!0},{path:"app.ts",src:"angular-app.ts"},{path:"main.ts",src:"angular-main.ts"},{path:"app.html",src:"angular-app.html"}],scripts:["//unpkg.com/core-js@2.5.7/client/shim.min.js","//unpkg.com/zone.js@0.8.26?main=browser","//unpkg.com/zone.js@0.8.26/dist/long-stack-trace-zone.js","//unpkg.com/reflect-metadata@0.1.8","//unpkg.com/systemjs@0.19.47/dist/system.js"],body:"<my-app>Loading...</my-app>",defaultFile:"app.ts"},angularjs:{name:"AngularJS",info:"AngularJS is what HTML would have been, had it been designed for building web-apps.",templates:[{path:"index.html",src:"index.html"},{path:"index.js",src:"angularjs-index.js",include:!0}],bodyTemplate:"angularjs-body.html",scripts:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/angular@1.7.3/angular.min.js"],defaultFile:"index.js"},d3:{name:"D3",info:"Library for visualizing data using web standards. D3 helps you bring data to life using SVG, Canvas and HTML.",templates:[{path:"index.html",src:"index.html"},{path:"index.js",src:"d3-index.js",include:!0},{path:"style.css",src:"d3-style.css",stylesheet:!0}],scripts:["https://cdn.jsdelivr.net/npm/d3@5.5.0/dist/d3.min.js"],defaultFile:"index.js"},html:{name:"HTML",info:"Just a simple plain HTML page.",templates:[{path:"index.html",src:"index.html"},{path:"main.js",src:"main.js",include:!0},{path:"style.css",src:"style.css",stylesheet:!0}],body:"<p>Nothing to see here...</p>",scripts:[],defaultFile:"main.js"},react:{name:"React",info:"React will efficiently update and render just the right components when your data changes.",scripts:["//unpkg.com/systemjs@0.19.47/dist/system.js"],templates:[{path:"index.html",src:"index.html"},{path:"config.js",src:"react-config.js",include:!0},{path:"app.jsx",src:"react-app.jsx"}],body:'<div id="react-app"></div>',defaultFile:"app.jsx"},vue:{name:"Vue.js",info:"A progressive framework for building user interfaces. (Vue files are not supported.)",templates:[{path:"index.html",src:"index.html"},{path:"app.js",src:"vue-app.js",include:!0}],scripts:["https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.min.js"],bodyTemplate:"vue-body.html",defaultFile:"app.js"}},css:{bootstrap:{name:"Bootstrap",info:"Bootstrap, a sleek, intuitive, and powerful mobile first front-end framework for faster and easier web development.",classes:{container:"container text-center",heading:"h2",text:"lead"},links:["https://cdn.jsdelivr.net/npm/bootstrap@4.1.2/dist/css/bootstrap.min.css"],scripts:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/bootstrap@4.1.2/dist/js/bootstrap.min.js"]},mdl:{name:"Material Design Lite",info:"A front-end template that helps you build fast, modern mobile web apps.",classes:{container:"mdl-grid mdl-typography--text-center",heading:"mdl-layout-title mdl-cell--12-col",text:"mdl-cell--12-col"},links:["//fonts.googleapis.com/icon?family=Material+Icons","https://cdn.jsdelivr.net/npm/material-design-lite@1.3.0/dist/material.indigo-pink.min.css"],scripts:["https://cdn.jsdelivr.net/npm/material-design-lite@1.3.0/dist/material.min.js"]},semantic_ui:{name:"Semantic UI",info:"Semantic is a UI component framework based around useful principles from natural language.",classes:{container:"ui container",heading:"header",text:"text"},links:["https://cdn.jsdelivr.net/npm/semantic-ui@2.4.1/dist/semantic.min.css"],scripts:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/semantic-ui@2.4.1/dist/semantic.min.js"]},bulma:{name:"Bulma",info:"A lightweight and modular front-end framework for developing fast and powerful web interfaces.",classes:{container:"container",heading:"title",text:"subtitle"},links:["https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.min.css"],scripts:["https://use.fontawesome.com/releases/v5.3.1/js/all.js"]},uikit:{name:"UIkit",info:"A lightweight and modular front-end framework for developing fast and powerful web interfaces.",classes:{container:"uk-container uk-text-center",heading:"uk-text-lead",text:"uk-text-meta"},links:["https://cdn.jsdelivr.net/npm/uikit@3.0.0-rc.11/dist/css/uikit.min.css"],scripts:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/uikit@3.0.0-rc.11/dist/js/uikit.min.js"]}}},e.quotes=["Hard work pays off in the future. Laziness pays off now.","A closed mouth gathers no foot.","A dog is a dog unless he is facing you. Then he is Mr. Dog.","A neat desk is a sign of a cluttered desk drawer.","A sine curve goes off to infinity, or at least to the end of the blackboard.","Artificial intelligence is no match for natural stupidity.","Caution: do not look into laser with remaining eye.","Change is inevitable, except from a vending machine.","Democracy is four wolves and a lamb voting on what to have for lunch.","Diplomacy is the art of saying 'good doggie' while looking for a bigger stick.","Don't personify computers - we don't like it.","Do not worry about the world ending today, it's already tomorrow in Australia","Experience is something you get just after you need it.","Give a man a fish and you feed him for a day. Teach a man to fish, and you can sell him some tackle.","Happiness makes up in height what it lacks in length.","As a computer, I find your faith in technology amusing.","If it weren't for the last minute, nothing would get done.","My favourite scientific theory is that the rings of Saturn are made of lost airline luggage.","Never attribute to malice what can be adequately explained by stupidity.","Never test the depth of the water with both feet.","No problem is so big that you can't run away from it.","On the other hand... I have some fingers.","Personifiers of the world! Unite! You have nothing to lose but Mr. Dignity!","Rome wasn't built in a day, it just looks like that.","Smash forehead on keyboard to continue.","The amount of sleep needed by the average person is ten minutes more.","The early bird gets the worm, but the early worm gets eaten.","Time flies like an arrow, fruit flies like a banana","To steal ideas from one person is plagiarism; to steal from many is research.","The person who knows how to laugh at himself will never cease to be amused","Where in the nursery rhyme does it say Humpty Dumpty is an egg?","The trouble with doing something right the first time, is nobody appreciates how difficult it was.","Be nice to other people; they outnumber you 5.5 billion to one. ","Talk is cheap because supply exceeds demand","There has been an alarming increase in the number of things you know absolutely nothing about.","For every problem there is a solution which is simple, neat and wrong. ","When you find yourself in a hole, the first thing to do is stop digging.","If it's stupid but works, it isn't stupid.","Anything free is worth the price.","Always listen to experts. They'll tell you what can't be done, and why. Then go and do it anyway.","Compromise is the art of dividing a cake so everyone believes he got the biggest piece. -Ludwig Erhard","It is better to have enough ideas for some of them to be wrong than to always be right by having no ideas at all. -Edward de Bono","Time is what keeps everything from happening all at once.","When all else fails, read the instructions.","There are 10 types of people in this world; those who understand the binary number system and those who do not"]})),m.module("templates").require("remote").__init__((function(e,{remote:t}){e.remote=t,e.templateLocation="assets/templates",e.template=doT.template,doT.templateSettings.varname="d",doT.templateSettings.strip=!1})).def({lt:function(){return""},ct:function(e){return beautifier.html(["<!DOCTYPE html>","<html>","<head>",'<meta charset="UTF-8">','<meta name="viewport" content="width=device-width, initial-scale=1">',"<title></title>","</head>","<body>","","</body>","</html>"].join("\n"),{tabString:e})},ut:function(){return""},ht:function(e){var t=this.templateLocation+"/"+e;return this.remote.$({url:t,retryCount:1,noCache:!1}).then((function(e){return doT.template(e)}))},dt:function(){return this.quotes[Math.floor(Math.random()*this.quotes.length)]},ft:function(e){var t={scripts:e.scripts||[],links:e.links||[],name:e.name,headTemplate:doT.template(e.head||""),bodyTemplate:doT.template(e.body||"")},n=[];return e.bodyTemplate&&n.push(this.ht(e.bodyTemplate).then((function(e){t.bodyTemplate=e}))),e.headTemplate&&n.push(this.ht(e.headTemplate).then((function(e){t.bodyTemplate=e}))),Promise.all(n).then((function(){return t}))}}),m.module("zipper").require("path","messages","prompt","progress").__init__((function(e,{path:t,messages:n,prompt:i,progress:o}){Object.assign(e,{path:t,messages:n,prompt:i,progress:o}),zip.workerScripts={deflater:["workers/worker_deflate.js"],inflater:["workers/worker_inflate.js"]}})).def({nt:function(e){var t=this;e&&t.prompt.V(RES_I18N.Actions.Export(RES_I18N.Objects.Echo("ZIP")),PathUtils.basename(e),{message:{en:"Enter Filename for ZIP",es:"Ingrese nombre de archivo para ZIP",ja:"ZIPのファイル名を入力してください",pt:"Digite o Nome para ZIP",zh:"输入ZIP的文件名",zhTW:"輸入ZIP的文件名"},showInput:!0,onResult:function(n){return t.vt(e,n).then(GA_SendEvent_Success("export_zip","zip"),GA_SendEvent_Failure("export_zip","zip")).catch((function(e){throw t.messages.gt("exportZipError"),e}))}})},bt:function(){return new Promise((function(e,t){zip.createWriter(new zip.ArrayBufferWriter,(function(t){e({exportFileAsync:function(e,n){return new Promise((function(i){t.add(e,new zip.ArrayBufferReader(castAsReadableArrayBuffer(n)),i)}))},exportFolderAsync:function(e){return new Promise((function(n){t.add(e,new zip.ArrayBufferReader(new ArrayBuffer),n,null,{directory:!0})}))},completeExportAsync:function(e){return new Promise((function(e){t.close(e)})).then(t=>(e=e||"Unknown",e=PathUtils.hasExt(e,".zip")?e:e+".zip",GFS.saveBase64(e,t)))}})}),t,!0)}))},wt:function(e){return GFS.read(e).then(t=>GFS.saveBase64(PathUtils.basename(e),t))},vt:function(e,t){var n=this;return n.bt().then(i=>Promise.all([GFS.readdirDeep(e,{files:!1,folders:!0,relative:!0}),GFS.readdirDeep(e)]).then(([t,o])=>{var a=t.filter(e=>!n.path.Te(e)),r=o.filter(e=>!n.path.Te(e)),s=a.length+r.length,l=0;return PromisePool({data:a,promiseGenerator:function(e){return l++,n.progress.ProgressReporter.reportProgress({phase:`Zipping: ${PathUtils.basename(e)}`,lengthComputable:!0,loaded:l,total:s}),i.exportFolderAsync(e)},maxConcurrency:1,retryAttempts:0,useRaf:!0}).then(()=>PromisePool({data:r,promiseGenerator:function(t){return GFS.readFile(t).then(o=>(l++,n.progress.ProgressReporter.reportProgress({phase:`Zipping: ${PathUtils.basename(t)}`,lengthComputable:!0,loaded:l,total:s}),i.exportFileAsync(PathUtils.relativeTo(t,e),o)))},maxConcurrency:1,retryAttempts:0,useRaf:!0}))}).then((function(){return n.progress.ProgressReporter.close(!0),i.completeExportAsync(t)})))},yt:function(e,t){var n=this;return new Promise((function(i,o){zip.createReader(new zip.ArrayBufferReader(t),(function(t){t.getEntries((function(o){var a=0,r=o.filter(e=>!e.directory&&!!e.filename),s=r.length;return PromisePool({data:r,promiseGenerator:function(t){return new Promise((function(i){t.getData(new zip.ArrayBufferWriter,o=>{i(GFS.write(PathUtils.join(e,t.filename),o)),a++,n.progress.ProgressReporter.reportProgress({phase:`Unzipping: ${PathUtils.basename(t.filename)}`,lengthComputable:!0,loaded:a,total:s})})}))},maxConcurrency:1,retryAttempts:0}).then(()=>{t.close(i),n.progress.ProgressReporter.close(!0)})}))}),o)}))}}),m.module("date").__new__((function(e){Object.assign(e,{pastTenses:{en:"ago",es:"atrás",ja:"前",pt:"atrás",zh:"前",zhTW:"前"},shortTimes:{en:"moments ",es:"momentos ",ja:"一瞬",pt:"momentos ",zh:"不久",zhTW:"不久"},minuteAgo:{en:"a minute ",es:"un minuto ",ja:"一分",pt:"um minuto ",zh:"一分钟",zhTW:"一分鐘"},minutesAgo:{en:" minutes ",es:" minutos ",ja:"分",pt:" minutos ",zh:"分钟",zhTW:"分鐘"},hourAgo:{en:"an hour ",es:"una hora ",ja:"一時間",pt:"uma hora ",zh:"一个小时",zhTW:"一個小時"},hoursAgo:{en:" hours ",es:" horas ",ja:"時間",pt:" horas ",zh:"小时",zhTW:"小時"},dayAgo:{en:"a day ",es:"un día ",ja:"一日",pt:"um dia ",zh:"一天",zhTW:"一天"},daysAgo:{en:" days ",es:" dias ",ja:"日",pt:" dias ",zh:"天",zhTW:"天"}})})).def({xt:function(e,t){var{pastTenses:n,shortTimes:i,minuteAgo:o,minutesAgo:a,hourAgo:r,hoursAgo:s,dayAgo:l,daysAgo:c}=this,u=this.kt,h=(Date.now()-e)/1e3,d=n[n[t]?t:"en"];return(isNaN(h)?"? ":h<30?i[i[t]?t:"en"]:h<120?o[o[t]?t:"en"]:h<3600?u(h,60)+a[a[t]?t:"en"]:h<7200?r[r[t]?t:"en"]:h<86400?u(h,3600)+s[s[t]?t:"en"]:h<172800?l[l[t]?t:"en"]:u(h,86400)+c[c[t]?t:"en"])+d},kt:function(e,t){return Math.floor(e/t)}}),m.module("path").__new__((function(e){e.BinaryExtensions=[".avi",".ogv",".ogg",".mov",".webm",".m4p",".m4v",".mp4",".mkv",".mov",".h261",".h263",".h264",".mts",".m2ts",".vob",".wmv",".rmvb",".rm",".amv",".gifv",".flv",".f4v",".f4a",".psd",".swf",".ai",".asf",".abf",".afm","acfm",".zip",".tar",".gz",".rar",".ai",".7z",".bzip",".lzma",".iso",".jar",".zipx",".ipa",".dmg",".exe",".msi",".war",".apk",".mpg",".mpeg",".mpe",".mpv",".mp2",".3gp",".aa",".aac",".aax",".act",".aiff",".alac",".amr",".ape",".au",".awb",".dct",".dss",".dvf",".flac",".gsm",".ivs",".m4a",".m4b",".m4p",".mp3",".mpc",".msv",".nsf",".oga",".mogg",".opus",".ra",".tta",".wav",".wma",".wv",".8svx",".3ds",".3dm",".fbx",".dae",".stp",".igs",".stl",".wrl",".ply",".obj",".off",".prt",".blend",".ppt",".pptx",".doc",".docm",".docx",".xls",".xlsx",".DS_Store",".jpe",".jpg",".jpeg",".jif",".jfif",".jfi",".ttf",".otf",".woff",".eot",".woff",".woff2",".gif",".tiff",".bmp",".apng",".mng",".png",".webp",".ico",".pdf",".raw",".heif",".indd",".eps",".tga",".dds"].reduce((e,t)=>(e[t]=0,e),{})})).def({St:function(e){return e.includes("//")?"//":e.includes("\0")?"NUL":e.includes("\\")?"\\":void 0},_t:function(e){return PathUtils.ext(e)in this.BinaryExtensions},At:function(e){return e.includes("//")},It:function(e){return this.At(e)&&-1==e.indexOf(location.host)},Ct:function(e){return e.split(location.host).pop()},Et:function(e){return("//"+e.split(/(:\/\/|^\/\/)/).pop()).split("?")[0]},$t:function(e){return(e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]},Rt:function(e){var t=this.$t(e),n=t.split(/[@.]/),i=n.length;return i>2&&(t=n[i-2]+"."+n[i-1],2==n[i-2].length&&2==n[i-1].length&&(t=n[i-3]+"."+t)),t},Te:function(e){return/\/\.git\b/.test(e)}}),m.module("set").def({Tt:function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))},Ue:function(){var e=Array.prototype.slice.call(arguments),t=e.reduce((e,t)=>t.concat(e),[]);return t.filter((function(e,t,n){return n.indexOf(e)===t}))}}),m.module("string").def({zt:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},Ft:function(e){return e.replace(/[.*+?^${}()|\\[\]]/g,"\\$&")},jt:function(e){return(e.match(/\n/g)||"").length+1}}),m.module("urlQuery").def({Pt:function(){return window.location.search},o:function(e){for(var t=this.Pt().substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(decodeURIComponent(i[0])==e)return decodeURIComponent(i[1])}}}),m.module("vibrate").__new__(e=>{e.enabled=!0}).def({Ot:function(){"vibrate"in navigator&&this.enabled&&navigator.vibrate(30)}})
/*!
 * MIT License
 *
 * Copyright (c) 2016 Ike Ku
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */,ace.define("ace/theme/ayu-light",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-ayu-light",t.cssText=".ace-ayu-light .ace_gutter {color: #1069a9;}.ace-ayu-light .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12P4/PkzAAW2AtoE25PsAAAAAElFTkSuQmCC) right repeat-y;}.ace-ayu-light .ace_print-margin {width: 1px;background: #e8e8e8}.ace-ayu-light {color: #35373a}.ace-ayu-light .ace_cursor {color: #FF6A00}.ace-ayu-light .ace_marker-layer .ace_selection {background: #a5dfff}.ace-ayu-light.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px #FAFAFA;border-radius: 2px}.ace-ayu-light .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-ayu-light .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #FF0000}.ace-ayu-light .ace_marker-layer .ace_active-line {border: 2px solid #eee;box-sizing: border-box;}.ace-ayu-light .ace_marker-layer .ace_selected-word {border: 1px solid #74caf9}.ace-ayu-light .ace_keyword.ace_operator {color: #ED9366}.ace-ayu-light .ace_constant.ace_language {color: #A37ACC}.ace-ayu-light .ace_constant.ace_numeric {color: #A37ACC}.ace-ayu-light .ace_constant.ace_character {color: #A37ACC}.ace-ayu-light .ace_constant.ace_character.ace_escape {color: #4CBF99}.ace-ayu-light .ace_constant.ace_other {color: #A37ACC}.ace-ayu-light .ace_support.ace_function {color: #F07171}.ace-ayu-light .ace_support.ace_constant {color: #ED9366}.ace-ayu-light .ace_support.ace_class {color: #55B4D4}.ace-ayu-light .ace_support.ace_type {color: #55B4D4}.ace-ayu-light .ace_tag-name.ace_tag,.ace-ayu-light .ace_storage,.ace-ayu-light .ace_keyword {color: #FA6E32}.ace-ayu-light .ace_storage.ace_type {color: #FA6E32}.ace-ayu-light .ace_invalid {color: #F51818}.ace-ayu-light .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #FA6E32}.ace-ayu-light .ace_string {color: #86B300}.ace-ayu-light .ace_string.ace_regexp {color: #4CBF99}.ace-ayu-light .ace_comment {color: #ABB0B6}.ace-ayu-light .ace_variable {color: #55B4D4}.ace-ayu-light .ace_variable.ace_parameter {color: #A37ACC}.ace-ayu-light .ace_entity.ace_other.ace_attribute-name {color: #F29718}.ace-ayu-light .ace_entity.ace_name.ace_function {color: #F29718}.ace-ayu-light .ace_entity.ace_name.ace_tag {color: #55B4D4}.ace-ayu-light .ace_heading {color: #4845f7;}.ace-ayu-light .ace_list {color: #30a584;}"})),
/*!
 * MIT License
 *
 * Copyright (c) 2016 Ike Ku
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
ace.define("ace/theme/ayu-mirage",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-ayu-mirage",t.cssText=".ace-ayu-mirage .ace_gutter {color: rgb(125,127,129)}.ace-ayu-mirage .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12PQNbMHAAE2AKNSM6cKAAAAAElFTkSuQmCC) right repeat-y;}.ace-ayu-mirage .ace_print-margin {width: 1px;background: #333a48}.ace-ayu-mirage {color: #ddd}.ace-ayu-mirage .ace_cursor {color: #FFCC66}.ace-ayu-mirage .ace_marker-layer .ace_selection {background: #063e63;border-radius: 0;}.ace-ayu-mirage.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px black;}.ace-ayu-mirage .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-ayu-mirage .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #FFCC66}.ace-ayu-mirage .ace_marker-layer .ace_active-line {border: 2px solid #3a424a;box-sizing: border-box;}.ace-ayu-mirage .ace_marker-layer .ace_selected-word {background-color: rgba(125, 81, 64, 0.8);}.ace-ayu-mirage .ace_keyword.ace_operator {color: #F29E74}.ace-ayu-mirage .ace_constant.ace_language {color: #D4BFFF}.ace-ayu-mirage .ace_constant.ace_numeric {color: #D4BFFF}.ace-ayu-mirage .ace_punctuation,.ace-ayu-mirage .ace_punctuation.ace_tag {color: #bbb}.ace-ayu-mirage .ace_constant.ace_character {color: #D4BFFF}.ace-ayu-mirage .ace_constant.ace_character.ace_escape {color: #95E6CB}.ace-ayu-mirage .ace_constant.ace_other {color: #D4BFFF}.ace-ayu-mirage .ace_support.ace_function {color: #F28779}.ace-ayu-mirage .ace_support.ace_class {color: #5CCFE6}.ace-ayu-mirage .ace_support.ace_type {color: #5CCFE6}.ace-ayu-mirage .ace_meta.ace_tag,.ace-ayu-mirage .ace_tag-name.ace_tag,.ace-ayu-mirage .ace_storage,.ace-ayu-mirage .ace_keyword {color: #FFA759}.ace-ayu-mirage .ace_storage.ace_type {color: #FFA759}.ace-ayu-mirage .ace_invalid {color: #FF3333}.ace-ayu-mirage .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #FFA759}.ace-ayu-mirage .ace_string {color: #BAE67E}.ace-ayu-mirage .ace_string.ace_regexp {color: #95E6CB}.ace-ayu-mirage .ace_comment {color: #5C6773}.ace-ayu-mirage .ace_variable {color: #FFD580}.ace-ayu-mirage .ace_variable.ace_parameter {color: #D4BFFF}.ace-ayu-mirage .ace_entity.ace_other.ace_attribute-name {color: #FFD580}.ace-ayu-mirage .ace_entity.ace_name.ace_function {color: #FFD580}.ace-ayu-mirage .ace_entity.ace_name.ace_tag {color: #5CCFE6}.ace-ayu-mirage .ace_heading {color: #8987ff;}.ace-ayu-mirage .ace_list {color: #4ad3ac;}"})),ace.define("ace/theme/chrome",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-chrome",t.cssText=".ace-chrome .ace_gutter {color: #1069a9;}.ace-chrome .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12P4/PkzAAW2AtoE25PsAAAAAElFTkSuQmCC) right repeat-y;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color: rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {border: 2px solid #eee;box-sizing: border-box;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}"})),ace.define("ace/theme/dracula",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-dracula",t.cssText=".ace-dracula .ace_gutter {color: rgb(144,145,148)}.ace-dracula .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12PQNbMHAAE2AKNSM6cKAAAAAElFTkSuQmCC) right repeat-y;}.ace-dracula .ace_print-margin {width: 1px;background: #e8e8e8}.ace-dracula {color: #ddd}.ace-dracula .ace_cursor {color: #F8F8F0}.ace-dracula .ace_marker-layer .ace_selection {background: #063e63;border-radius: 0;}.ace-dracula.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px black;}.ace-dracula .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-dracula .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #F8F8F0}.ace-dracula .ace_marker-layer .ace_active-line {border: 2px solid #3a424a;box-sizing: border-box;}.ace-dracula .ace_marker-layer .ace_selected-word {background-color: rgba(125, 81, 64, 0.8);}.ace-dracula .ace_keyword {color: #d3a0ff}.ace-dracula .ace_keyword.ace_operator {color: #ddd}.ace-dracula .ace_constant.ace_language {color: #bd93f9}.ace-dracula .ace_constant.ace_numeric {color: #c3e8d1}.ace-dracula .ace_constant.ace_character {color: #bd93f9}.ace-dracula .ace_constant.ace_character.ace_escape {color: #ff79c6}.ace-dracula .ace_constant.ace_other {color: #bd93f9}.ace-dracula .ace_identifier {color: #aef1ff}.ace-dracula .ace_support.ace_function {color: #57afff}.ace-dracula .ace_support.ace_constant {color: #aef1ff}.ace-dracula .ace_support.ace_class {color: #aef1ff}.ace-dracula .ace_support.ace_type {color: #aef1ff}.ace-dracula .ace_meta.ace_tag,.ace-dracula .ace_storage {color: #57afff}.ace-dracula .ace_storage.ace_type {color: #57afff}.ace-dracula .ace_invalid {color: #F8F8F0;background-color: #ff79c6}.ace-dracula .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #bd93f9}.ace-dracula .ace_string {color: #f1fa8c}.ace-dracula .ace_comment {color: #7988b5}.ace-dracula .ace_constant,.ace-dracula .ace_variable {color: #a6ffbd}.ace-dracula .ace_variable.ace_parameter {color: #aef1ff}.ace-dracula .ace_entity.ace_other.ace_attribute-name {color: #aef1ff}.ace-dracula .ace_entity.ace_name.ace_function {color: #fff8d3}.ace-dracula .ace_xml-pe.ace_xml,.ace-dracula .ace_punctuation.ace_tag {color: #999}.ace-dracula .ace_tag-name.ace_tag,.ace-dracula .ace_entity.ace_name.ace_tag {color: #57afff}.ace-dracula .ace_heading {color: #aef1ff;}.ace-dracula .ace_markup.ace_list {color: #57afff;}"})),ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=".ace-monokai .ace_gutter {color: #8F908A}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12PQNbMHAAE2AKNSM6cKAAAAAElFTkSuQmCC) right repeat-y;}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {color: #ddd}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #063e63;border-radius: 0;}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px black;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #F8F8F0}.ace-monokai .ace_marker-layer .ace_active-line {border: 2px solid #3a424a;box-sizing: border-box;}.ace-monokai .ace_marker-layer .ace_selected-word {background-color: rgba(125, 81, 64, 0.8);}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #bbb}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_heading {color: #66D9EF;}.ace-monokai .ace_markup.ace_list {color: #A6E22E;}"})),ace.define("ace/theme/xcode",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-xcode",t.cssText=".ace-xcode .ace_gutter {color: #1069a9;}.ace-xcode .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12P4/PkzAAW2AtoE25PsAAAAAElFTkSuQmCC) right repeat-y;}.ace-xcode .ace_print-margin {width: 1px;background: #e8e8e8}.ace-xcode {color: black}.ace-xcode .ace_cursor {color: black}.ace-xcode .ace_marker-layer .ace_selection {background: #B5D5FF}.ace-xcode.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px #fff;}.ace-xcode .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-xcode .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-xcode .ace_marker-layer .ace_active-line {border: 2px solid #eee;box-sizing: border-box;}.ace-xcode .ace_marker-layer .ace_selected-word {border: 1px solid #B5D5FF}.ace-xcode .ace_constant.ace_language,.ace-xcode .ace_keyword,.ace-xcode .ace_meta,.ace-xcode .ace_variable.ace_language {color: #C800A4}.ace-xcode .ace_invisible {color: #BFBFBF}.ace-xcode .ace_constant.ace_character,.ace-xcode .ace_constant.ace_other {color: #275A5E}.ace-xcode .ace_constant.ace_numeric {color: #3A00DC}.ace-xcode .ace_entity.ace_other.ace_attribute-name,.ace-xcode .ace_support.ace_constant,.ace-xcode .ace_support.ace_function {color: #450084}.ace-xcode .ace_entity.ace_name.ace_tag,.ace-xcode .ace_support.ace_class,.ace-xcode .ace_support.ace_type {color: #790EAD}.ace-xcode .ace_heading {  color: #e20505;}.ace-xcode .ace_markup.ace_list {  color: #5400a3;}.ace-xcode .ace_storage {color: #C900A4}.ace-xcode .ace_string {color: #DF0002}.ace-xcode .ace_comment {color: #008E00}"})),m.module("card").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-card",width:"40",label:"",accessoryIcon:'<i class="uk-icon-chevron-right uk-icon-large" style="margin-left:auto"></i>'},template:['<div class="uk-flex uk-flex-middle">','<div class="uk-margin-large-right">','<svg viewBox="{{viewBox}}" width="{{width}}">',"{{svg}}","</svg>","</div>",'<div class="uk-margin-top">',"<h5>{{title}}</h5>",'<p class="uk-margin-large-right">{{label}}</p>',"</div>","{{accessoryIcon}}","</div>"].join("")},UI.definitions.link)})),m.module("fileBreadcrumb").require("fileTree").__init__((function(e,{fileTree:t}){Object.assign(e,{fileTree:t})})).__init__((function(e){UI.def({__name__:e.__name__,$defaults:{listStyle:"breadcrumb",tagClass:"x-file-breadcrumb"},getFullPath:function(){return this._fullPath},setFullPath:function(t){this._fullPath=t=t||"",""===t?this.setData([]):this.setData(t.split("/").map((t,n,i)=>({view:"link",label:(n===i.length-1?e.fileTree.Ut(t):e.fileTree.Nt(e.fileTree.svg.openFolder,30,15))+"<span>"+t+"</span>",path:i.slice(0,n+1).join("/")})))}},UI.definitions.list)})),m.module("fileSelect").require("path","session").__init__((e,{path:t,session:n})=>{Object.assign(e,{path:t,session:n})}).__new__((function(e){UI.def({__name__:e.__name__,setFilesData:function(t){if(0==t.length)this.setData([{value:"",label:"No file selected",selected:!0}]),this.disable(),this.paths=null;else{var n=e.session.je()||"";this.setData(function(e,t){return e.map((function(e){return{label:PathUtils.relativeTo(e,t),value:e}}))}(t,n)),this.setActive("label","index.html"),this.enable(),this.paths=t}return t},getFilePaths:function(){return this.paths||[]},getSelectedFile:function(){var e=this.getSelected()[0];return e&&e.value&&e.fid?e:null}},UI.definitions.select)})),m.module("fileTree").__new__((function(e){e.svg={assetFile:'<path fill="#51DB78" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',styleFile:'<path fill="#9648EA" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',scriptFile:'<path fill="#E2C100" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',textFile:'<path fill="#7F7F7F" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',defaultFile:'<path fill="#82B1FF" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',folder:'<path fill="#90CAF9" d="M 8,2 1,2 1,16 17,16 17,4 8,4 z"></path>',openFolder:'<path fill="#FFA000" d="M 8,2 1,2 1,16 17,16 17,4 8,4 z"></path>'}})),m.module("fileTree").__init__(e=>{UI.def({__name__:e.__name__,$defaults:{indentWidth:12,tagClass:"x-file-tree"},template:function(t){var n=this.config.allowDrag,i="";return i=t.search?"":'<span class="x-tree-icon" style="margin-left:{{margin}}px"><i class="uk-icon-{{chevron}}"></i></span><span class="uk-active-line"></span>{{svg}}',UI.interpolate('<a class="uk-flex-middle uk-flex {{itemClass}} {{statusClass}}">'+i+'<span class="x-text-overflow-ellipsis uk-flex-item-1">{{label}}</span>'+(n?'<i class="uk-hidden-notouch uk-icon-more-vertical menu"></i>':"")+"</a>",{itemClass:t.cls||"x-tree-item",statusClass:e.Bt(t.status),chevron:e.Lt(t),svg:e.Gt(t),margin:t.$depth*this.indentWidth,label:t.label,message:t.message})},updateItemStatus:function(t,n){var i=this.getItemNode(t.id);i&&i.firstChild&&(UI.removeClass(i.firstChild,e.Bt(t.status)),UI.addClass(i.firstChild,e.Bt(n))),t.status=n}},UI.definitions.tree)}).def({Lt:function(e){return e.$children&&e.$children.length>0?e.$closed?"chevron-right":"chevron-down":""},Gt:function(e){var t;return t=e.search?"":e.file?e.isDefaultLaunchFile?this.svg.defaultFile:this.Mt(e.path):e.$children&&0!==e.$children.length?e.$closed?this.svg.folder:this.svg.openFolder:this.svg.folder,this.Nt(t,30,15)},Nt:function(e,t,n){return UI.interpolate('<svg class="svg-icon file-svg-icon" width="{{w}}" height="{{h}}" viewBox="5 0 18 18">{{path}}</svg>',{path:e,w:t,h:n})},Ut:function(e){return this.Nt(this.Mt(e),30,15)},Bt:function(e){var{CONFLICT:t,CHANGED:n,ADDED:i,DELETED:o,IGNORED:a}=GitStatusTypes;return e&t?"x-git-conflict":e&n?"x-git-changed":e&i?"x-git-new":e&o?"x-git-deleted":e&a?"x-git-ignored":""},Mt:function(e){switch(PathUtils.ext(e)){case".png":case".gif":case".svg":case".jpg":case".jpeg":case".bmp":case".woff":case".woff2":case".eot":case".ttf":case".otf":case".mp3":case".acc":case".flac":case".ogg":case".wav":return this.svg.assetFile;case".css":case".scss":case".sass":case".less":return this.svg.styleFile;case".js":case".jsx":case".ts":case".coffee":return this.svg.scriptFile;case".html":case".htm":case".xhtml":case".xml":case".csv":default:return this.svg.textFile}}}),m.module("keyButton").require("keyOption","vibrate").__init__((function(e,t){UI.def({__name__:e.__name__,$events:{touchstart:{lazy:!1,dispatch:"onTouchStart",passive:!0},mousedown:{lazy:!1,defaultEvent:!1,callback:function(){return!1}}},$defaults:{tagClass:"x-key-button",dropdownEvent:"onOpenDropdown",dropdownOptions:{dropdownClass:"x-key-popup",blank:!0}},__init__:function(n){n.dropdownOptions=UI.defaults({marginX:n.offset||0,pos:n.pos||"top-center"},n.dropdownOptions),this.addListener("onTouchStart",(function(n,i,o){if(!e.activeKey){var a=this;t.vibrate.Ot(),a.selectOption(a.defaultIndex||0,0),e.activeKey=a,e.initialPos={x:o.touches[0].clientX,y:o.touches[0].clientY},e.touchReleased=!1,e.deltaX=0,e.deltaY=0,setTimeout((function(){!e.touchReleased&&Math.abs(e.deltaX)<50&&Math.abs(e.deltaY<50)&&a.dispatch("onOpenDropdown",[a.config,a.element])}),750)}}))},selectOption:function(t,n){var i=this.dropdownPopup.$components[0].$components;if(e.selectedOption&&(e.selectedOption.deselect(),e.selectedOption=null),t=t<0?0:t,!(n<=-3)){if(this.multirow){var o=i[0].$components.length-1,a=i.length-1;if(n>=a+2)return;n=(n=n<0?0:n)>a?a:n,t=t>o?o:t,e.selectedOption=i[i.length-1-n].$components[t]}else{if(n>=2)return;t=t>=i.length?i.length-1:t,e.selectedOption=i[t]}e.selectedOption.select()}}},UI.definitions.link)})).__init__((function(e){UI.support.touch&&(UI.$windowListeners.touchend.push((function(){if(e.touchReleased=!0,e.activeKey){if(e.selectedOption){var t=e.activeKey.config.editorOptions,n=t.editor,i=e.selectedOption.config,o=i.value||i.label,a=i.offset||t.offset||0;n.focus(!0),n.insertTextAtCursor(o,{chars:a,rows:0})}e.activeKey.dropdownPopup.close(),e.activeKey=null}})),UI.$windowListeners.touchmove.push((function(t){if(e.activeKey){var n=t.touches[0],i=n.clientX-e.initialPos.x,o=-(n.clientY-e.initialPos.y),a=e.activeKey.defaultIndex+Math.floor(i/42+.5),r=Math.floor(o/47-.5);e.activeKey.selectOption(a,r),e.deltaX=i,e.deltaY=o}})))})),m.module("keyOption").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-key-option"},select:function(){UI.addClass(this.element,"uk-active")},deselect:function(){UI.removeClass(this.element,"uk-active")}},UI.definitions.link)})),m.module("keybindingLink").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-keybinding-link",editorId:"mainEditor",command:""},template:function(e){var t="<span>{{label}}</span>",n=$$(this.editorId);if(n&&e.command){var i=n.$editor.$ace.commands,o=i.byName[e.command];if(o){var a=o.bindKey[i.platform];a&&(a=a.split("|")[0],t+=UI.interpolate('<span="uk-notouch">{{key}}</span>',{key:a}))}}return t}},UI.definitions.link)})),m.module("menuIcon").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-menu-icon"},$events:{touchstart:{lazy:!0,dispatch:"onMouseDown",passive:!0},mousedown:{lazy:!0,dispatch:"onMouseDown",defaultEvent:!1,callback:function(){return!1}}}},UI.definitions.icon)})),m.module("menuTitle").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{visible:!0,collapsable:!0,tagClass:"x-menu-title"},$events:{click:{dispatch:"onClick",defaultEvent:!0}},__after__:function(){this.$onClickListenerId=this.addListener("onClick",this._onToggle),this.updateLabel()},_onToggle:function(e,t,n){e.collapsable&&(this.dispatch("onToggle",[e,t,n]),this.config.visible=!e.visible,this.updateLabel(),this.dispatch("onToggled",[e,t,n]))},updateLabel:function(){var{visible:e,label:t,collapsable:n}=this.config,i=function(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector).call(e,t););return e}(this.el,".x-menu-title-bar");e?UI.removeClass(i,"collapsed"):UI.addClass(i,"collapsed"),this.el.innerHTML=n?`<i class='uk-icon-${e?"triangle-down":"triangle-right"}'></i> ${t}`:t}},UI.definitions.link)})),m.module("menuToggle").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-menu-toggle"},$setters:{outline:function(e){e?UI.addClass(this.el,"x-outline"):UI.removeClass(this.el,"x-outline")},selected:function(e){e?this.select():this.deselect()}},$events:{click:{dispatch:"onClick",defaultEvent:!0}},__after__:function(){this.$onClickListenerId=this.addListener("onClick",this._onToggle)},select:function(){this.config.$selected=!0,UI.addClass(this.el,"uk-active")},isSelected:function(){return!!this.config.$selected},deselect:function(){this.config.$selected=!1,UI.removeClass(this.el,"uk-active")},_onToggle:function(e,t,n){this.dispatch("onToggle",[e,t,n]),this.isSelected()?this.deselect():this.select(),this.dispatch("onToggled",[e,t,n])}},UI.definitions.icon)})),m.module("messages").__new__((function(e){e.messages={fileEncodeError:{en:"Error encoding file.",es:"Error al codificar el archivo.",ja:"ファイルのエンコードエラー",pt:"Erro ao codificar o arquivo.",zh:"编码文件错误",zhTW:"編碼錯誤"},fileNotFoundError:{en:"Archivo faltante: {{name}}",es:"Missing file: {{name}}",ja:"ファイルがありません: {{name}}",pt:"Arquivo ausente: {{name}}",zh:"缺少文件: {{name}}",zhTW:"缺少文件: {{name}}"},mainSaveFileError:{en:"Error saving file.",es:"Error al guardar el archivo.",ja:"ファイルの保存エラー",pt:"Erro ao salvar o arquivo.",zh:"保存文件时出错",zhTW:"保存檔案時出錯"},deleteProjectMessage:{en:"Deleted project: {{name}}",es:"Proyecto eliminado: {{name}}",ja:"削除: {{name}}",pt:"Excluir projeto: {{name}}",zh:"删除: {{name}}",zhTW:"删除: {{name}}"},loadTemplateError:{en:"No internet connection.",es:"Sin conexión a Internet.",ja:"インターネット接続なし",pt:"Sem conexão à Internet.",zh:"没有网络连接",zhTW:"沒有網絡連接"},searchBusyError:{en:"Busy with another search."},openFileError:{en:"Error opening file.",es:"Error al abrir el archivo.",ja:"ファイルを開く際のエラー",pt:"Erro ao abrir o arquivo.",zh:"打开文件时出错",zhTW:"打開檔案時出錯"},databaseError:{en:"Error accessing local database."},exportZipError:{en:"Error exporting ZIP.",es:"Error al exportar ZIP.",ja:"ZIPのエクスポートエラー",pt:"Erro ao exportar ZIP.",zh:"导出ZIP时出错",zhTW:"導出ZIP時出錯"},backupError:{en:"File backup failed.",es:"Copia de seguridad fallida.",ja:"バックアップが失敗する",pt:"Falha no backup do arquivo.",zh:"文件备份失效",zhTW:"文件備份失效"},unknownError:{en:"Unknown error has occurred.",es:"Se ha producido un error desconocido.",ja:"不明なエラーが発生しました",pt:"Ocorreu um erro desconhecido.",zh:"发生未知错误",zhTW:"發生未知錯誤"}}})).def({gt:function(e,t,n){var i=this.messages,o=i[e]||i.unknownError,a=o[n&&n.locale]||o.en,r=UI.interpolate(a,t||{});this.Dt(r,n),GA_SendEvent("message_"+e,"n/a")},Dt:function(e,t){AndroidRef&&AndroidRef.showToast?AndroidRef.showToast(e,"long"):((t=t||{}).timeout=3500,UI.message(e,t))}}),m.module("searchField").__new__((function(e){UI.def({__name__:e.__name__,template:function(e){var t=this;t.$input=UI.createElement("INPUT",e.inputAttributes),UI.addClass(t.$input,e.inputClass);var n=[t.$input];e.clearSearch&&(e.searchOptions=e.searchOptions||[]).unshift({view:"menuIcon",icon:"close",title:"Clear",on:{onClick:function(){t.setValue(""),t.dispatch("onInput"),t.focus()}}});return e.searchOptions&&n.push({cls:"uk-flex uk-flex-middle",cells:e.searchOptions}),n},$defaults:{htmlTag:"DIV",placeholder:"",tagClass:"",cls:"x-menu-search",inputClass:"uk-search-field x-text-indent-remove",inputAttributes:{autocapitalize:"off",autocorrect:"off",spellcheck:"false"},flex:!0,type:"search"},__after__:function(){var e=this.getFormControl(),t=this.el;e.addEventListener("focus",(function(){UI.addClass(t,"uk-focus")})),e.addEventListener("blur",(function(){UI.removeClass(t,"uk-focus")}))},getFormControl:function(){return this.$input}},UI.definitions.input)})),m.module("touchButton").__new__((function(e){UI.def({__name__:e.__name__,$events:{touchstart:{lazy:!1,dispatch:"onTouchStart",passive:!0},touchend:{lazy:!0,dispatch:"onTouchEnd"}}},UI.definitions.button)})),m.module("cookieBanner").require("model","prompt").__init__((function(e,t){e.banner=UI.new({id:e.__name__,flexAlign:"middle",position:"absolute",padding:"small",hidden:UI.support.touch||window.$embedMode||localStorage.$termsAgreed===window.$termsVersion&&localStorage.$privacyAgreed===window.$privacyVersion,cells:[{view:"label",label:(localStorage.$termsAgreed?"This site uses cookies and similar web technologies. By using Spck Editor, you agree to our new updated ":"This site uses cookies and similar web technologies. By using Spck Editor, you agree to our ")+'<a href="/terms.html" target="_blank">legal terms</a> and <a href="/privacy.html" target="_blank">privacy policy</a>.',flexSize:"flex"},{id:"cookieBannerActions",flexSize:"none",flexAlign:"middle",margin:"left-sm",cells:[{id:"cookieBannerDeclineButton",view:"button",color:"muted",label:"DECLINE",on:{onClick:function(){var n=GFS.uuid4().toUpperCase();t.prompt.V({en:"DANGER: Irreversible Data Loss!"},"Are you sure?",{message:{en:`Type '${n}' to confirm. This will PERMANENTLY delete all data this site stores for you including all projects, files, and settings!`},okLabel:{en:"DELETE EVERYTHING!",es:"¡ELIMINA TODO!",ja:"すべてを削除",pt:"EXCLUIR TUDO!",zh:"删除所有内容",zhTW:"刪除所有內容"},okColor:"danger",showInput:!0,onValidate:function(e,t,n){t(null),n&&n()},onResult:function(i){if(i!==n){var o=UI.interpolate('What you typed did not match "{{phrase}}".',{phrase:n});return t.prompt.Wt(o),GA_SendEvent("banner_clear_all_reject","banner"),Promise.reject(o)}$$(e.__name__).hide(),t.model.T("RISKY_STUFF").then(()=>{t.files.Vt().clearAll(),sessionStorage.clear(),localStorage.clear(),GA_SendEvent("banner_clear_all","banner")})}})}}},{id:"cookieBannerAgreeButton",view:"button",color:"primary",label:"AGREE",margin:"y-sm",on:{onClick:function(){$$(e.__name__).hide(),localStorage.$termsAgreed=window.$termsVersion,localStorage.$privacyAgreed=window.$privacyVersion,GA_SendEvent("banner_accept_terms","banner")}}}]}]},document.body)})),m.module("copyToProject").require("model","project").__init__((function(e,{model:t,project:n}){Object.assign(e,{model:t,project:n})})).def({Ht:function(){return $$("copyToProjectLabel")},qt:function(){return $$("copyToProjectSelect")},Kt:function(){return $$("copyToProjectInput")},Qt:function(){return $$("copyToProjectInputContainer")},Zt:function(){return $$("copyToProjectAddToggleIcon")},Yt:function(e){var t=this.Zt().isSelected(),n=PathUtils.basename(e);this.Qt().showBatch([t?"input":"select","toggle"]),this.Ht().setValue(t?`Create a new project for "${n}":`:`Select a project to copy "${n}" to.`),t&&this.Kt().focus()},Jt:function(e){var t=this;return t.model.He().then(n=>{var i=t.Zt();0===n.length&&!i.isSelected()||n.length>0&&i.isSelected()?i.dispatch("onToggled"):t.Yt(e),t.qt().setData(n.map(({dir:e})=>({label:PathUtils.basename(e),value:e}))),t.modal.open(e)})},Xt:function(e,t,n){return ENV.tmpDirAsync().then(i=>{var o=PathUtils.relativeTo(e,n||i);return this.project.C({name:PathUtils.basename(t),uniqueName:!1,currentFilePath:o,buildCallback:function({dir:t}){return GFS.mv(e,PathUtils.join(t,o))}})})}}),m.module("copyToProject").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"COPY TO PROJECT",collapsable:!1}]},body:{flexLayout:"column",cells:[{id:"copyToProjectLabel",view:"label",margin:"top"},{id:"copyToProjectInputContainer",cls:"uk-form",margin:"top-sm",flexAlign:"middle",cells:[{id:"copyToProjectSelect",batch:"select",view:"select",flexSize:"flex",data:[],style:{maxWidth:"calc(100% - 56px)"}},{id:"copyToProjectInput",batch:"input",view:"input",flexSize:"flex",style:{maxWidth:"calc(100% - 56px)"},validate:function(e){var t=this.getValue();t?e&&e(t):this.raiseConcern(RES_I18N.ErrorMessages.CannotBeEmpty)}},{id:"copyToProjectAddToggleIcon",batch:"toggle",view:"menuToggle",cls:"x-menu-icon",margin:"left",icon:"plus",title:"Create Project",on:{onToggled:function(){e.Yt(e.modal.filepath)}}}]}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"copyToProjectCancelButton",view:"button",label:RES_I18N.Elements.Cancel,on:{onClick:function(){e.modal.close()}}},{id:"copyToProjectOkButton",view:"button",label:RES_I18N.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){e.Zt().isSelected()?e.Kt().validate((function(t){e.Xt(e.modal.filepath,t),e.modal.close()})):(e.Xt(e.modal.filepath,e.qt().getValue()),e.modal.close())}}}]},on:{onOpened:function(e,t,n){this.filepath=n}}},document.getElementById("appContainer"))})),m.module("progress").__init__((function(e){e.ProgressReporter={reportProgress:function({phase:t,loaded:n,total:i,lengthComputable:o}){var a=t,r=-1;o?(a=`(${n}/${i}) `+a,r=n/i*100):a=`(${n}) `+a,e.Ye(a,r)},throttledReportProgress:deferLatestToNextAnimationFrame(t=>{e.ProgressReporter.reportProgress(t)},30),close:function(t){t?e.tn():e.Je()}}})).def({tn:function(){this.modal.close(),$$("progressBar").setValue(0)},Je:function(){setTimeout((function(){$$("progress").close(),$$("progressBar").setValue(0)}),1500)},Ye:function(e,t,n){var i=$$("animatedProgressBar"),o=$$("progressBar"),a=$$("progressCloseButton");$$("progressLabel").setValue(e),t<0?(i.show(),o.hide()):(i.hide(),o.show(),o.setValue(t)),n?a.show():a.hide(),UI.hasClass(this.modal.el,"uk-open")||this.modal.open(),this.cancelCallback=n,n?$$("progressCloseButton").show():$$("progressCloseButton").hide()}}),m.module("progress").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,bgClose:!1,center:!1,body:{flexLayout:"column",cells:[{id:"progressLabel",cls:"x-text-overflow-ellipsis",view:"label",template:"{{label}}"},{id:"progressBar",view:"progress",size:"small",color:"primary",margin:"top"},{id:"animatedProgressBar",view:"progress",size:"small",value:100,color:"primary striped",margin:"top"}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"progressCloseButton",view:"button",label:RES_I18N.Elements.Cancel,on:{onClick:function(){e.cancelCallback&&e.cancelCallback(),e.modal.close()}}}]}},document.getElementById("appContainer"))})),m.module("prompt").__new__((function(e){window.prompt=function(t,n){e.V(t,n,{showInput:!0})},e.activeModal=null})).def({be:function(e,t,n){this.V(e,"",{message:t,hideCancel:!0,onResult:function(){if(n)return n()}})},nn:function(){return this.activeModal==this.modalGreen?this.modalBlue:this.modalGreen},V:function(e,t,n){t=t||"",n=n||{};var i=this.nn();if(this.activeModal=i,i.label().config.label="string"==typeof e?e:i18nTag(e),i.label().render(),null!=t){var o=i.valueInput();o.setValue(t),o.set("help",""),o.setFormClass("")}i.onResult=n.onResult,i.onDismiss=n.onDismiss,i.onClosed=n.onClosed,i.onValidate=n.onValidate,this.in(i,n),i.open()},in:function(e,{hideCancel:t,showInput:n,placeholders:i,okLabel:o,okColor:a,message:r,cancelLabel:s,cancelColor:l}){var c=e.okButton();c.config.label=o?"string"==typeof o?o:i18nTag(o):RES_I18N.Elements.Ok,a&&c.set("color",a),c.render();var u=e.cancelButton();t?u.hide():u.show(),u.config.label=s?"string"==typeof s?s:i18nTag(s):RES_I18N.Elements.Cancel,l&&u.set("color",l),u.render();var h=e.textLabel();r?(h.element.innerHTML="string"==typeof r?r:i18nTag(r),h.show()):h.hide();var d=e.valueInput();n?(i&&d.set("placeholder",i[ENV.locale]||i.en||""),d.show()):d.hide()},an:function(e){return Promise.resolve(this.activeModal?this.activeModal.result(e):null)},rn:function(){this.activeModal&&this.activeModal.cancel()},sn:function(){this.activeModal&&this.activeModal.ok()},ln:function(e){this.activeModal&&this.activeModal.valueInput().setValue(e)},Wt:function(e){this.activeModal&&this.activeModal.valueInput().raiseConcern(e)}}),m.module("prompt").__init__((function(e){function t(e){return{id:"promptModal"+e,cls:"x-prompt",view:"modal",closeButton:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",id:"promptLabel"+e,label:"",collapsable:!1}]},body:{flexLayout:"column",cells:[{id:"promptTextLabel"+e,view:"label",margin:"top",hidden:!0},{id:"promptValueInput"+e,view:"input",width:"full",margin:"top",on:{onKeyUp:function(t,n,i){var o=$$("promptModal"+e);o.onValidate&&o.onValidate(this.getValue(),this.raiseConcern.bind(this)),"Enter"==i.key&&o.ok()}}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"promptCancelButton"+e,view:"button",on:{onClick:function(){var t=$$("promptModal"+e);!!t.onDismiss&&t.onDismiss(t.valueInput().getValue())||(t.close(),t.onClosed&&t.onClosed(!1))}}},{id:"promptOkButton"+e,view:"button",style:{minWidth:"64px"},on:{onClick:function(){var t=$$("promptModal"+e),n=t.valueInput(),i=n.getValue();t.onValidate?t.onValidate(i,n.raiseConcern.bind(n),t.result.bind(t,i)):t.result(i)}}}]},label:function(){return $$("promptLabel"+e)},textLabel:function(){return $$("promptTextLabel"+e)},valueInput:function(){return $$("promptValueInput"+e)},cancelButton:function(){return $$("promptCancelButton"+e)},okButton:function(){return $$("promptOkButton"+e)},result:function(e){var t,n=this;return n.onResult&&(t=n.onResult(e)),Promise.resolve(t).then((function(e){return n.close(),n.onClosed&&n.onClosed(!0),e}))},ok:function(){this.okButton().dispatch("onClick")},cancel:function(){this.cancelButton().dispatch("onClick")}}}e.modalGreen=UI.new(t("Green"),document.getElementById("appContainer")),e.modalBlue=UI.new(t("Blue"),document.getElementById("appContainer"))})),m.module("searchSettings").require("fileTree","fileTreeController","session").__init__((function(e,{session:t,fileTreeController:n}){e.minimatch=window.minimatch,Object.assign(e,{session:t,filteredFileList:[],treeController:new n.FileTreeController(e.cn),observable:new ObservableClass})})).__init__((function(e){var t=!1;e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,dialogClass:"uk-flex uk-flex-column",dialogStyle:["scroll","blank"],header:{flexSize:"none",cls:"x-menu-title-bar shadow",flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",attributes:i18nAttributes({en:"FILTER SEARCH FILES",es:"FILTRAR ARCHIVOS DE BÚSQUEDA",ja:"フィルター検索ファイル",pt:"FILTRE ARQUIVOS DE PESQUISA",zh:"筛选器搜索文件",zhTW:"篩選器搜索檔案"}),collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"searchSettingsBackButton",view:"menuIcon",icon:"close",title:"Close",on:{onClick:function(){e.modal.close()}}}]}]},{id:"searchSettingsInput",cls:"x-menu-search",view:"searchField",i18nPlaceholders:{en:"File Glob Pattern",es:"Patrones de archivos, p.ej: *.js",ja:"ファイルパターン 例 *.js",pt:"Glob Padrões de Arquivo",zh:"文件通配符，比如 *.js",zhTW:"檔案式樣，例如：*.js"},clearSearch:!0,on:{onInput:function(){e.cn().refresh()},onKeyUp:function(t,n,i){"Enter"===i.key&&(e.modal.close(),e.observable.run({action:"updateSettings"}))}}}]},body:{view:"scroller",cells:[{id:"searchSettingsFileTree",view:"fileTree",flexSize:"none",data:[],filter:function(n){if(t)return!1;var i=e.input().getValue(),o=!0;return i&&(o=n.$branch?n.$children.some((function(t){return e.minimatch(t.path,i,{matchBase:!0})})):e.minimatch(n.path,i,{matchBase:!0})),o&&n.file&&e.filteredFileList.push(n.path),o&&!n.$parentClosed},on:{onRefresh:function(){e.filteredFileList.length=0}}}]},on:{onOpened:function(){var n=e.session.Re(),i=e.session.je(),o=e.Vt();o.clearAll(),n&&i&&(o.addRoot(i),o.sync(i).then((function(){t=!1,e.cn().refresh()})))}}},document.getElementById("appContainer"))})).def({Vt:function(){return this.treeController},cn:function(){return $$("searchSettingsFileTree")},input:function(){return $$("searchSettingsInput")},un:function(){return this.input().getValue()?this.filteredFileList:null}}),m.module("diff-editor").__new__((function(e){var t=ace.require,n=t("ace/lib/dom"),i=t("ace/lib/oop"),o=t("ace/lib/lang"),a=t("ace/lib/event_emitter").EventEmitter,r=t("ace/layer/lines").Lines;e.Range=t("ace/range").Range;var s=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer ace_diff-gutter",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new r(this.element),this.$lines.$offsetCoefficient=1};function l(e){var t=n.createElement("span");n.addCssClass(t,"ace_line-number"),e.appendChild(t);var i=n.createElement("span");return n.addCssClass(i,"ace_line-number"),e.appendChild(i),e}(function(){i.implement(this,a),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){$LOG.warn&&$LOG.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){$LOG.warn&&$LOG.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,a=this.$annotations[i];a||(a=this.$annotations[i]={text:[]});var r=n.text;r=r?o.escapeHTML(r):n.html||"",-1===a.text.indexOf(r)&&a.text.push(r);var s=n.type;"error"==s?a.className=" ace_error":"warning"==s&&" ace_error"!=a.className?a.className=" ace_warning":"info"!=s||a.className||(a.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){this.config=e;var t=this.session;if(t){var n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var o=t.getNextFoldLine(n),a=o?o.start.row:1/0,r=null,s=-1,c=n;;){if(c>a&&(c=o.end.row+1,a=(o=t.getNextFoldLine(c,o))?o.start.row:1/0),c>i){for(;this.$lines.getLength()>s+1;)this.$lines.pop();break}(r=this.$lines.get(++s))||(r=this.$lines.createCell(c,e,this.session,l),this.$lines.push(r)),this.$renderCell(r,e,o,c),c++}this.$updateGutterWidth(e)}},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,o=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(o=t.getLength()+i);var a=n?n.getWidth(t,o,e):o.toString().length*e.characterWidth,r=this.$padding||this.$computePadding();(a+=r.left+r.right)===this.gutterWidth||isNaN(a)||(this.gutterWidth=a,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",a))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var o=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&o&&o.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n,i=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),o=this.oldLastRow;if(this.oldLastRow=i,!t||o<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(n=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);n>0;n--)this.$lines.shift();if(o>i)for(n=this.session.getFoldedRowCount(i+1,o);n>0;n--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),i>o&&this.$lines.push(this.$renderLines(e,o+1,i)),this.updateLineHighlight(),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var i=[],o=t,a=this.session.getNextFoldLine(o),r=a?a.start.row:1/0;o>r&&(o=a.end.row+1,r=(a=this.session.getNextFoldLine(o,a))?a.start.row:1/0),!(o>n);){var s=this.$lines.createCell(o,e,this.session,l);this.$renderCell(s,e,a,o),i.push(s),o++}return i},this.$renderCell=function(e,t,i,o){var a=e.element,r=this.session,s=a.childNodes[0],l=a.childNodes[1],c=a.childNodes[2],u=r.$firstLineNumber,h=r.$breakpoints,d=r.$decorations,p=r.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&r.foldWidgets,m=i?i.start.row:Number.MAX_VALUE,v="ace_gutter-cell ";if(this.$highlightGutterLine&&(o==this.$cursorRow||i&&o<this.$cursorRow&&o>=m&&this.$cursorRow<=i.end.row)&&(v+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),h[o]&&(v+=h[o]),d[o]&&(v+=d[o]),this.$annotations[o]&&(v+=this.$annotations[o].className),a.className!=v&&(a.className=v),f){var g=f[o];null==g&&(g=f[o]=r.getFoldWidget(o))}if(g){v="ace_fold-widget ace_"+g,"start"==g&&o==m&&o<i.end.row?v+=" ace_closed":v+=" ace_open",c.className!=v&&(c.className=v);var b=t.lineHeight+"px";n.setStyle(c.style,"height",b),n.setStyle(c.style,"display","inline-block")}else c&&n.setStyle(c.style,"display","none");var w=(p?p.getText(r,o,"left"):"").toString(),y=(p?p.getText(r,o,"right"):o+u).toString();return w!==s.data&&(s.textContent=w),y!==l.data&&(l.textContent=y),n.setStyle(e.element.style,"height",this.$lines.computeLineHeight(o,t,r)+"px"),n.setStyle(e.element.style,"top",this.$lines.computeLineTop(o,t,r)+"px"),e.row=o,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(s.prototype),e.DiffGutterLayer=s})),m.module("diff-editor").require("editor","string").__init__((function(e,{string:t}){UI.def({__name__:"diff-editor",__init__:function(){var t=this.$ace,n=t.renderer;t.container.removeChild(n.$gutter),n.$gutter=UI.createElement("DIV"),n.$gutter.className="ace_gutter",t.container.appendChild(n.$gutter),n.$gutter.setAttribute("aria-hidden",!0);var i=n.$gutterLayer=new e.DiffGutterLayer(n.$gutter);i.on("changeGutterWidth",n.onGutterResize.bind(n)),i.setShowFoldWidgets(!1),i.$renderer={getWidth:function(){return 92},getText:function(e,t,n){var i=e.getFoldAt(t,0);return i&&i.isPatchHeader?"":e.rowNumbers[n][t]||""}}},init:function(e){var t=this.config.scrollMargin;e.$blockScrolling=1/0,e.renderer.setScrollMargin(t,8),e.setOptions({scrollPastEnd:.5,enableLiveAutocompletion:!1,enableBasicAutocompletion:!1,enableSnippets:!1,showPrintMargin:!1,fadeFoldWidgets:!1}),this.initKeybindings(this)},addGutterDecorationForRows:function(e,t,n,i){for(var o=t;o<=n;o++)e.addGutterDecoration(o,i)},hn:function(n,i){var o=this,a=e.Range,r=i[0],s=r&&!(r.added||r.removed)&&r.nextChanged&&t.jt(r.value)>3,l=s?"":"@@@\n",c=l.length,u=[],h=[],d=o.cachedModeSessionWithPath(n),p=d.getDocument();d.rowNumbers={left:u,right:h},e.dn(d),Object.keys(d.$backMarkers).forEach(e=>d.removeMarker(e)),d.$decorations.forEach((function(e,t,n){n[t]=""})),d.setValue(i.reduce((function(e,t){return e+t.value}),l));var f={firstFold:!0,range:new a(0,0,0,1/0),oldLine:0,newLine:0},m=s?[]:[f],v=c;i.forEach((function(n,i,r){var s=p.indexToPosition(v+1);v+=n.value.length;var l=p.indexToPosition(v+n.value.length),c=t.jt(n.value);n.added?(d.addMarker(a.fromPoints(s,l),"ace_added-line","fullLine"),o.addGutterDecorationForRows(d,s.row,l.row,"ace_added-line"),e.pn(h,c)):n.removed&&(d.addMarker(a.fromPoints(s,l),"ace_removed-line","fullLine"),o.addGutterDecorationForRows(d,s.row,l.row,"ace_removed-line"),e.pn(u,c));var g={row:s.row,column:0},b={row:l.row+(r.length==i+1?1:0),column:1/0};if(n.nextChanged&&(b.row=Math.max(g.row,b.row-3)),n.previousChanged&&(g.row=Math.min(b.row,g.row+3)),!n.added&&!n.removed){var w=b.row-g.row,y=g.row-s.row;if(e.pn(u,y),e.pn(h,y),w>0){f.header=UI.interpolate(" @@ -{{oldLine}},{{changesOld}} +{{newLine}},{{changesNew}} @@ ",{changesOld:(u.slice(-1)[0]||1)-f.oldLine,changesNew:(h.slice(-1)[0]||1)-f.newLine,oldLine:f.oldLine+1,newLine:f.newLine+1}),e.pn(u,w),e.pn(h,w);var x=a.fromPoints(g,b);f={oldLine:(u.slice(-1)[0]||0)+1,newLine:(h.slice(-1)[0]||0)+1,range:x},m.push(f)}var k=c-y-w;e.pn(u,k),e.pn(h,k)}})),!f.header&&f.firstFold&&(f.header=UI.interpolate(" @@ -{{oldLine}},{{changesOld}} +{{newLine}},{{changesNew}} @@ ",{changesOld:(u.slice(-1)[0]||1)-f.oldLine,changesNew:(h.slice(-1)[0]||1)-f.newLine,oldLine:f.oldLine+1,newLine:f.newLine+1})),m.forEach((function(e){var t=d.addFold(e.header||" ... ",e.range),n=e.range;t.firstFold=!!e.firstFold,t.isPatchHeader=!0,d.addMarker(n,"ace_expanded-line","fullLine"),o.addGutterDecorationForRows(d,n.start.row,n.end.row,"ace_expanded-line")})),o.setSession(d)}},UI.definitions.editor)})).def({pn:function(e,t){for(var n=(e.slice(-1)[0]||0)+1,i=0;i<t;i++)e.push(n+i)},dn:function(e){e.$patchedExpandFold||(e.$patchedExpandFold=e.expandFold,e.expandFold=function(e){e.firstFold||this.$patchedExpandFold(e)})}}),m.module("diff").require("model","session","path","messages","diff-editor","fileBreadcrumb","gitClient","string").__init__((function(e,{model:t,session:n,path:i,encode:o,messages:a,gitClient:r,string:s}){e.Diff=window.Diff,Object.assign(e,{model:t,path:i,session:n,encode:o,messages:a,gitClient:r,string:s})})).def({mn:function(){return $$("diffFileBreadcrumb")},s:function(){return $$("diffEditor")},lines:function(){return $$("diffLinesCount")},vn:function(e,t){var n=this.Diff.diffLines(e||"",t||"",{newlineIsToken:!0}),i=!1;return n.filter((function(e,t,n){if(e.added||e.removed)i=!0;else{var o=n[t+1];o&&(o.added||o.removed)&&(e.nextChanged=!0),i&&(i=!1,e.previousChanged=!0)}return e.count>0}))},gn:function(e,t){return this.Diff.diffChars(e||"",t||"")},bn:function(e){var t=this,n=t.session.je();return Promise.all([GFS.readFile(e,{encoding:"utf8"}).catch(()=>""),t.gitClient.wn(n,PathUtils.relativeTo(e,n))]).then(([n,i])=>{t.hn(e,t.vn(i,n))})},hn:function(e,t){e=PathUtils.relativeTo(e,this.session.je()),this.mn().setFullPath(e),this.s().hn(e,t),this.lines().setLines(t.reduce((function(e,t){var n=t.value.split("\n").length-1;return t.added?n+e:e}),0),t.reduce((function(e,t){var n=t.value.split("\n").length-1;return t.removed?n+e:e}),0)),this.modal.open(),GA_SendEvent("diff_file","diff")}}),m.module("diff").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,dialogStyle:["full","large","blank"],dialogClass:["uk-overflow-hidden","uk-position-relative"],header:{cls:["x-bar","float"],fill:"width",flexSize:"",flexAlign:"middle",cells:[{id:"diffBackButton",view:"menuIcon",icon:"chevron-left",on:{onClick:function(){e.modal.close()}}},{id:"diffFileBreadcrumb",view:"fileBreadcrumb",data:[]},{id:"diffLinesCount",template:'<span class="x-diff-added-lines uk-margin-left">+{{addedLines}}</span><span class="x-diff-removed-lines">-{{removedLines}}</span>',addedLines:0,removedLines:0,setLines:function(e,t){this.set("addedLines",e),this.set("removedLines",t),this.render()}}]},body:{flex:!0,fill:"height",template:{id:"diffEditor",view:"diff-editor",readonly:!0,scrollMargin:56,editorOptions:{useWorker:!1}}}},document.getElementById("appContainer"))})),m.module("gitClient").require("addGitAuth","prompt","progress","path").__init__((e,{addGitAuth:t,prompt:n,progress:i,path:o})=>{Object.assign(e,{addGitAuth:t,prompt:n,progress:i,path:o}),e.Emitter={emit:function(e,t){if(e.includes("::progress"))return i.ProgressReporter.throttledReportProgress(t)}},git.plugins.set("emitter",e.Emitter)}).def({yn:function({method:e,params:t,closeProgress:n=!1,immediate:i=!1}){var o=this;return t.emitterPrefix="::",git[e].call(git,t).then(e=>(n&&o.progress.ProgressReporter.close(i),e)).catch(t=>{n&&o.progress.ProgressReporter.close(i);var a="string"==typeof t?t:t&&t.message;return $LOG.warn(`[git:${e}] ${a}`),Promise.reject(t)})},wn:function(e,t){return this.yn({method:"getOidAtPath",params:{dir:e,path:t}}).then(t=>t?this.yn({method:"readObject",params:{dir:e,oid:t,encoding:"utf8"}}).then(e=>e.object):null)},xn:function(e,t){return this.yn({method:"currentBranch",params:{dir:e,fullname:t}})},kn:function(e){const{dir:t,prop:n,value:i}=e;return this.xn(t).then(o=>this.Sn(void 0!==i||Object.prototype.hasOwnProperty.call(e,"value")?{dir:t,path:`branch.${o}.${n}`,value:i}:{dir:t,path:`branch.${o}.${n}`}))},_n:function(e){return this.kn({dir:e,prop:"remote"})},An:function(e){return this.kn({dir:e,prop:"merge"})},In:function(e,t){return this.kn({dir:e,prop:"remote",value:t})},Cn:function(e,t){return this.kn({dir:e,prop:"merge",value:t})},En:function(e){return this.yn({method:"log",params:{dir:e}}).then(GA_SendEvent_Success("git_log","git_core"),GA_SendEvent_Failure("git_log","git_core"))},$n:function(e,t,n,i){var o=Object.assign({dir:e,remote:n,ref:i,noGitSuffix:!0},t||{});return $LOG.log(`[git:pull] ${t?t.username:"?"}@${n}/${i}`),this.yn({method:"pull",params:o,closeProgress:!0})},Rn:function(e,t,n){return Promise.all([this.Tn(e,t).catch((function(){return null})),this.Tn(e,`remotes/${n}/${t}`).catch((function(){return null}))]).then(([e,t])=>({localRef:e,remoteRef:t,isAhead:e!==t}))},zn:function(e,t){return this.Fn(e).then(e=>t&&e.find(e=>e.remote===t)||Promise.reject({code:GlobalErrorCodes.RemoteNotFound,noUpstream:!t,noRemote:0===e.length}))},jn:function(e){var t=this;return t._n(e).then(n=>t.zn(e,n))},Pn:function(e,t,n){var i=this;return i.On(e).then((function(o){return o&&o.matrix&&0===o.matrix.length?i.Un(e,t.url,n):i.Nn(e,t,n).then((function(e){if(e){var t=RES_I18N.Objects.SuccessfulFor(RES_I18N.Objects.Pull);return e.alreadyMerged?(i.prompt.be(t,"Your branch is already up-to-date with the remote."),GA_SendEvent("pull_up_to_date","git_core")):e.fastForward?(i.prompt.be(t,"Fast-forwarded local branch to the remote."),GA_SendEvent("pull_fast_forward","git_core")):e.recursiveMerge&&(i.prompt.be(t,"Merged the remote with the local branch. Commit to save the merged files."),GA_SendEvent("pull_merged","git_core")),e}}))})).catch((function(e){return e.message&&e.name&&i.prompt.be(e.name,e.message),Promise.reject(e)}))},On:function(e){var t=this;return t.Bn(e).then((function(e){var n=e.changes;return n?t.Ln({resolveTo:e,error:{name:"Checkout Error: Uncommitted changes",message:i18nTag({en:`The current working tree is not clean with ${n} change(s). Checkout will lose your current changes.`,es:`El árbol de trabajo actual no está limpio con ${n} cambios. ¿Descartar todos los cambios?`,ja:`作業ツリーにコミットしていない${n}変更があります。変更を破棄しますか？`,pt:`A cópia de trabalho atual não está limpa com ${n} alterações. Você quer descartar as mudanças?`,zh:`该工作树并不干净，并且含有${n}未暂存的变更。您想放弃更改？`,zhTW:`目前工作目錄有${n}改動。要放棄變更？`})},ignoreLabel:RES_I18N.Elements.RevertAndCheckout,obeyLabel:RES_I18N.Elements.Cancel}):e})).then(GA_SendEvent_Success("git_core_checkout","git_core"),GA_SendEvent_Failure("git_core_checkout","git_core"))},Ln:function({resolveTo:e,error:t,ignoreLabel:n,obeyLabel:i}){var o=this;return new Promise((function(a,r){o.prompt.V(t.name,null,{message:t.message,okLabel:i,cancelLabel:n,cancelColor:"danger",onResult:function(){r(t)},onDismiss:function(){a(e)}})}))},Bn:function(e){var t=this;return t.Gn(e).then((function(e){var n=t.Mn(e);return n.matrix=e,n}))},Mn:function(e){for(var t,n=0,i=0,o=0;o<e.length;o++)(t=e[o])[4]&&n++,t[1]!==t[2]&&i++;return{conflicts:n,changes:i}},Nn:function(e,t,n){var i=this,o=i.path.Rt(t.url);return i.addGitAuth.CredentialManager.getItemAsyncWithoutPrompt(o).then((function(o){return i.$n(e,o,t.remote,n).catch((function(e){"string"==typeof e&&e.includes("MergeNoCommonAncestryError")?(i.prompt.be("Remote Diverged","Pull failed because no common ancestor was found between the remote and local branch."),GA_SendEvent("pull_diverged","git_core_f")):i.Dn(e,"pull")}))}))},Dn:function(e,t){if(e&&"string"==typeof e.message){var n=e.message,i=e.name||"HTTP Error";return n.includes("401")?(n=`Credentials provided failed for ${t}.`,i="Authentication Error!"):n.includes("404")&&(n=`Operation ${t} failed because HTTP URL could not be found.`,i="Remote URL Not Found!"),this.prompt.be(i,n),Promise.reject(e)}throw e},Fn:function(e){return this.yn({method:"listRemotes",params:{dir:e}})},Wn:function(e,t){return $LOG.log(`[git:add] ${t}`),this.yn({method:"add",params:{dir:e,filepath:t}})},Pe:function(e,t){return this.yn({method:"listFiles",params:{dir:e,ref:t}})},Vn:function(e,t){return $LOG.log(`[git:rm] ${t}`),this.yn({method:"remove",params:{dir:e,filepath:t}})},Tn:function(e,t){return this.yn({method:"resolveRef",params:{dir:e,ref:t}})},Hn:function(e){return Promise.all([this.qn(e).then(e=>e.map(e=>({name:e,ref:`refs/heads/${e}`}))),this.Kn(e).then(e=>e.reduce((e,t)=>e.concat(t.branches.map(e=>({name:e,remote:t.remote,ref:`refs/remotes/${t.remote}/${e}`}))),[]))]).then(([e,t])=>e.concat(t))},Kn:function(e){var t=this;return t.Fn(e).then(n=>Promise.all(n.map(({remote:n})=>t.qn(e,n).then(e=>({remote:n,branches:e})))))},Gn:function(e){return this.yn({method:"statusMatrix",params:{dir:e},closeProgress:!0,immediate:!0})},Be:function(e,t){return this.yn({method:"status",params:{dir:e,filepath:t},closeProgress:!0,immediate:!0})},Qn:function(e,t){return this.yn({method:"fetch",params:{dir:e,remote:t},closeProgress:!0,immediate:!0})},Zn:function(e){var t=this,n=t.path.Rt(e);return t.addGitAuth.CredentialManager.getItemAsyncWithoutPrompt(n).then((function(n){return t.Yn(e,n).then(e=>e?{remoteInfo:e,auth:n}:Promise.reject({name:"Connection Error: Repo url not found",message:"Cannot connect to remote repository. Please check your Git credentials or repo url."}))}))},Jn:function(e,t,n){var i=this;return i.xn(e).then(o=>o?i.Rn(e,o,t.remote).then((function({isAhead:a,remoteRef:r}){if(a){if(null===r){var s=i.path.Rt(t.url);return i.addGitAuth.CredentialManager.getItemAsyncWithoutPrompt(s).then(t=>i.Xn(e,t,n))}return i.Zn(t.url).then(({remoteInfo:t,auth:a})=>t.refs&&t.refs.heads&&t.refs.heads[o]!==r?Promise.reject({name:"Push Error: Requires Update",message:"Your branch is behind the remote. Please pull in changes before push."}):i.Xn(e,a,n))}return Promise.reject({name:"Push Error: No Commits",message:"Your repo does not have any commits to push."})})):Promise.reject({name:"Push Error: Detached HEAD",message:"Your repo is in a detached HEAD state. Please re-checkout a branch to fix this."})).catch((function(e){"string"==typeof e?-1!==e.indexOf("PushRejectedNoCommonAncestry")?i.prompt.be("Remote Diverged","Push rejected because no common ancestor was found with the remote branch."):-1!==e.indexOf("PushRejectedNonFastForward")?i.prompt.be("Requires Update","Your branch is behind the remote. Please pull in changes before push."):-1!==e.indexOf("PushRejectedTagExists")?i.prompt.be("Requires Update","Push rejected because a tag already exists."):-1!==e.indexOf("ReadObjectFail")&&i.prompt.be("Missing Git Object","Push rejected because of a missing git commit object."):i.Dn(e,"clone")}))},Xn:function(e,t,n){var{username:i,token:o}=t||{};return this.yn({method:"push",params:{dir:e,ref:n,noGitSuffix:!0,username:i,token:o},closeProgress:!0,immediate:!0})},Yn:function(e,t){return t=t||{},this.yn({method:"getRemoteInfo",params:{url:e,username:t.username,token:t.token}})},ei:function(e,t){var n=this,{CONFLICT:i,STAGED:o,DELETED:a}=GitStatusTypes,r=t.reduce((t,{path:r,status:s})=>{if(!(s&i||s&o)){var l=PathUtils.relativeTo(r,e);t.push(s&a?n.Vn(e,l):n.Wn(e,l))}return t},[]);return Promise.all(r)},ti:function(e,t){var n=this;return n.xn(e).then(i=>n.Rn(e,i,t).then(({isAhead:i})=>i?n.yn({method:"listCommitsAndTags",params:{dir:e,start:["HEAD"],finish:[`${t}/HEAD`]}}).then(e=>e.size,()=>n.yn({method:"log",params:{dir:e}}).then(e=>e.size)):0))},ni:function(e,t,n){return this.xn(e,!0).then(i=>this.yn({method:"commit",params:{dir:e,message:t,author:n},ref:i,closeProgress:!0}).then(e=>($LOG.log(`[git:commit] ${e}`),e)))},ii:function(e,t){var n=this;return n.On(e).then(()=>n.oi(e,t))},ai:function(e,t,n){return this.yn({method:"checkout",params:{dir:e,ref:t,filepaths:n},closeProgress:!0})},oi:function(e,t){return this.yn({method:"checkout",params:{dir:e,ref:t},closeProgress:!0})},ri:function(e,t,n){return this.yn({method:"branch",params:{dir:e,ref:t,checkout:n},closeProgress:!0})},si:function(e,t,n){var i=this;return i.Tn(e,"HEAD").then(()=>i.ri(e,t,n),e=>(i.prompt.be("No Commit","Cannot create a dangling branch with no commit."),Promise.reject(e)))},li:function(e,t){return this.yn({method:"deleteBranch",params:{dir:e,ref:t},closeProgress:!0})},ci:function(e,t){return this.li(e,t).then(GA_SendEvent_Success("git_delete_branch","git_core"),e=>(this.prompt.be(RES_I18N.Actions.Failed(RES_I18N.Actions.Delete(RES_I18N.Objects.Branch)),e.message),Promise.reject(e)))},ui:function(e,t,n){return this.yn({method:"addRemote",params:{dir:e,remote:t,url:n},closeProgress:!0})},hi:function(e,t){return this.yn({method:"deleteRemote",params:{dir:e,remote:t},closeProgress:!0})},qn:function(e,t){return this.yn({method:"listBranches",params:{dir:e,remote:t}}).then(e=>{const n=e.filter(e=>"HEAD"!==e);return $LOG.log(`[git:listBranches:${t||"local"}] (${n.join(", ")})`),n})},Sn:function(e){return this.yn({method:"config",params:e})},di:function(e,t,n){var i={url:t,dir:e,noGitSuffix:!0,depth:1};return n&&(i.username=n.username,i.token=n.token),this.yn({method:"clone",params:i,closeProgress:!0})},Un:function(e,t){var n=this,i=n.path.Rt(t);return n.addGitAuth.CredentialManager.getItemAsyncWithoutPrompt(i).then((function(i){return n.di(e,t,i).catch(e=>n.Dn(e,"clone"))}))},pi:function(e){return this.yn({method:"init",params:{dir:e,noOverwrite:!0},closeProgress:!0})}});Buffer=buffer.Buffer;function GHTTP({url:e,method:t="GET",headers:n={},body:i}){return Promise.resolve(i?(o=i,Promise.all(o).then(e=>Buffer.concat(e.map(e=>Buffer.from(e))))):void 0).then(i=>function(e,t){if(t.headers=t.headers||{},function(){try{var e=window.Android||self.Android;return e&&e.appVersion()>=12}catch(e){return!1}}())return t.body&&t.body.byteLength&&(t.headers["X-Request-Body"]=Buffer.from(t.body).toString("base64")),t.headers["X-Proxy-To"]=e,fetch("/proxy",t);var n=e.slice(e.indexOf("://")+3);return fetch(`https://cors.isomorphic-git.org/${n}`,t)}(e,{method:t,headers:n,body:i})).then(e=>{var t={},n=e.headers.entries();for(var[i,o]of n)t[i]=o;return e.arrayBuffer().then(n=>({headers:t,res:e,body:[new Uint8Array(n)]}))}).then(({headers:e,res:t,body:n})=>({url:t.url,method:t.method,statusCode:t.status,statusMessage:t.statusText,body:n,headers:e}));var o}git.plugins.set("fs",GFS),git.plugins.set("http",GHTTP),git.plugins.set("iterate",(function(e,t){return PromisePool({data:[...t],promiseGenerator:t=>e(t),maxConcurrency:10})})),m.module("editor").require("model","lang","prompt","dom","session","path","set","vibrate","memory").__init__((function(e,{completion:t,model:n,lang:i,prompt:o,dom:a,session:r,path:s,set:l,vibrate:c,memory:u}){Object.assign(e,{completion:t,model:n,lang:i,prompt:o,dom:a,session:r,path:s,set:l,vibrate:c,memory:u}),e.Range=ace.require("ace/range").Range})).__init__((function(e){e.CompletionServer=function(t){var n=this;n.languageClient=new e.lang.LanguageServerClient(t),n.externalUrls=[],n.editor=t,n.initializeCommands(t),n.initializeFileObservers(),t.$ace.completers=[n.languageClient.getCompleter()],setTimeout((function(){n.languageClient.start()}),0)},e.CompletionServer.prototype={initializeCommands:function(t){var n=this.languageClient;function i(){n.getRenameLocations(e.renameSymbol.bind(e,t))}function o(e){return n.getSignature(e,(function(e){t.hintManager.open(e)}))}function a(){n.getInfo((function(e){t.hintManager.open(e)}))}function r(){n.goToDefinition(e.goToFile.bind(e,t))}t.getSignature=o,t.getInfo=a,t.renameSymbol=i,t.goToDefinition=r,t.addCommands([{name:"goToDefinition",exec:r,bindKey:{win:"Ctrl-B",mac:"Command-B"}},{name:"getInfo",exec:a,bindKey:{win:"Ctrl-I",mac:"Command-I"}},{name:"getSignature",exec:o,bindKey:{win:"Ctrl-P",mac:"Command-P"}},{name:"renameSymbol",exec:i,bindKey:{win:"Alt-R|F2",mac:"Option-R|F2"}}])},initializeFileObservers:function(){var t=this.languageClient,n=e.memory;n.observable.subscribe(({lowOnMemory:e})=>{e&&t.stop()}),e.session.observable.subscribe(({action:e,project:i})=>{switch(e){case"open":t.clearFiles(),GFS.readdirDeep(i.dir).then(e=>{if(e.length<n.ALLOWED_LANGUAGE_SERVICE_INITIAL_FILES_LIMIT){var i=n.ALLOWED_LANGUAGE_SERVICE_INITIAL_SIZE_LIMIT;return PromisePool({data:e,promiseGenerator:e=>GFS.size(e).then(o=>{if(o<n.LANGUAGE_SERVICE_FILE_SIZE_LIMIT&&i>0)return GFS.readFile(e,{encoding:"utf8"}).then(n=>{GFS.isBinaryContent(n)||(t.addFile(e,n),i-=o)})}),useRaf:!0})}$LOG.warn("File threshold exceeded for auto file import.")})}}),this.editor.observable.subscribe(({action:e,path:i,text:o})=>{"sessionChange"===e&&(t.setCurrentDirectory(PathUtils.dirname(i)),n.ye(o)&&!GFS.isBinaryContent(o)&&(t.addFile(i,o),n.ve()))}),GFS.observable.subscribe(({action:i,type:o,path:a,oldpath:r})=>{var s=e.session.Re();if(s){var l=s.dir,c="file"===o;if(l&&PathUtils.childOf(r,l)&&!e.path.Te(r))switch(i){case"mv":if(PathUtils.childOf(a,l)){if(c)return n.we(a).then(e=>{e&&GFS.readFile(a,{encoding:"utf8"}).then(e=>{GFS.isBinaryContent(e)||(t.moveFile(r,a,e),n.ve())})});t.moveFolder(r,a);break}case"rmdir":case"rm":c?t.removeFile(r):t.removeFolder(r)}}})},doEdit:function(e){var t=this.editor.getSession().getDocument().positionToIndex(e.start),n=e.lines.join("\n"),i="insert"===e.action?t:t+n.length,o="remove"===e.action?"":n;this.editor.getCurrentFilePathAsync().then(n=>{this.languageClient.editFile(n,e.id,o,t,i)})},clearFiles:function(){this.languageClient.clearFiles()}}})).def({goToFile:function(e,t){if(t&&t.def&&1==t.def.length){var n=t.def[0];this.fi(n.fileName,n.textSpan.start)}},renameSymbol:function(e,t){var n=this;if(t&&t.renameInfo.canRename){var i=t.renameInfo.kind.toUpperCase();n.prompt.V(RES_I18N.Actions.Rename(RES_I18N.Objects.Echo(i)),t.renameInfo.fullDisplayName,{showInput:!0,onResult:function(e){n.applyChanges(e,t.rename)}})}},applyChanges:function(e,t){var n,i,o=Object.create(null);for(n=0;n<t.length;++n)o[(i=t[n]).fileName]=o[i.fileName]||[],o[i.fileName].push(i);var a,r,s=[];for(r in o){for(a=[],(t=o[r]).sort(l),n=0;n<t.length;++n)i=t[n],a.push({text:e,range:new this.Range(i.textSpan.startPosition.row,i.textSpan.startPosition.column,i.textSpan.endPosition.row,i.textSpan.endPosition.column)});s.push(this.mi({path:r,changes:a}))}return Promise.all(s);function l(e,t){return e.textSpan.start-t.textSpan.start}}}),m.module("editor").__init__((function(e){e.HintManager=function(e){var t=this,n=e.$ace;n.on("blur",(function(){e.observable.run({action:"blur"})})),n.on("focus",(function(){e.observable.run({action:"focus"})})),n.on("click",(function(){t.close()})),this.editor=e,this.hintPopup=UI.new({view:"hintPopup"},e.element)},e.HintManager.prototype={open:function(e,t){this.hintPopup.open(this.editor,e,t)},close:function(){this.hintPopup.close()},isOpened:function(){return this.hintPopup.isOpened()}}})).__init__((function(){UI.def({__name__:"hintPopup",__after__:function(){this.element.style.margin=0,this.element.style.pointerEvents="auto",this.element.tabIndex=-1},displayPartToHTML:function(e){var t="";switch(e.kind){case"functionName":t="ace_entity ace_name ace_function";break;case"parameterName":t="ace_variable ace_parameter";break;case"keyword":t="ace_storage ace_type";break;case"punctuation":case"space":case"text":default:return e.text}return UI.interpolate('<span class="{{class}}">{{text}}</span>',{class:t,text:e.text})},buildInfoHTML:function(e){var t=e.displayParts.map(this.displayPartToHTML);return e.documentation&&(t.push("<div>"),(t=t.concat(e.documentation.map(this.displayPartToHTML))).push("</div>")),t.join("")},buildSignatureHTML:function(e){var t=this,n=e.items[e.selectedItemIndex],i=n.separatorDisplayParts.map(t.displayPartToHTML),o=n.prefixDisplayParts.map(t.displayPartToHTML);return n.parameters.forEach((function(n,a,r){a===e.argumentIndex&&o.push('<span class="selected-param">'),o=o.concat(n.displayParts.map(t.displayPartToHTML)),a===e.argumentIndex&&o.push("</span>"),r.length>a+1&&(o=o.concat(i))})),o=o.concat(n.suffixDisplayParts.map(t.displayPartToHTML)),n.documentation&&(o.push("<div>"),(o=o.concat(n.documentation.map(t.displayPartToHTML))).push("</div>")),o.join("")},open:function(e,t,n){var i=this.element;if(t)if(t.info)i.innerHTML=this.buildInfoHTML(t.info);else{if(!t.signature)return this.close();i.innerHTML=this.buildSignatureHTML(t.signature)}else n&&(i.textContent=n);i.parentNode||e.element.appendChild(i),i.className="ace-lang-hint "+e.getTheme().cssClass;var o=e.getCursorElement();if(o){var a=o.getBoundingClientRect(),r=e.element.getBoundingClientRect();this.positionNextTo(o,"bottom-center",0,2),this.moveWithinBoundary(r,{bottom:a.top},{left:e.$ace.renderer.gutterWidth+5})}},close:function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)},isOpened:function(){return!!this.element.parentNode}},UI.definitions.element,UI.AbsolutePositionMethods)})),m.module("editor").__init__((function(e){e.IndentManager=function(t){this.editor=t,t.$ace.on("paste",(function(n){if(t.focus(),1==t.getAllSelectionRanges().length&&e.vi(n.text.split("\n"))&&!t.isCurrentSessionBlank()){var i=t.getCursorPosition(),o=t.getSession(),a=o.getState(i.row),r=o.getLine(i.row),s=t.getTabString(),l=o.getMode().getNextLineIndent(a,r.slice(0,i.column),s),c=t.getTabSize();n.text=e.gi(n.text,t.getMode(),l,c)}}))},e.IndentManager.prototype={indent:function(t){var n=this.editor,i=n.getValue(),o=e.gi(i,n.getMode(),"",n.getTabSize()),a=n.getCursorPosition();(t||e.bi(i,o))&&(n.setValue(o),n.navigateTo(a.row,a.column))}}})).def({wi:function(e,t,n){var i={indent_size:n,indent_char:" ",max_preserve_newlines:"0",preserve_newlines:!0,keep_array_indentation:!0,break_chained_methods:!1,indent_scripts:"normal",brace_style:"none,preserve-inline",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:"0",indent_inner_html:!1,comma_first:!1,e4x:!0,indent_empty_lines:!1};switch(t){case".less":case".scss":case".css":return beautifier.css(e,i);case".json":case".js":case".jsx":case".ts":return beautifier.js(e,i);case".html":case".htm":case".xhtml":case".xml":case".svg":return beautifier.html(e,i);default:return e}},gi:function(e,t,n,i){n=n||"";for(var o=(e=this.wi(e,this.yi(t),i)).split(/[\r]?\n/gi),a=1;a<o.length;a++)o[a]=n+o[a];return o.join("\n")},vi:function(e){return(e=e.filter((function(e){return!/^\s*$/.test(e)}))).length>1},bi:function(e,t){if(e!=t){var n=t.split(/\r?\n/gi);if(n.length<2e4)for(var i=e.split(/\r?\n/gi),o=0,a=Math.ceil(.05*Math.min(n.length,i.length)),r=0;r<n.length;r++)if(n[r]!=i[r]&&++o>=a)return!0}return!1}}),m.module("editor").def({xi:function(e){var t=this.ki,n=e.$ace.commands,i=n.bindKey.bind(n);i(t("Ctrl-Shift-D|Ctrl-Y","Command-Shift-D|Command-Y"),"removeline"),i(t("Ctrl-D","Command-D"),"copylinesdown"),i(t("Ctrl-R","Command-Option-F"),"replace"),i(t("Ctrl-Shift-Up","Command-Shift-Up"),"movelinesup"),i(t("Ctrl-Shift-Down","Command-Shift-Down"),"movelinesdown"),n.removeCommand("showSettingsMenu"),n.removeCommand("jumptomatching"),n.removeCommand("modifyNumberUp"),n.removeCommand("modifyNumberDown"),n.removeCommand("toggleFoldWidget"),n.removeCommand("gotoline")},ki:function(e,t){return{win:e,mac:t}}}),m.module("editor").__init__((function(e){e.ContextMenuManager=function(t){this.editor=t,window.$embedMode||(t.$ace.renderer.$gutter.addEventListener("contextmenu",(function(n){UI.preventEvent(n),e.gutterContextMenu.open(t),e.gutterContextMenu.position(n.clientY,n.clientX),e.gutterContextMenu.moveWithinBoundary()})),t.$ace.renderer.container.addEventListener("contextmenu",(function(n){UI.preventEvent(n),setTimeout(()=>{e.editorContextMenu.open(t),e.editorContextMenu.position(n.clientY,n.clientX),e.editorContextMenu.moveWithinBoundary()},25)})))}})).__init__((function(e){var t=["typescript","tsx","javascript","jsx"];e.editorContextMenu=UI.new({view:"dropdown",dropdownClass:"uk-dropdown-close x-editor-context-menu",dropdownAnimation:"",dropdown:{view:"list",listStyle:"dropdown",filter:function(e){return!(e.mode&&this.mode&&-1===e.mode.indexOf(this.mode)||e.tokenTypes&&-1===e.tokenTypes.indexOf(this.leftTokenType)&&-1===e.tokenTypes.indexOf(this.rightTokenType)||e.excludeTokenTypes&&-1!==e.excludeTokenTypes.indexOf(this.tokenType))},data:[{view:"keybindingLink",label:i18nTag(RES_I18N.Actions.GoTo(RES_I18N.Objects.Definition)),mode:t,tokenTypes:"identifier",value:"jump"},{view:"keybindingLink",label:RES_I18N.Elements.ShowInfo,mode:t,tokenTypes:["entity.name.function","identifier"],value:"info"},{view:"keybindingLink",label:i18nTag(RES_I18N.Actions.Rename(RES_I18N.Objects.Echo("Symbol"))),mode:t,tokenTypes:["entity.name.function","identifier"],value:"rename"},{$divider:!0,mode:t,tokenTypes:["entity.name.function","identifier"]},{view:"keybindingLink",command:"find_in_file",label:RES_I18N.Elements.FindAll,value:"find",excludeTokenTypes:["",null]},{view:"keybindingLink",command:"format",label:RES_I18N.Elements.Format,value:"format"},{$divider:!0},{view:"keybindingLink",command:"undo",label:RES_I18N.Elements.Undo,value:"undo"},{view:"keybindingLink",command:"redo",label:RES_I18N.Elements.Redo,value:"redo"}],on:{onItemClick:function(t){var n=this.editor;if(n)switch(t.value){case"find":e.Si(n.getSelectedTextOrWordAtCursor()),GA_SendEvent("editor_menu_find","editor_menu");break;case"format":n.indentManager.indent(!0),GA_SendEvent("editor_menu_format","editor_menu");break;case"jump":n.goToDefinition(),GA_SendEvent("editor_menu_goto","editor_menu");break;case"info":n.getInfo(),GA_SendEvent("editor_menu_info","editor_menu");break;case"rename":n.renameSymbol(),GA_SendEvent("editor_menu_rename","editor_menu");break;case"undo":n.undo(),GA_SendEvent("editor_menu_undo","editor_menu");break;case"redo":n.redo(),GA_SendEvent("editor_menu_redo","editor_menu")}},onOpened:function(e,t,n){n&&n.execCommand&&(this.editor=n,this.mode=this.editor.getMode(),this.leftTokenType=this.editor.getTokenType(),this.rightTokenType=this.editor.getTokenType(1),this.refresh())}}},listComponent:function(){return this.$components[0]}},document.body),e.gutterContextMenu=UI.new({view:"dropdown",dropdown:{view:"list",listStyle:"dropdown",data:[{view:"keybindingLink",command:"goToLine",label:i18nTag(RES_I18N.Actions.GoTo(RES_I18N.Objects.Line)),value:"gotoline"}],on:{onItemClick:function(e){var t=this.editor;if(t)switch(e.value){case"gotoline":t.execCommand(e.command)}},onOpened:function(e,t,n){n&&n.execCommand&&(this.editor=n,this.refresh())}}},listComponent:function(){return this.$components[0]}},document.body)})),m.module("editor").require("model","session","messages","memory").__new__((function(e){e.editorComponents=[],e.touchEditors=[],e.defaultTabSize=2,e.defaultWordWrap=!0,e.defaultUseAceWorkers=!1,e.SupportedExtensions={".js":"javascript",".jsx":"jsx",".ts":"typescript",".tsx":"tsx",".coffee":"coffee",".json":"json",".yaml":"yaml",".yml":"yaml",".md":"markdown",".txt":"text",".as":"actionscript",".bat":"batchfile",".c":"c_cpp",".cfm":"coldfusion",".clj":"clojure",".cpp":"c_cpp",".cs":"csharp",".dart":"dart",".ejs":"ejs",".ex":"elixir",".exs":"elixir",".fs":"fsharp",".fsx":"fsharp",".gitignore":"gitignore",".go":"golang",".h":"c_cpp",".handlebars":"handlebars",".hbs":"handlebars",".hs":"haskell",".hx":"haxe",".hjson":"hjson",".ini":"ini",".java":"java",".jsp":"jsp",".jl":"julia",".kt":"kotlin",".kts":"kotlin",".tex":"latex",".lgt":"logtalk",".lua":"lua",".m":"objectivec",".ml":"ocaml",".mli":"ocaml",".pas":"pascal",".php":"php",".pl":"perl",".pp":"pascal",".psql":"pgsql",".py":"python",".r":"r",".rb":"ruby",".red":"red",".reds":"red",".rhtml":"html_ruby",".rs":"rust",".rss":"xml",".scala":"scala",".sc":"scala",".scm":"scheme",".ss":"scheme",".sh":"sh",".sql":"sql",".swift":"swift",".xq":"xquery",".xql":"xquery",".xqm":"xquery",".xquery":"xquery",".xqy":"xquery",".svg":"svg",".xml":"xml",".html":"html",".xhtml":"html",".htm":"html",".jade":"jade",".pug":"jade",".css":"css",".scss":"scss",".sass":"sass",".less":"less",".styl":"stylus"},e.SupportedModes=Object.keys(e.SupportedExtensions).reduce((function(t,n){return t[e.SupportedExtensions[n]]=n,t}),{})})).__init__((function(e,{model:t,session:n,messages:i,vibrate:o,memory:a}){Object.assign(e,{model:t,session:n,messages:i,vibrate:o,memory:a,observable:new ObservableClass}),e.$dummyAceSession=ace.createEditSession("","text"),e.$dummyUndoManager=e.$dummyAceSession.getUndoManager(),e.$sessionMetaCache={},a.observable.subscribe(({lowOnMemory:t})=>{t&&e._i(!1)})})).def({Ai:function(e){return e in this.SupportedExtensions},Ii:function(e){return this.SupportedExtensions[PathUtils.ext(e)]||"text"},yi:function(e){return this.SupportedModes[e]||".txt"},Ci:function({inode:e,hash:t}){var n=this.$sessionMetaCache[e];return n?(n.hash=t,n):null},Ei:function({inode:e,hash:t}){var n=this.$sessionMetaCache[e];return n&&n.hash===t?n:this.$sessionMetaCache[e]={undoManager:new ace.UndoManager,hash:t}},$i:function(e){e=e||"chrome",this.editorComponents.forEach((function(t){t.setTheme(e)}))},Ri:function(e){this.defaultUseAceWorkers=e,this.editorComponents.forEach((function(t){t.setAutocomplete(e)}))},_i:function(e){this.defaultUseAceWorkers=e,this.editorComponents.forEach((function(t){t.getSession().setUseWorker(e)}))},Ti:function(e){this.defaultWordWrap=e,this.editorComponents.forEach((function(t){t.getSession().setUseWrapMode(e),t.refresh()}))},zi:function(e){this.touchEditors.forEach((function(t){t.setExtraTouchKeyboard&&t.setExtraTouchKeyboard(e)}))},Fi:function(e){this.touchEditors.forEach((function(t){t.setTouchKeyboard&&t.setTouchKeyboard(e)}))},ji:function(e){this.touchEditors.forEach((function(t){t.setKeyboardPosition&&t.setKeyboardPosition(e)}))},Pi:function(e){this.editorComponents.forEach((function(t){t.setFontSize(e)}))},Oi:function(e){this.editorComponents.forEach((function(t){t.setDisplayIndentGuides(e)}))},Ui:function(e){this.editorComponents.forEach((function(t){t.setShowGutter(e)}))},Ni:function(e){this.defaultTabSize=+e,this.editorComponents.forEach((function(t){t.setTabSize(+e)}))},Bi:function(){for(var e="",t=0;t<this.defaultTabSize;t++)e+=" ";return e},Li:function(e){this.vibrate.enabled=e},Gi:function(e,t,n){var i=t.getUndoManager();t.setUndoManager(this.$dummyUndoManager),e.getSession()===t?(e.$silentChange=!0,t.setValue(n),e.$silentChange=!1):t.setValue(n),t.setUndoManager(i),this.$dummyUndoManager.reset()},Si:function(e){return this.observable.run({action:"findAllInFiles",text:e})},fi:function(e,{row:t,column:n}){return this.observable.run({action:"jumpToFile",path:e,row:t,column:n})},mi:function({path:e,changes:t}){var n=this;return Promise.all([GFS.inode(e),GFS.readFile(e,{encoding:"utf8"})]).then(([i,o])=>{var a=sha1(o),r=n.Ei({inode:i,hash:a}),s=n.$dummyAceSession;s.setUndoManager(n.$dummyUndoManager),s.setValue(o),s.setUndoManager(r.undoManager);for(var l=0;l<t.length;l++)s.replace(t[l].range,t[l].text);var c=s.getValue();s.markUndoGroup(),n.$dummyUndoManager.reset();var u=sha1(c);return n.Ci({inode:i,hash:u}),GFS.write(e,c,{updateStatus:!0}).then(()=>n.observable.run({action:"replaceInFile",inode:i,text:c}))})}}),m.module("editor").__new__((function(e){ace.require("ace/ext/language_tools"),e.useragent=ace.require("ace/lib/useragent"),e.emmet=ace.require("ace/ext/emmet")})).__init__((function(e){UI.def({__name__:"editor",$defaults:{value:"",margin:"",flexSize:"flex",scrollMargin:UIkit2.support.touch?64:40,editorOptions:{}},$setters:{editorOptions:function(e){this.editorOptions=e},readonly:function(e){var t=this.$ace;t.setOptions({readOnly:e,highlightActiveLine:!e,highlightGutterLine:!e}),t.renderer.$cursorLayer.element.style.opacity=e?0:1}},__init__:function(e){var t=UI.uid("editorContainer");e.id&&(UI.components[e.id]=this),this.element=this.el=UI.createElement("DIV",{id:t}),UI.addClass(this.el,"uk-flex-item-1"),this.observable=new ObservableClass,this.sessionCache={},this.config=e,this.$ace=ace.edit(this.el),this.$ace.renderer.scrollBarV.width=0,this.init(this.$ace)},__after__:function(t){e.editorComponents.push(this),this.setTabSize(t.tabSize||e.defaultTabSize),this.setMode(t.mode||"javascript")},init:function(t){var n=this.config.scrollMargin,i={scrollPastEnd:.5,useTextareaForIME:!1,enableLiveAutocompletion:!1,enableBasicAutocompletion:!0,enableSnippets:!1,enableEmmet:!0,showPrintMargin:!1,fadeFoldWidgets:!0,tooltipFollowsMouse:!UI.support.touch};e.useragent.isIOS||(i.copyWithEmptySelection=!0),t.setOptions(i),t.$blockScrolling=1/0,t.renderer.setScrollMargin(n,8),this.completionServer=new e.CompletionServer(this),this.indentManager=new e.IndentManager(this),this.hintManager=new e.HintManager(this),this.initSmartEditingSupport(this),this.initKeybindings(this),this.initProxyEvents(this)},initSmartEditingSupport:function(e){var t=e.$ace;t.on("guttermousedown",(function(e){e.stop()})),t.on("change",(function(t){if(!e.$silentChange)try{e.completionServer.doEdit(t),e.observable.run({action:"edit",edit:t}),e.debouncedSave()}catch(e){$LOG.error(e)}})),t.commands.on("afterExec",(function(t){switch(t.command.name){case"backspace":case"insertstring":if(!e.autocompleteOff){var n,i=t.args,o=e.hintManager.isOpened(),a=e.getMode(),r=!1;o||("html"===a&&"<"===i?(n="<",r=!0):/^[\w.]$/.test(i)&&"."==i?(n=".",r=!0):/^[A-Za-z]$/.test(i)&&(r=!0)),r?e.debouncedStartAutocomplete(n):(o||"("===i||","===i)&&e.debouncedShowSignature(i)}}})),t.onPaste=function(e,t){if(1!==e.length||8232!==e.charCodeAt(0)){var n={text:e,event:t};this.commands.exec("paste",this,n)}},t.textInput.getElement().setAttribute("autocomplete","off")},initAutocompleteTokenizer:function(){var e=this.$ace;if(!this.tokenizerInitialized&&e){if(!e.completer&&(e.commands.byName.startAutocomplete.exec(e),!e.completer))return;this.tokenizerInitialized=!0;var t=e.completer.getPopup();t.session.bgTokenizer.$tokenizeRow=function(e){var n=t.data[e],i=[];if(!n)return i;"string"==typeof n&&(n={value:n});var o=n.caption||n.value||n.name;function a(e,t){e&&i.push({type:(n.className||"")+(t||""),value:e})}n.kind&&a(" ","completion_icon ace-lang-completion-"+n.kind);for(var r=o.toLowerCase(),s=(t.filterText||"").toLowerCase(),l=0,c=0,u=0;u<=s.length;u++)if(u!=c&&(n.matchMask&1<<u||u==s.length)){var h=s.slice(c,u);c=u;var d=r.indexOf(h,l);if(-1==d)continue;a(o.slice(l,d),""),l=d+h.length,a(o.slice(d,l),"completion-highlight")}return a(o.slice(l,o.length),""),n.meta&&i.push({type:"completion-meta",value:n.meta}),i}}},initProxyEvents:function(e){var t=e.$ace;t.on("searchBoxOpen",()=>e.observable.run({action:"searchBoxOpen"})),t.on("searchBoxClose",()=>e.observable.run({action:"searchBoxClose"}))},initKeybindings:function(t){function n(e,t){return{win:e,mac:t}}t.addCommands([{name:"force-save",bindKey:n("Ctrl-S","Command-S"),exec:function(){t.saveCurrentSessionAsync(!0)}},{name:"find_in_file",bindKey:n("Ctrl-Shift-F","Command-Shift-F"),exec:function(){e.Si(t.getSelectedText())}},{name:"format",bindKey:n("Alt-F","Option-F"),exec:function(){t.indentManager.indent(!0)}},{name:"goToLine",bindKey:n("Ctrl-G","Command-G"),exec:function(){e.prompt.V(RES_I18N.Actions.GoTo(RES_I18N.Objects.Line),"",{showInput:!0,onResult:function(e){t.$ace.gotoLine(parseInt(e))}})}}]),e.xi(t)},debouncedSave:UIkit2.Utils.debounce((function(){this.saveCurrentSessionAsync()}),1e3,!1),debouncedShowSignature:UIkit2.Utils.debounce((function(e){this.getSignature(e)}),250,!1),debouncedStartAutocomplete:UIkit2.Utils.debounce((function(e){this.isAutoCompleteOpen()||this.startAutoComplete(e)}),125,!1),isAutoCompleteOpen:function(){var e=this.getAutoCompleter();return e&&e.activated},getAutoCompletePopup:function(){var e=this.getAutoCompleter();return e?e.getPopup():null},getAutoCompleter:function(){return this.$ace.completer},startAutoComplete:function(e){this.initAutocompleteTokenizer(),this.$ace.autoCompleteTriggerCharacter=e,this.$ace.commands.byName.startAutocomplete.exec(this.$ace),this.dispatch("onStartAutocomplete",[e])},getCursorElement:function(){return this.element.querySelector(".ace_cursor")},isTextSelected:function(){return this.$ace.getSelectedText().length>0},clearSelection:function(){this.$ace.selection.clearSelection()},selectWord:function(){this.$ace.selection.selectWord()},selectAll:function(){this.$ace.selection.selectAll()},copyText2:function(){this.isTextSelected()||this.$ace.selection.selectLine(),document.execCommand("copy"),this.copiedText=this.$ace.getSelectedText()},pasteText2:function(){AndroidRef&&AndroidRef.clipboardText?this.$ace.execCommand("paste",AndroidRef.clipboardText()):!document.execCommand("paste")&&this.copiedText&&this.$ace.execCommand("paste",this.copiedText)},cutText2:function(){this.copyText2(),this.$ace.execCommand("cut")},getSelectedText:function(){return this.$ace.getSelectedText()},getSelectedTextOrWordAtCursor:function(){var e=this.getSelectedText();return e||(this.$ace.selection.selectWord(),this.getSelectedText())},setScrollMargin:function(e,t){this.$ace.renderer.setScrollMargin(t,e)},addCommands:function(e){this.$ace.commands.addCommands(e)},execCommand:function(e,t){this.$ace.execCommand(e,t)},getMode:function(){return this.getSession().$modeId.split("/").pop()||""},setMode:function(e){return this.getSession().setMode("ace/mode/"+e)},getTheme:function(){return(this.$ace.renderer.$themeId||"").split("/").pop()||""},setTheme:function(e){return this.$ace.setTheme("ace/theme/"+e)},setShowGutter:function(e){return this.$ace.renderer.setShowGutter(e)},getShowGutter:function(){return this.$ace.renderer.getShowGutter()},getValue:function(){return this.$ace.getValue()},setValue:function(t){e.Gi(this,this.getSession(),t),this.clearSelection()},isDialogOpened:function(){return!!this.$ace.searchBox&&"none"!=this.$ace.searchBox.element.style.display},insertAutoCompleteMatch:function(){if(this.getAutoCompleter()&&this.isAutoCompleteOpen())return this.getAutoCompleter().insertMatch(),!0},insertTextAtCursor:function(e,t){this.getSession().insert(this.$ace.selection.getCursor(),e),this.moveCursorBy(t.rows,t.chars),"()"==e&&-1==t.chars&&this.debouncedShowSignature()},getCursorPosition:function(){return this.$ace.getCursorPosition()},getAllSelectionRanges:function(){return this.$ace.selection.getAllRanges()},setSelectionRanges:function(e){if(e.length>0){this.$ace.selection.setRange(e[0]);for(var t=1;t<e.length;t++)this.$ace.selection.addRange(e[t])}},navigateTo:function(e,t){this.$ace.navigateTo(e,t)},triggerTabPress:function(){if(!this.insertAutoCompleteMatch()){var e=this.getSession(),t=this.getCursorPosition(),n=e.getTokenAt(t.row,t.column);if(null!==n){var i=n.value,o=n.start+i.length;"."===i||"identifier"===n.type&&o===t.column?this.startAutoComplete():this.$ace.indent()}else this.$ace.indent()}},findDialog:function(e){e?this.$ace.searchBox.hide():this.$ace.execCommand("find")},replaceDialog:function(e){e?this.$ace.searchBox.hide():this.$ace.execCommand("replace")},moveCursorBy:function(e,t){this.clearSelection(),this.$ace.selection.moveCursorBy(e||0,t||0)},moveCursorLeft:function(){this.clearSelection(),this.$ace.selection.moveCursorLeft()},moveCursorRight:function(){this.clearSelection(),this.$ace.selection.moveCursorRight()},expandEmmet:function(){var t=this.$ace;e.emmet.isAvailable(t)&&(e.emmet.runEmmetCommand.call({action:"expand_abbreviation_with_tab"},t),GA_SendEvent("emmet_expand","n/a"))},autoCompleteNavigateUp:function(){if(this.isAutoCompleteOpen())return this.getAutoCompletePopup().navigateUp(),!0},moveCursorUp:function(){this.clearSelection(),this.$ace.selection.moveCursorUp()},autoCompleteNavigateDown:function(){if(this.isAutoCompleteOpen())return this.getAutoCompletePopup().navigateDown(),!0},moveCursorDown:function(){this.clearSelection(),this.$ace.selection.moveCursorDown()},scrollToLine:function(e,t,n,i){this.$ace.scrollToLine(e,t,n,i||m.noop)},undo:function(){this.getSession().getUndoManager().undo()},redo:function(){this.getSession().getUndoManager().redo()},resize:function(){this.$ace.resize()},isFocused:function(){return this.$ace.isFocused()},focus:function(e){e&&this.$ace.renderer.scrollCursorIntoView(),this.$ace.focus()},blur:function(){this.$ace.blur()},setFontSize:function(e){this.fontSize=e,this.$ace.setFontSize(e);var t=this.getAutoCompletePopup();t&&t.setFontSize(e)},setTabSize:function(e){this.tabSize=e,this.$ace.getSession().setTabSize(e)},getTabSize:function(){return this.$ace.getSession().getTabSize()},getTabString:function(){return this.$ace.getSession().getTabString()},refresh:function(){this.$ace.renderer.updateFull()},getCurrentFilePathAsync:function(){return GFS.inodePath(this.getSession().inode).catch(()=>null)},cachedModeSessionWithPath:function(t){return this.cachedModeSession(e.Ii(t))},cachedModeSession:function(e){var t=this,n=t.sessionCache[e];return n||(e="@blank"==e?"javascript":e,n=ace.createEditSession("","ace/mode/"+e),t.sessionCache[e]=n,n.selection.on("changeSelection",()=>t.observable.run({action:"selectionChange",selectedText:t.getSelectedText(),selectionRanges:t.getAllSelectionRanges()})),n.selection.on("changeCursor",()=>t.observable.run({action:"positionChange",position:t.getCursorPosition()})),t.hintManager&&(n.on("changeScrollTop",(function(){t.hintManager.close()})),n.on("changeScrollLeft",(function(){t.hintManager.close()})))),n},saveCurrentSessionAsync:function(t){t=!!t;var n=this.getSession(),i=n.inode,o=n.getValue(),a=e.Ci({inode:i,hash:sha1(o)});return a&&(a.ranges=this.getAllSelectionRanges(),a.scrollTop=n.getScrollTop(),a.scrollLeft=n.getScrollLeft()),this.observable.run({action:"save",manual:t,text:o,mtimeMs:Date.now(),writePath:GFS.inodePathSync(i)})},openBlankSession:function(){var t=this.cachedModeSession("@blank");return e.Gi(this,t,""),this.setSession(t),t},isCurrentSessionBlank:function(){return!this.getSession().inode},changeSessionAsync:function(t,{text:n,skipBackupCheck:i,skipSessionSave:o,externalContent:a,externalPath:r}){var s=this;return Promise.resolve(r?a:n||GFS.readFile(t,{encoding:"utf8"})).then(n=>{if(GFS.isBinaryContent(n))return Promise.reject("Cannot open binary file in editor.");const a=r?`ext://${r}`:t;return GFS.inode(a).then(i=>{var o=sha1(n),a=e.Ei({inode:i,hash:o}),r=s.cachedModeSessionWithPath(t);r.inode=i,e.Gi(s,r,n),void 0!==a.scrollTop&&(r.setScrollTop(a.scrollTop),r.setScrollLeft(a.scrollLeft)),s.setSession(r),r.setUndoManager(a.undoManager),a.ranges&&s.setSelectionRanges(a.ranges)}).then(()=>s.observable.run({action:"sessionChange",writePath:a,skipBackupCheck:i,skipSessionSave:o,mtimeMs:Date.now(),path:t,text:n}))})},refreshCurrentSession:function(){var t=this,n=t.getSession(),i=t.getAllSelectionRanges(),o=n.getScrollTop(),a=n.getScrollLeft(),r=n&&n.inode;return r?GFS.inodePath(r).then(e=>GFS.readFile(e,{encoding:"utf8"})).then(r=>(e.Gi(t,n,r),n.setScrollTop(o),n.setScrollLeft(a),t.setSelectionRanges(i),n)):Promise.resolve(n)},getSession:function(){return this.$ace.getSession()},setSession:function(t){var n=this.editorOptions;function i(e,t){return void 0===e?t:e}t.setUseWorker(i(n.useWorker,e.defaultUseAceWorkers)),t.setUseWrapMode(i(n.wordWrap,e.defaultWordWrap)),this.$ace.setSession(t),this.$ace.resize(),this.setTabSize(this.tabSize||e.defaultTabSize),this.onSetSession&&this.onSetSession(t)},setAutocomplete:function(e){this.autocompleteOff=!e},setDisplayIndentGuides:function(e){this.$ace.setOption("displayIndentGuides",e||!1)},getTokenType:function(e){e=e||0;var t=this.getSession(),n=this.getCursorPosition(),i=t.getTokenAt(n.row,n.column+e);return i?i.type:null}},UI.Dispatcher,UI.PropertySetter)})).__init__((function(e){UI.def({__name__:"touchEditor",$defaults:{flexLayout:"column",margin:"",editor:{view:"editor"},keyboard:!0},__after__:function(t){var n=this;e.touchEditors.push(n);var i=n.$editor=UI.new(t.editor);if(n.$components.push(i),n.element.appendChild(i.element),t.keyboard){var o=n.$keyboard=n.addChild(e.keyboardTemplate(i));o.hideExtraKeys(),n.initKeyboard(i),n.element.appendChild(o.element)}UI.support.touch?n.touchCursors=new e.TouchCursors(i):n.contextMenuManager=new e.ContextMenuManager(i),i.element.addEventListener("scroll",(function(){0!==i.element.scrollTop&&(i.element.scrollTop=0)})),i.addListener("onStartAutocomplete",(function(){n.initAutocomplete(i)}))},setExtraTouchKeyboard:function(e){this.$keyboard&&(this.$hideExtraTouchKeyboard=!e)},setTouchKeyboard:function(e){this.$keyboard&&(e?this.$keyboard.showKeys():this.$keyboard.hideKeys())},setKeyboardPosition:function(e){if(UIkit2.support.touch){var t=this.$keyboard,n=this.$editor,i=t.element,o=$$(t.keysId+"HideKeyboard"),a=$$(t.dropdownId),r=a.element.firstChild;switch(e){case"top":t.set("flexLayout","column-reverse"),o.hide(),n.setScrollMargin(8,142),UI.addClass(i,"position-top"),UI.addClass(r,"uk-animation-slide-top"),UI.removeClass(r,"uk-animation-slide-bottom"),a.pos="bottom-left";break;default:t.set("flexLayout","column"),o.show(),n.setScrollMargin(8,64),UI.removeClass(i,"position-top"),UI.removeClass(r,"uk-animation-slide-top"),UI.addClass(r,"uk-animation-slide-bottom"),a.pos="top-left"}}},initKeyboard:function(e){var t=this,n=e.$ace;n.on("focus",(function(){t.$hideExtraTouchKeyboard||t.$keyboard.showExtraKeys(),t.$keyboard.hideMenu(),e.observable.run({action:"focus"})})),n.on("blur",(function(){setTimeout(t.$keyboard.hideExtraKeys,1)})),t.$editor.observable.subscribe((function({action:e,path:n}){if("sessionChange"===e)switch(PathUtils.ext(n)){case".css":case".scss":case".less":t.$keyboard.changeMode("css");break;case".svg":case".xml":case".html":t.$keyboard.changeMode("html");break;case".js":case".jsx":case".ts":case".tsx":default:t.$keyboard.changeMode("js")}}))},initAutocomplete:function(e){var t=e.getAutoCompleter();if(!this.touchEnabled&&t){this.touchEnabled=!0;var n=0,i=t.getPopup();i.renderer.$maxLines=window.innerWidth<=480?5:8,i.container.style.fontSize=e.fontSize,i.on("touchmove",(function(e){var o=i.getFirstVisibleRow(),a=i.getLastVisibleRow(),r=i.getRow();0==o||a==t.completions.filtered.length-1?(n+=e.wheelY)<-15?(i.setRow(Math.max(r-1,o)),n=0):n>15&&(i.setRow(Math.min(r+1,a)),n=0):r!=o+1&&(n=0,i.setRow(o+1))}))}}},UI.definitions.flexgrid)})),m.module("editor").require("keyButton").def({keyboardTemplate:function(e){var t=UI.uid("dropdown"),n=UI.uid("icon"),i=UI.uid("keys"),o=UI.uid("keys"),a=this;return{cls:"x-editor-keyboard-container",device:"touch",flex:!0,flexLayout:"column",dropdownId:t,keysId:o,cells:[{id:t,view:"dropdown",hidden:!0,cls:"x-editor-keyboard-dropdown",style:{position:"absolute",width:"100%"},pos:"top-left",dropdownAnimation:"uk-animation-slide-bottom",dropdown:{cls:"x-editor-options-list",cells:[{view:"list",cls:"uk-width-1-2",margin:"left",listStyle:"side",data:[{view:"link",icon:"list",value:"format",label:RES_I18N.Elements.Format},{view:"link",icon:"search",value:"find",label:RES_I18N.Elements.FindAll},{view:"link",icon:"move",value:"paste",label:RES_I18N.Elements.Paste},{view:"link",icon:"reply",value:"undo",label:RES_I18N.Elements.Undo}],on:{onItemClick:function(t){switch(t.value){case"format":e.indentManager.indent(!0);break;case"find":a.Si(e.getSelectedTextOrWordAtCursor());break;case"paste":e.pasteText2();break;case"undo":e.undo()}}}},{view:"list",cls:"uk-width-1-2",margin:"right",listStyle:"side",data:[{view:"link",icon:"bolt",value:"goto",label:i18nTag(RES_I18N.Objects.Definition)},{view:"link",icon:"commenting",label:"Signature",value:"signature"},{view:"link",icon:"comments",label:RES_I18N.Elements.ShowInfo,value:"info"},{view:"link",icon:"forward",value:"redo",label:RES_I18N.Elements.Redo}],on:{onItemClick:function(t){switch(t.value){case"redo":e.redo();break;case"signature":e.getSignature();break;case"goto":e.goToDefinition();break;case"info":e.getInfo()}}}}]},on:{onOpen:function(){UI.addClass($$(n).element,"uk-active"),this.show()},onClose:function(){UI.removeClass($$(n).element,"uk-active"),this.hide()}}},{id:i,cls:"x-editor-keyboard",flexSize:"none",flexAlign:"middle",flexSpace:"around",cells:[{view:"keyButton",batch:"js",label:"()",pos:"top-left",multirow:!0,offset:-5,defaultIndex:0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"("},{view:"keyOption",label:"{"},{view:"keyOption",label:"["},{view:"keyOption",label:"<"},{view:"keyOption",label:"&#x2F",value:"/"}]},{cells:[{view:"keyOption",label:")"},{view:"keyOption",label:"}"},{view:"keyOption",label:"]"},{view:"keyOption",label:">"},{view:"keyOption",label:"&#x2F>",value:"/>"}]},{cells:[{view:"keyOption",label:"()",offset:-1},{view:"keyOption",label:"{}",offset:-1},{view:"keyOption",label:"[]",offset:-1},{view:"keyOption",label:"<>",offset:-1},{view:"keyOption",label:"<&#x2F>",value:"</>",offset:-1}]}]}},{view:"keyButton",batch:"html",label:"<>",pos:"top-left",multirow:!0,offset:-5,defaultIndex:0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"<"},{view:"keyOption",label:"&#x2F",value:"/"},{view:"keyOption",label:"{"},{view:"keyOption",label:"("},{view:"keyOption",label:"["}]},{cells:[{view:"keyOption",label:">"},{view:"keyOption",label:"&#x2F>",value:"/>"},{view:"keyOption",label:"}"},{view:"keyOption",label:")"},{view:"keyOption",label:"]"}]},{cells:[{view:"keyOption",label:"<>",offset:-1},{view:"keyOption",label:"<&#x2F>",value:"</>",offset:-1},{view:"keyOption",label:"{}",offset:-1},{view:"keyOption",label:"()",offset:-1},{view:"keyOption",label:"[]",offset:-1}]}]}},{view:"keyButton",batch:"css",label:"{}",pos:"top-left",multirow:!0,offset:-5,defaultIndex:0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"{"},{view:"keyOption",label:"("},{view:"keyOption",label:"<"},{view:"keyOption",label:"&#x2F",value:"/"},{view:"keyOption",label:"["}]},{cells:[{view:"keyOption",label:"}"},{view:"keyOption",label:")"},{view:"keyOption",label:">"},{view:"keyOption",label:"&#x2F>",value:"/>"},{view:"keyOption",label:"]"}]},{cells:[{view:"keyOption",label:"{}",offset:-1},{view:"keyOption",label:"()",offset:-1},{view:"keyOption",label:"<>",offset:-1},{view:"keyOption",label:"<&#x2F>",value:"</>",offset:-1},{view:"keyOption",label:"[]",offset:-1}]}]}},{view:"keyButton",batch:"js",label:"if",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"in",value:"in "},{view:"keyOption",label:"sw",value:"switch "},{view:"keyOption",label:"case",value:"case "},{view:"keyOption",label:"br",value:"break"},{view:"keyOption",label:"=>",value:"=> "},{view:"keyOption",label:"let",value:"let "},{view:"keyOption",label:"cons",value:"const "}]},{cells:[{view:"keyOption",label:"for",value:"for "},{view:"keyOption",label:"if",value:"if "},{view:"keyOption",label:"else",value:"else "},{view:"keyOption",label:"ret",value:"return "},{view:"keyOption",label:"fn",value:"function "},{view:"keyOption",label:"var",value:"var "},{view:"keyOption",label:"this",value:"this"}]}]}},{view:"keyButton",batch:"css",label:"px",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"!im",value:"!important"},{view:"keyOption",label:"pt"},{view:"keyOption",label:"rem"},{view:"keyOption",label:"rgba"},{view:"keyOption",label:"auto"}]},{cells:[{view:"keyOption",label:"%"},{view:"keyOption",label:"px"},{view:"keyOption",label:"em"},{view:"keyOption",label:"rgb"},{view:"keyOption",label:"none"}]}]}},{view:"keyButton",batch:"html",label:"div",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"html",value:"<!doctype html></html>",offset:-7},{view:"keyOption",label:"head",value:"<head></head>",offset:-7},{view:"keyOption",label:"body",value:"<body></body>",offset:-7},{view:"keyOption",label:"style",value:"<style></style>",offset:-8},{view:"keyOption",label:"scp",value:"<script><\/script>",offset:-9},{view:"keyOption",label:"link",value:"<link>"},{view:"keyOption",label:"meta",value:"<meta>"}]},{cells:[{view:"keyOption",label:"form",value:"<form></form>",offset:-7},{view:"keyOption",label:"div",value:"<div></div>",offset:-6},{view:"keyOption",label:"span",value:"<span></span>",offset:-7},{view:"keyOption",label:"ul",value:"<ul></ul>",offset:-5},{view:"keyOption",label:"li",value:"<li></li>",offset:-5},{view:"keyOption",label:"btn",value:"<button></button>",offset:-9},{view:"keyOption",label:"img",value:"<img>"}]}]}},{view:"keyButton",batch:"html",label:"class",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"click",value:'onclick=""',offset:-1},{view:"keyOption",label:"title",value:'title=""',offset:-1},{view:"keyOption",label:"data",value:'data=""',offset:-1},{view:"keyOption",label:"alt",value:'alt=""',offset:-1},{view:"keyOption",label:"rel",value:'rel="" ',offset:-1}]},{cells:[{view:"keyOption",label:"src",value:'src=""',offset:-1},{view:"keyOption",label:"class",value:'class=""',offset:-1},{view:"keyOption",label:"style",value:'style=""',offset:-1},{view:"keyOption",label:"id",value:'id=""',offset:-1},{view:"keyOption",label:"href",value:'href=""',offset:-1}]}]}},{view:"keyButton",batch:"js",label:"=",offset:21,defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"*"},{view:"keyOption",label:"+"},{view:"keyOption",label:"="},{view:"keyOption",label:"-"},{view:"keyOption",label:"/"},{view:"keyOption",label:"%"}]}},{view:"keyButton",batch:"css",label:".",offset:21,defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"_"},{view:"keyOption",label:"-"},{view:"keyOption",label:"."},{view:"keyOption",label:"#"},{view:"keyOption",label:"&"},{view:"keyOption",label:">"}]}},{view:"keyButton",batch:"html",label:"=",offset:21,defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"*"},{view:"keyOption",label:"+"},{view:"keyOption",label:"="},{view:"keyOption",label:"-"},{view:"keyOption",label:"/"}]}},{view:"keyButton",batch:"js",label:"!",defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"_"},{view:"keyOption",label:"$"},{view:"keyOption",label:"!"},{view:"keyOption",label:"@"},{view:"keyOption",label:"#"}]}},{view:"keyButton",batch:"js",label:"&&",defaultIndex:2,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"<="},{view:"keyOption",label:">="},{view:"keyOption",label:"||"},{view:"keyOption",label:"!="},{view:"keyOption",label:"!=="}]},{cells:[{view:"keyOption",label:"<"},{view:"keyOption",label:">"},{view:"keyOption",label:"&&"},{view:"keyOption",label:"=="},{view:"keyOption",label:"==="}]}]}},{view:"keyButton",batch:"css",label:":",defaultIndex:1,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"+"},{view:"keyOption",label:":"},{view:"keyOption",label:"@"}]}},{view:"keyButton",batch:"css",label:";",defaultIndex:1,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:","},{view:"keyOption",label:";"},{view:"keyOption",label:"!"}]}},{view:"keyButton",batch:"js",label:";",defaultIndex:1,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:":"},{view:"keyOption",label:";"},{view:"keyOption",label:"?:",value:"?  :",offset:-2}]}},{view:"keyButton",batch:"js",label:".",pos:"top-right",offset:44,defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"\\"},{view:"keyOption",label:"/"},{view:"keyOption",label:"."},{view:"keyOption",label:",",value:", "}]}},{view:"keyButton",batch:"js",label:"''",pos:"top-right",multirow:!0,offset:4,defaultIndex:3,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"/"},{view:"keyOption",label:"`"},{view:"keyOption",label:'"'},{view:"keyOption",label:"'"}]},{cells:[{view:"keyOption",label:"//",offset:-1},{view:"keyOption",label:"``",offset:-1},{view:"keyOption",label:'""',offset:-1},{view:"keyOption",label:"''",offset:-1}]}]}},{view:"keyButton",batch:"html",label:'""',pos:"top-right",multirow:!0,offset:4,defaultIndex:3,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"`"},{view:"keyOption",label:"'"},{view:"keyOption",label:'"'}]},{cells:[{view:"keyOption",label:"``",offset:-1},{view:"keyOption",label:"''",offset:-1},{view:"keyOption",label:'""',offset:-1}]}]}},{view:"keyButton",batch:"css",label:"''",pos:"top-right",multirow:!0,offset:4,defaultIndex:3,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"`"},{view:"keyOption",label:'"'},{view:"keyOption",label:"'"}]},{cells:[{view:"keyOption",label:"``",offset:-1},{view:"keyOption",label:"''",offset:-1},{view:"keyOption",label:'""',offset:-1}]}]}},{view:"menuIcon",batch:"html",icon:"bolt",style:{width:"40px"},on:{onMouseDown:function(){a.vibrate.Ot(),e.expandEmmet(),e.focus(!0)}}}]},{id:o,cls:"x-editor-keyboard",flexSize:"none",style:{padding:"0 6px"},cells:[{id:o+"Tab",view:"menuIcon",flexSize:"flex",icon:"arrow-right",on:{onMouseDown:function(){a.vibrate.Ot(),e.insertAutoCompleteMatch()||(e.triggerTabPress(),e.focus(!0))}}},{id:o+"Up",view:"menuIcon",flexSize:"flex",icon:"chevron-up",on:{onMouseDown:function(){a.vibrate.Ot(),e.autoCompleteNavigateUp()||(e.moveCursorUp(),e.focus(!0))}}},{id:o+"Down",view:"menuIcon",flexSize:"flex",icon:"chevron-down",on:{onMouseDown:function(){a.vibrate.Ot(),e.autoCompleteNavigateDown()||(e.moveCursorDown(),e.focus(!0))}}},{id:o+"Left",view:"menuIcon",flexSize:"flex",icon:"chevron-left",on:{onMouseDown:function(){a.vibrate.Ot(),e.moveCursorLeft(),e.focus(!0)}}},{id:o+"Right",view:"menuIcon",flexSize:"flex",icon:"chevron-right",on:{onMouseDown:function(){a.vibrate.Ot(),e.moveCursorRight(),e.focus(!0)}}},{id:n,view:"menuIcon",flexSize:"flex",icon:"plus",on:{onClick:function(e,n,i){UI.preventEvent(i);var o=$$(t);o&&!o.isOpened()&&setTimeout((function(){o.open(),o.positionNextTo(o.element.parentNode,o.pos,0,0)}),325)}}},{id:o+"HideKeyboard",view:"menuIcon",flexSize:"flex",icon:"triangle-down"}]}],on:{onInitialized:function(){this.optionsKey=$$(n),this.leftKey=$$(o+"Left"),this.rightKey=$$(o+"Right"),this.upKey=$$(o+"Up"),this.downKey=$$(o+"Down"),this.tabKey=$$(o+"Tab"),this.changeMode("js")}},hideMenu:function(){$$(t).close()},showExtraKeys:function(){$$(i).show()},hideExtraKeys:function(){$$(i).hide()},changeMode:function(e){$$(i).showBatch(e)},showKeys:function(){$$(o).show()},hideKeys:function(){$$(o).hide()}}}}),m.module("editor").require("touchButton").__init__((function(e){e.scrollingStates={},e.activeActionBar=null})).__init__((function(e){e.TouchCursors=function(t){var n=t.$ace,i=n.renderer,o=t.element,a=this;a.$touching=!1,a.editor=t,a.caretCursor=UI.new({cls:"x-caret-cursor",hidden:!0,position:"absolute"},o),a.leftCursor=UI.new({cls:"x-left-cursor",hidden:!0,position:"absolute"},o),a.rightCursor=UI.new({cls:"x-right-cursor",hidden:!0,position:"absolute"},o),a.actionBar=UI.new({cls:"x-action-bar",animation:"fade",hidden:!0,position:"absolute",cells:[{view:"touchButton",label:RES_I18N.Elements.Cut,on:{onTouchEnd:function(){t.cutText2(),a.actionBar.hide()}}},{view:"touchButton",label:RES_I18N.Elements.Copy,on:{onTouchEnd:function(){t.copyText2(),a.actionBar.hide()}}},{view:"touchButton",label:RES_I18N.Elements.Paste,on:{onTouchEnd:function(){t.pasteText2(),a.actionBar.hide()}}}]},o),a.pasteActionBar=UI.new({cls:"x-action-bar",animation:"fade",hidden:!0,position:"absolute",cells:[{view:"touchButton",label:RES_I18N.Elements.Paste,on:{onTouchEnd:function(){t.pasteText2(),a.pasteActionBar.hide()}}},{view:"touchButton",label:RES_I18N.Elements.SelectAll,on:{onTouchEnd:function(){a.pasteActionBar.hide(),t.selectAll();var e=t.getAllSelectionRanges().pop();e&&t.scrollToLine(e.end.row)}}}]},o),n.on("blur",(function(){a.caretCursor.hide()})),n.on("focus",(function(){a.updateTextSelectionCursors()})),a.caretCursor.element.addEventListener("touchmove",(function(e){a.$touching=!0,function e(t){if(t){for(var o,r,s,l=i.$cursorLayer,c=l.element.getBoundingClientRect(),u=l.config.offset,h=n.selection.getRange(),d=n.session.getLength(),p=0;p<d&&!((s=l.getPixelPosition({row:p+1,column:0},!0).top-u+22)>=t.clientY);p++);h.start.row=h.end.row=p;for(var f=n.session.getLine(p).length,m=i.$textLayer.$fontMetrics.$characterSize.height,v=0;v<f&&(r=(o=l.getPixelPosition({row:p,column:v},!0)).left+c.left+3,s=o.top-u+m+22,!(r>=t.clientX&&s>=t.clientY));v++);h.start.column=h.end.column=v,n.selection.setRange(h);var{row:g,column:b}=n.selection.lead;a.scrollTarget={afterScroll:e.bind(this,t),scrollPos:l.getPixelPosition({row:g,column:b})},a.updateTextSelectionCursors()}}(e.changedTouches[0]),e.cancelable&&UI.preventEvent(e)})),a.rightCursor.element.addEventListener("touchmove",(function(e){UI.preventEvent(e),a.$touching=!0,function e(t){if(t){for(var o,r,s,l=i.$cursorLayer,c=l.element.getBoundingClientRect(),u=l.config.offset,h=n.selection.getRange(),d=n.session.getLength(),p=h.start.row;p<d&&!((s=l.getPixelPosition({row:p+1,column:0},!0).top-u+18)>=t.clientY);p++);h.end.row=p;for(var f=n.session.getLine(p).length,m=h.start.row==p?h.start.column+1:0,v=i.$textLayer.$fontMetrics.$characterSize.height,g=m;g<f&&(r=(o=l.getPixelPosition({row:p,column:g},!0)).left+c.left+18,s=o.top-u+v+18,!(r>=t.clientX&&s>=t.clientY));g++);h.end.column=g,n.selection.setRange(h);var{row:b,column:w}=n.selection.lead;a.scrollTarget={afterScroll:e.bind(this,t),scrollPos:l.getPixelPosition({row:b,column:w})},a.updateTextSelectionCursors()}}(e.changedTouches[0])})),a.leftCursor.element.addEventListener("touchmove",(function(e){UI.preventEvent(e),a.$touching=!0,function e(t){if(t){for(var o,r,s,l=i.$cursorLayer,c=l.element.getBoundingClientRect(),u=l.config.offset,h=n.selection.getRange(),d=h.end.row;d>=0&&!((s=l.getPixelPosition({row:d,column:0},!0).top-u+18)<=t.clientY);d--);h.start.row=d;for(var p=h.end.row==d?h.end.column-1:n.session.getLine(d).length,f=i.$textLayer.$fontMetrics.$characterSize.height,m=0;m<p&&(r=(o=l.getPixelPosition({row:d,column:m},!0)).left+c.left,s=o.top-u+f+18,!(r>=t.clientX&&s>=t.clientY));m++);h.start.column=m,n.selection.setRange(h);var{row:v,column:g}=n.selection.anchor;a.scrollTarget={afterScroll:e.bind(this,t),scrollPos:l.getPixelPosition({row:v,column:g})},a.updateTextSelectionCursors()}}(e.changedTouches[0])})),i.on("afterRender",a.updateTextSelectionCursors.bind(a));var r=null,s=!1,l=0,c=0;function u(e,t){t||document.hasFocus()&&UI.preventEvent(e),null!==r&&(clearTimeout(r),r=null)}function h(){var e=a.scrollTarget;if(e&&a.cursorScroll){var t=Date.now(),n=.005*(t-a.cursorScroll),o=0,r=0,s=Math.max(0,.5*window.innerWidth-50),l=Math.max(0,.5*window.innerHeight-35),c=Math.min(s,80),u=Math.min(s,80),d=Math.min(l,80),p=Math.min(l,160),f=e.scrollPos,m=f.top-d,v=f.left-c,g=f.top+p,b=f.left+u,w=i.session,y=w.getScrollTop(),x=w.getScrollLeft(),k=i.$size;y>m&&m>=0?r=Math.min(n*(m-y),-1):y+k.height<g&&(r=Math.max(n*(g-y-k.height),1)),x>v&&v>=0?o=Math.min(n*(v-x),-1):x+k.width<b&&(o=Math.max(n*(b-x-k.width),1)),(o||r)&&(o&&w.setScrollLeft(x+o),r&&w.setScrollTop(y+r),e.afterScroll())}a.cursorScroll&&(a.cursorScroll=t,requestAnimationFrame(h))}function d(e){a.cursorScroll||(a.cursorScroll=Date.now(),requestAnimationFrame(h)),u(e)}function p(){a.cursorScroll=0,a.$touching=!1,a.updateTextSelectionCursors()}o.addEventListener("touchmove",(function(e){var t=e.changedTouches[0],n=-(t.clientX-l),i=-(t.clientY-c);(Math.abs(i)>10||Math.abs(n)>10)&&null!==r&&(clearTimeout(r),r=null)})),o.addEventListener("touchstart",(function(u){var h=u.changedTouches[0];if(l=h.clientX,c=h.clientY,UI.hasClass(u.target,"ace_gutter-cell")||UI.hasClass(u.target,"ace_fold-widget")||UI.hasClass(u.target,"ace_fold"))UI.removeClass(i.$gutter,"invisible-fold-widget");else{a.cursorScroll=0,document.hasFocus()&&UI.preventEvent(u),UI.addClass(i.$gutter,"invisible-fold-widget"),i.$gutter.dispatchEvent(new CustomEvent("mouseout")),null!==r&&(clearTimeout(r),r=null);var d=u.changedTouches[0],p=i.pixelToScreenCoordinates(d.clientX,d.clientY);r=setTimeout((function(){if("start"===e.scrollingStates[o.id]){s=!0,n.selection.moveCursorToScreen(p.row,p.column),n.selection.clearSelection();var i=n.selection.getWordRange(),r=n.getSession().getTextRange(i);if(!/^\s+$/.test(r)){var l=n.selection.getCursor().column;(r.length<=3||i.start.column<l&&i.end.column>l)&&n.selection.selectWord()}if(n.isFocused()||n.focus(),!n.getSelectedText()){var c=t.getCursorElement(),u=a.pasteActionBar,h=t.$ace.renderer;e.Mi(u);var d=u.element.getBoundingClientRect(),f=c.getBoundingClientRect(),m=f.left/2;m=(m=m<8?8:m)+d.width>h.$size.width-8?h.$size.width-8-d.width:m,u.element.style.left=m+"px",u.element.style.top=(f.top<120?f.bottom+32:f.top-d.height-16)+"px"}e.vibrate.Ot()}}),675)}})),a.caretCursor.element.addEventListener("touchstart",d),a.caretCursor.element.addEventListener("touchend",p),a.leftCursor.element.addEventListener("touchstart",d),a.leftCursor.element.addEventListener("touchend",p),a.rightCursor.element.addEventListener("touchstart",d),a.rightCursor.element.addEventListener("touchend",p),o.addEventListener("touchend",(function(t){var r=t.target&&UI.hasClass(t.target,"ace_content");if(u(t,!r),a.$touching=!1,r)if(s)s=!1;else if("start"===e.scrollingStates[o.id]){var l=t.changedTouches[0],c=i.pixelToScreenCoordinates(l.clientX,l.clientY);n.selection.clearSelection(),n.selection.moveCursorToScreen(c.row,c.column),n.focus(!0)}})),o.addEventListener("contextmenu",UI.preventEvent),o.addEventListener("click",(function(){n.isFocused()||n.focus()}))},e.TouchCursors.prototype={updateTextSelectionCursors:function(){var t=this.caretCursor,n=this.leftCursor,i=this.rightCursor,o=this.actionBar,a=this.editor.$ace,r=a.getSelectedText(),s=a.selection.getRange(),l=a.renderer,c=l.gutterWidth,u=l.$cursorLayer.config.offset,h=l.$textLayer.$fontMetrics.$characterSize.height,d=l.$cursorLayer.getPixelPosition(s.start,!0),p=l.$cursorLayer.getPixelPosition(s.end,!0),f=d.top+h-u,m=p.top+h-u,v=Math.round(l.scrollLeft);if(r&&r.length>0)if(t.hide(),n.show(),n.element.style.left=d.left-18+c-v+"px",n.element.style.top=f+"px",i.show(),i.element.style.left=p.left+c-v+"px",i.element.style.top=m+"px",this.$touching)e.Mi();else{e.Mi(o);var g=o.element.getBoundingClientRect(),b=(d.left+c)/2+(p.left+c)/2-g.width/2;b=(b=b<8?8:b)+g.width>l.$size.width-8?l.$size.width-8-g.width:b,o.element.style.left=b+"px",o.element.style.top=(f<120?m+32:f-h-g.height-16)+"px"}else a.isFocused()&&(t.show(),t.element.style.left=p.left-9+c-l.scrollLeft+1+"px",t.element.style.top=m+1+"px"),i.hide(),n.hide(),o.hide(),this.pasteActionBar.hide()}}})).__init__((function(e){var t=ace.require("ace/lib/event");t.addTouchMoveListener=function(n,i){if("ontouchmove"in n){var o,a,r,s,l,c,u=e.scrollingStates,h=n.id;t.addListener(n,"touchstart",(function(e){var t=e.changedTouches[0];o=t.clientX,a=t.clientY,l=Date.now(),r=s=0,u[h]="start"})),t.addListener(n,"touchmove",(function(e){var t=e.changedTouches[0],n=e.wheelX=-(t.clientX-o),c=e.wheelY=-(t.clientY-a),d=Date.now(),p=.001*(d-l);r=.5*r+n/p*.5,s=.5*s+c/p*.5,o=t.clientX,a=t.clientY,l=d,(Math.abs(n)>5||Math.abs(c)>5)&&(u[h]="scroll"),i(e)})),t.addListener(n,"touchend",(function(){(Math.abs(r)>10||Math.abs(s)>10)&&(l=c=Date.now(),u[h]="scroll",requestAnimationFrame(d))}))}function d(){var e,t,n,o,a;(r||s)&&(e=(a=Date.now())-c,t=.001*(a-l),l=a,o=s*t*Math.exp(-e/325),n=r*t*Math.exp(-e/325),Math.abs(o)>1||Math.abs(n)>1?(i({wheelX:n,wheelY:o,timeStamp:a}),requestAnimationFrame(d)):u[h]=!1)}}})).def({Mi:function(e){this.activeActionBar&&this.activeActionBar.hide(),e&&(e.show(),this.activeActionBar=e)}}),m.module("landing").__new__(e=>{e.annoucements='\n# Update 0.9.12\n\n## Changes\n\n- Move Git authentication settings to file (preserved after updates)\n- Improved backup system for last file edited\n\n### Git\n\n- Local branch can be created without remote\n- New branch management interface (delete/add local branches)\n- New remote management interface (delete/add remotes)\n- Fetch specific remote\n- Push/pull from specific upstream branch\n\n## Bug fixes\n\n- Fixed Spanish locale\n- Stability fixes to autocomplete parser\n- Stability fixes to project index backend\n- Fixed 0-index row numbers in search\n- Fixed file search buttons missing on new project\n\n# Update 0.9.10\n\n## Changes\n\n- Add locales for Spanish, Portuguese, Japanese, Chinese\n\n## Bug fixes\n\n- Fixed ZIP import permissions issue\n- Fixed vibrating cursor during selection\n- Fixed left cursor blocked by gutter during selection\n\n# Update 0.9.7\n\n## Changes\n\n- Improved touch selection\n- Elastic touch cursor drag selection\n\n## Bug fixes\n\n- Fix project search\n\n# Update 0.9.6\n\n## Changes\n\n- "Launch" button will launch the current HTML file, otherwise defaults to the set \'Default Launch\' HTML file followed by \'index.html\'\n\n## Bug fixes\n\n- Layout fixes for desktop mode (introduced in 0.9.5)\n- Fixed image viewer not working (requires upgrade Android app to 3.0.9)\n- Fixed public BitBucket repo cloning\n\n# Update 0.9.5\n\n## PWA is here!\n\n#### An intermediate step in supporting iOS\n\n- New PWA version of app available for iOS and Android, available <a rel=\'noopener noreferrer\' href="https://spck.io/pwa" target="_blank">here</a>\n- For instructions to install PWAs visit <a rel=\'noopener noreferrer\' href="https://rangle.io/blog/progressive-web-apps-hit-the-desktop/" target="_blank">here</a>\n- Note that the PWA version uses IndexedDB and do not offer the same feature rich features as the Android App\n\n## Changes\n\n- App deep-linking available in Android app 3.0.8\n- Add new setting \'Keyboard Position\' (Mainly for iOS devices)\n\n# Update 0.9.4\n\n## Changes\n\n- Add emmet support to HTML keyboard behind the lightning key ⚡\n- If you\'re not familiar with emmet, visit this <a rel=\'noopener noreferrer\' href="https://devhints.io/emmet" target="_blank">link</a>\n- New "Share Link" feature available for files (App deeplinking will be available in upcoming release of Android app)\n- Update typings library for autocompletion\n\n## Bug fixes\n\n- Fix long press selecting white spaces only (hinders paste feature)\n- Fix Autocomplete to work like it used to (prior to 0.6.0)\n- Fix Function Signature lookup\n- Fix Autocomplete not working with HTML tags\n\n##\n\n# Update 0.9.3\n\n## Bug fixes\n\n- Fix corrupt zip file using "Export ZIP"\n- Fix editor focusing when scrolling\n\n# Update 0.9.2\n\n## Minor Changes\n\n- Add progress for import projects\n- Add Revert & Checkout option to git checkout dialog\n\n## Bug fixes\n\n- Fix import zip function for many cases\n- Fix interface bugs\n- Stability improvements to service worker\n- Memory usage improvements to Android app (3.0.7)\n\n# Update 0.9.1\n\n## Minor Changes\n\n- Add dark mode preloader\n- Add row numbers to search\n- Add editor window search button\n- Git is enabled by proxy on [browser editor](https://spck.io)\n- Increase font sizes for better compatibility with iOS\n- Improved searches text truncation limit\n- Improved word selection logic\n- Improved memory management logic\n\n## Bug fixes\n\n- Fixed search ordering by row number\n- Fixed git Revert All feature not deleting unstaged files\n- Fixed git status visual caching issues\n- Fixed sort order for git status list\n\n# Update 0.9.0.beta\n\n## Major changes\n\n- New interface for the New Year (Happy new year everyone!)\n- New zipping library (faster and more stable)\n- Add branch feature available for git\n- New dynamic extra keyboard (changes for HTML/CSS)\n\n## Bug fixes\n- Fixed search results being erased upon hitting maximum entries\n- Fixed no project sort order (sort by most recent)\n- Fixed various git status issues\n- Fixed wrong lstat mtime conversions (git-status related)\n- Fixed lstat caching problems with undo/redo (git-status)\n- Fixed git repo url not found issue (need update to Android app 3.0.4)\n- Fixed git branch checkout not finding remote branches\n- Fixed git checkout falsely failing checks (complain unstaged changes)\n- Fixed git library missing index entries upon checkout\n- Fixed git revert for deleted/added files and folders\n- Fixed git status problems with undo/redo actions\n\n# Update 0.8.0.beta\n\n## Major changes\n- Android FS is finally here (available in Android app 3.0.0)\n- New projects will be created in the internal storage folder of the app\n- Old projects will have an "IDB" label next to them\n- Old projects can be migrated when opened in new Android app (3.0.0)\n- Old projects still function, migration can be opted out temporarily\n- New: "Open in Browser" option for FS projects\n\n## Minor changes\n- "Console" option is now saved in preferences for Android app\n- Switched auto formatting to js-beautifier\n- Small tweaks to default templates\n- Improved offline mode, and will work in more network situations\n\n## Extra\n- Android Q now recommends "scoped" app storage, apps will no longer be freely able to store and access files created outside the app, this affects the design choices made on filesystem integration for compatibility with future versions of Android. For more information please visit [Manage scoped external storage access](https://developer.android.com/training/data-storage/files/external-scoped)\n'}),m.module("landing").require("project","gitClient","cloneRepo","messages","model","remote").__init__((function(e,{project:t,gitClient:n,cloneRepo:i,messages:o,model:a,remote:r}){Object.assign(e,{project:t,gitClient:n,cloneRepo:i,messages:o,model:a,remote:r}),e.md=window.markdownit({html:!0}),e.labIndex={},e.filters={}})).def({Di:function(){return $$("landingTab")},Wi:function(){return $$("landingProjectsList")},Vi:function(){var e=this.md.render(this.annoucements);$$("landingScroller").showBatch("annoucements"),$$("landingProjectsSearch").hide(),$$("landingAnnoucements").element.innerHTML=e},Hi:function(){return $$("landingProjectsSearch").show(),Object.keys(this.labIndex).length?Promise.resolve(this.qi()):this.Ki()},Ki:function(){var e=this;return e.Qi().then((function(){e.qi()})).then(GA_SendEvent_Success("landing_refresh_list","landing"),GA_SendEvent_Failure("landing_refresh_list","landing"))},qi:function(){var e=this,t=e.Wi(),n=e.Zi(Object.keys(e.labIndex).map((function(t){return e.labIndex[t]})));t.setData(n),$$("landingScroller").showBatch(n.length?"list":"empty")},Yi:function(e,t){return(e=new Date(e.date).getTime())-(t=new Date(t.date).getTime())},Zi:function(e){switch(this.filters.category){case"tag":return this.Ji(e.filter((function(e){return e.tagged})));default:return this.Ji(e).sort(this.Yi)}},Ji:function(e){var t=$$("landingProjectsSearch").getValue().toLowerCase();return t?e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t)||-1!==e.label.toLowerCase().indexOf(t)})):e},Xi:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e},Qi:function(){var e=this;return e.remote.$({url:"labs/index.json",retryCount:1}).then((function(t){var n=tryParseJSON(t)||{};return e.model.M("tagged").then((function(t){return t?Object.keys(n).forEach((function(e){n[e].tagged=-1!==t.indexOf(e),n[e].key=e})):Object.keys(n).forEach((function(e){n[e].key=e})),UI.extend(e.labIndex,n)}))}))},eo:function(e){var t=this;return t.model.M("tagged").then((function(n){var i=n=n||[];if(-1===n.indexOf(e.key)?(e.tagged=!0,i=n.concat([e.key])):(e.tagged=!1,i=n.filter(t=>t!==e.key)),GA_SendEvent("tag_project","landing"),i!==n)return t.model.Me("tagged",i)}))}}),m.module("landing").__init__((function(e){e.view=UI.new({batch:"landing",flexLayout:"column",cells:[{id:"landingTab",view:"list",cls:"x-horizontal-menu-tab",listStyle:"tab",itemTagClass:"x-chrome-tab",data:[{view:"link",style:{width:"3.5em"}},{view:"menuIcon",icon:"paint-bucket",value:"lab"},{view:"menuIcon",icon:"bookmark",value:"tag"},{view:"menuIcon",icon:"comments",value:"update"},{view:"link",style:{width:"3.5em"}}],setClassToItem:function(e,t){this.each((function(e){var n=this.getItemNode(e.id);n&&UI.removeClass(n,t)}),this);var n=this.getItemNode(e.id);n&&UI.addClass(n,t)},switchToTab:function(t){var n=this.data.find(e=>e.value===t),i=n&&n.value;if(i)switch(this.setClassToItem(this.next(n),"next"),this.setClassToItem(this.previous(n),"previous"),this.setActive("value",i),i){case"lab":return e.filters.category=null,e.Hi();case"tag":return e.filters.category="tag",e.Hi();case"update":return e.Vi()}},on:{onItemClick:function(e){this.switchToTab(e.value)}}},{cls:"x-menu-title-bar shadow",template:{id:"landingProjectsSearch",view:"searchField",cls:"x-menu-search",style:{width:"280px",marginLeft:"auto",marginRight:"auto",marginBottom:"0.5em"},clearSearch:!0,i18nPlaceholders:RES_I18N.Actions.SearchFor(RES_I18N.Objects.Labs),on:{onKeyUp:function(t,n,i){"Enter"===i.key&&e.Hi()}}}},{id:"landingScroller",view:"scroller",flexSize:"flex",cells:[{batch:"list",id:"landingProjectsList",view:"list",flexSize:"flex",textAlign:"center",itemTagClass:"uk-flex-inline x-lab-item",template:function(t){return UI.new({flexLayout:"column",cells:[{flex:!1,position:"relative",cells:[{view:"icon",cls:"x-tag-icon"+(t.tagged?" uk-text-primary":""),icon:"bookmark",size:"large",on:{onClick:function(n,i,o){UI.preventEvent(o);var a=this.element;e.eo(t).then((function(){t.tagged?UI.addClass(a,"uk-text-primary"):UI.removeClass(a,"uk-text-primary")}))}}},{view:"image",src:"labs/"+t.key+"/tb.nl.png",width:128,height:128}]},{cls:"x-lab-item-desc",flexLayout:"column",cells:[{view:"label",label:t.name},{view:"label",label:t.label,htmlTag:"SMALL"}]}]})},on:{onItemClick:function(t){e.project.to(t.name,null,null,t)}}},{batch:"empty",textAlign:"center",flexLayout:"column",flexAlign:["center","middle"],cells:[{view:"label",cls:"uk-h5",padding:"large",label:"No matching projects found.",style:{height:"160px",opacity:.5}}]},{id:"landingAnnoucements",batch:"annoucements",cls:"x-markdown",padding:"x",style:{paddingBottom:"48px"}}]}]})})),m.module("logger").__new__(e=>{var t=window;function n(n){return t.console&&t.console[n]?function(){var i=e.logs,o=Array.prototype.slice.call(arguments),a=i[0];return a&&a.args[0]===o[0]?(a.times++,a.time=new Date):i.unshift({method:n,time:new Date,args:o,times:1}),i.length=100,t.console[n].apply(t.console,o)}:i}function i(){}t.$LOG={log:n("log"),debug:n("debug"),warn:n("warn"),error:n("error")},e.logs=[]}).def({Wi:function(){return $$("loggerList")},Kt:function(){return $$("loggerSearchInput")}}),m.module("logger").__init__(e=>{e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,dialogClass:"uk-flex uk-flex-column",dialogStyle:["scroll","blank"],header:{flexSize:"none",cls:"x-menu-title-bar shadow",flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:RES_I18N.Elements.LogHistory,collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"loggerCloseButton",view:"menuIcon",icon:"close",title:"Close",on:{onClick:function(){e.modal.close()}}}]}]},{id:"loggerSearchInput",cls:"x-menu-search",view:"searchField",i18nPlaceholders:RES_I18N.Actions.SearchFor(RES_I18N.Objects.Log),clearSearch:!0,on:{onInput:function(){e.Wi().refresh()}}}]},body:{view:"scroller",cells:[{id:"loggerList",view:"list",padding:"x-sm y",batch:"list",selectable:!0,flexSize:"flex",listStyle:"side",filter:t=>{var n=e.Kt().getValue();return t.args.join(" ").includes(n)},template:e=>{var t=e.args.map(e=>String(e)).join(" ");return e.message=t+(e.times>1?`(${e.times})`:""),`<span>[${e.time.toLocaleTimeString()}] </span><span>${t}</span>`},data:[]}]},on:{onOpened:function(){e.Wi().setData(e.logs)}}},document.getElementById("appContainer"))}),m.module("main").__init__((function(e){e.no=UIkit2.Utils.debounce((function(t,n){e.io(t,n)}),1e4,!1)})).def({io:function(e,t){var n=this,i=n.q();return n.model.M("lastFile").then(o=>{const a=o||tryParseJSON(i.lastFile);if(a){const{mtimeMs:o,path:r,text:s}=a;if(s&&o&&r&&(t||r!==e.path)){if(!r.startsWith("ext://"))return GFS.lstat(r).then(t=>{const a=n.session.je(),l=PathUtils.relativeTo(r,a);if(t&&o>t.mtimeMs&&e.text!==s)return Promise.resolve(r===e.path?e.text:GFS.read(r,{encoding:"utf8"})).then(e=>{if(s!==e)return GFS.write(r+"~",s,{updateStatus:!0,skipLanguageService:!0}).then(()=>($LOG.log(`[recoveredFile] ${l} (${o} > ${t.mtimeMs})`),n.prompt.be(RES_I18N.Objects.RecoveredFile,{en:`Recovered a file to [${l}~]`,es:`Recuperado un archivo a [${l}~]`,ja:`ファイルを [${l}~] に復元しました`,pt:`Recuperou um arquivo para [${l}~]`,zh:`此文件恢复到 [${l}~]`,zhTW:`此文件恢復到 [${l}~]`}),i.setItem("lastFile",null),n.model.Me("lastFile",null)),e=>(n.oo(r,{text:s,skipSessionSave:!0,skipBackupCheck:!0}),n.prompt.be(RES_I18N.Objects.ActionRequired(RES_I18N.Objects.RecoveredFile),RES_I18N.ErrorMessages.ManualRecoveryRequired(l)),$LOG.error(`[recovery] ${e?e.message||String(e):"unknown error"}`),i.setItem("lastFile",null),n.model.Me("lastFile",null),Promise.reject(e)))})});e.path}}}).then(()=>n.model.Me("lastFile",e).catch(()=>{if(e.text&&e.text.length>4194304)try{i.clear(),i.setItem("lastFile",JSON.stringify(e))}catch(e){$LOG.log(`[Critical] ${e.message||String(e)}`),n.messages.gt("backupError")}}))}}),m.module("main").__new__((function(e){var t=(e,t)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${e}" viewBox="0 0 24 24">${t}</svg>`;Object.assign(e,{menuIcon:t(24,'<path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>'),playIcon:t(24,'<path d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/>'),splitIcon:t(20,'<path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 15h8v-2H3v2zm0 4h8v-2H3v2zm0-8h8V9H3v2zm0-6v2h8V5H3zm10 0h8v14h-8V5z"/>')})})),m.module("main").__init__((function(e){window.$embedMode||e.ao()})).def({ro:function(){var e=this.location().hash.split("#lab:");e[1]&&(this.location().replace("/#"),this.project.to(null,null,null,e[1]))},ao:function(){this.ro(),window.onhashchange=this.ro.bind(this)}}),m.module("main").require("editor","files","prompt","history","library","messages","preview","project","model","session","viewer","landing","search","menu","settings","fileTree","memory","share","copyToProject").__init__((function(e,{session:t,search:n,editor:i,path:o,model:a,files:r,prompt:s,library:l,messages:c,viewer:u,landing:h,preview:d,project:p,history:f,menu:m,settings:v,fileTree:g,memory:b,share:w,copyToProject:y}){e.historyTracker=new f.HistoryTracker,Object.assign(e,{session:t,search:n,editor:i,path:o,model:a,files:r,prompt:s,library:l,messages:c,viewer:u,landing:h,preview:d,project:p,history:f,menu:m,settings:v,fileTree:g,memory:b,share:w,copyToProject:y}),t.observable.subscribe(({action:t,project:n})=>{switch(t){case"open":e.k().show(),e.g().show(),e.so(),e.s().completionServer.clearFiles();break;case"setProject":n||(e.k().hide(),e.g().hide(),e.lo().showLanding(),e.landing.Di().switchToTab("lab"))}}),n.observable.subscribe(t=>{switch(t.action){case"jumpToFile":i.fi(t.path,t.item).then((function(){e.u().close(),e.lo().showEditor()}))}}),i.observable.subscribe(t=>{var n=e.s();switch(t.action){case"findAllInFiles":e.u().open(),e.menu.switcher().switchToTab("search",!0),t.text&&(e.search.findInput().setValue(t.text),e.search.co());break;case"replaceInFile":var i=n.getSession();if(t.inode==i.inode){var o=i.getUndoManager();i.setUndoManager(e.editor.$dummyUndoManager),i.setValue(t.text),i.setUndoManager(o),e.editor.$dummyUndoManager.reset()}break;case"jumpToFile":return n.getCurrentFilePathAsync().then(n=>{if(t.path!==n)return e.P(t.path)}).then((function(){var e={row:t.row,column:t.column};n.navigateTo(e.row,e.column),n.scrollToLine(e.row,!0,!1),n.focus()}))}}),e.so()})).__init__((function(e){GFS.observable.subscribe(({action:t,oldpath:n})=>{var i=e.session.je(),{Te:o}=e.path;if(i&&n&&PathUtils.childOf(n,i)&&!o(n))switch(e.preview.useLiveMode&&e.S().isVisible()&&e.uo.bind(e),t){case"mv":case"rm":case"rmdir":if(e.ho().startsWith(n)){var a=e.do();if(a)return PathUtils.childOf(a,i)?(e.po(a),e.fo(i,a)):(e.mo(!0),e.fo(i,null))}}}),e.files.observable.subscribe(({action:t,path:n,showInTree:i,skipSessionSave:o,preserveHistory:a,preview:r})=>{switch(t){case"update":var s=e.do();if(s&&s===n)return e.P(n,{skipSessionSave:!0});case"open":if(null!==n)return e.P(n,{preserveHistory:a,skipSessionSave:o,showInTree:i,preview:r}).then((function(){GA_SendEvent("open_file","files"),UI.support.touch||e.s().focus()}));e.mo()}}),e.preview.onHidePreviewContainer=function(){e.S().hide(),e._().hide(),e.s().resize()},e.menu.observable.subscribe(({action:t})=>{switch(t){case"showMenu":e.u().show(),e.p().show(),e.s().resize();break;case"hideMenu":e.u().hide(),e.p().hide(),e.s().resize()}})})).__init__((function(){if(window.getChromeVersion){var e=getChromeVersion();e>=1&&e<51&&this.prompt.be("Chrome Update Required","This app only works for Chrome 51+.")}})).def({so:function(){this.historyTracker.reset()},q:function(){return window.localStorage},vo:function(e){this.historyTracker.push(e),this.bo()},l:function(){return $$("mainFileBar")},wo:function(){return $$("mainSearchIcon")},lo:function(){return $$("mainContainer")},yo:function(){return $$("mainEditorContainer")},S:function(){return $$("preview")},v:function(){return $$("mainMenuToggleIcon")},u:function(){return $$("menuContainer")},m:function(){return $$("menuVerticalTab")},p:function(){return $$("menuContainerResizer")},_:function(){return $$("previewContainerResizer")},s:function(){return this._editor||(this._editor=$$("mainEditor").$editor)},mn:function(){return $$("mainFileBreadcrumb")},k:function(){return $$("mainLaunchButton")},g:function(){return $$("mainRunButton")},xo:function(){return $$("mainNotSavedLink")},location:function(){var e=window.location;return{origin:e.protocol+"//"+e.hostname+(e.port?":"+e.port:""),hash:e.hash,replace:e.replace.bind(e)}},uo:UIkit2.Utils.debounce((function(){this.preview.ko(!0)}),600,!1),So:function(){return this.u().el.getBoundingClientRect().width},_o:function(){return this.m().el.getBoundingClientRect().width},H:function({fileName:e,fileContent:t,externalPath:n}){var i=this;if(e){if(n){var o=t;return!o&&AndroidRef&&AndroidRef.getFileContent&&(o=AndroidRef.getFileContent()),i.P(e,{externalPath:n,externalContent:o,skipSessionSave:!0,preserveHistory:!0})}if(t){var a=i.share.st(t);return i.Ao(e,a).then(e=>i.P(e,{skipSessionSave:!0,preserveHistory:!0}))}}},Io:function(e){AndroidRef&&AndroidRef.launchWebView&&(UI.preventEvent(e),AndroidRef.launchWebView(e.currentTarget.getAttribute("href")),$LOG.log(`[launch] ${e.currentTarget.getAttribute("href")}`)),GA_SendEvent("launch","n/a")},Ao:function(e,t){return ENV.tmpDirAsync(e).then(e=>GFS.rmdir(PathUtils.dirname(e)).then(()=>GFS.write(e,t).then(()=>e)))},Co:function(){this.preview.ko(),this._().show(),this.S().show(),this.S().open(),this.s().resize()},bo:function(){this.historyTracker.canUndo()?($$("mainBackButton").enable(),$$("mainBackMenuItem").enable()):($$("mainBackButton").disable(),$$("mainBackMenuItem").disable()),this.historyTracker.canRedo()?($$("mainForwardButton").enable(),$$("mainForwardMenuItem").enable()):($$("mainForwardButton").disable(),$$("mainForwardMenuItem").disable())},do:function(){var e=this.s().getSession().inode;return e?GFS.inodePathSync(e):null},ho:function(){var e=this.mn();return PathUtils.join(this.session.je(),e.getFullPath())||""},po:function(e){var t=this.mn();this.xo().hide(),e?(e=PathUtils.relativeTo(e,this.session.je()),t.setFullPath(e),t.show()):t.hide()},P:function(e,t){t=t||{};var n,i=this,o=PathUtils.ext(e),a=i.editor.Ai(o),r=i.viewer.Ai(o);if(n=a&&r?t.preview?i.Eo.bind(i):i.oo.bind(i):r?i.Eo.bind(i):i.oo.bind(i))return n(e,t).then(()=>{var n=this.session.je();if(!t.skipSessionSave&&n&&e.startsWith(n))return i.fo(n,e)}).then(()=>{if(t.showInTree&&i.files.Vt().showInTree(e),!t.preserveHistory)return GFS.inode(e).then(e=>i.vo(e))})},oo:function(e,t){var n=this;return n.memory.xe(e,t).then(i=>{if(i)return Promise.all([n.s().changeSessionAsync(e,t||{}),ENV.tmpDirAsync()]).then(([,t])=>{e.startsWith(t)&&(e=PathUtils.relativeTo(e,t)),n.lo().showEditor(),n.po(e),n.files.Vt().markActive(e),n.memory.ve()}).catch((function(e){$LOG.error(e),n.messages.gt(e&&e.messageId||"openFileError")}));n.prompt.be("File Size Too Large","File exceeds the maximum size of 5 MB allowed by the editor.")})},Eo:function(e){var t=this;return Promise.all([t.viewer.$o(e),ENV.tmpDirAsync()]).then(([,n])=>{e.startsWith(n)&&(e=PathUtils.relativeTo(e,n)),t.lo().showViewer(),t.po(e),t.files.Vt().markActive(e)}).catch(e=>{$LOG.error(e),t.messages.gt(e&&e.messageId||"openFileError")})},Ro:function(){var e=this;return e.historyTracker.undo(!0),e.bo(),GFS.inodePath(e.historyTracker.current).then(t=>t?e.P(t,{preserveHistory:!0}):Promise.reject())},To:function(){var e=this;return e.historyTracker.redo(!0),e.bo(),GFS.inodePath(e.historyTracker.current).then(t=>{if(t)return e.P(t,{preserveHistory:!0})})},mo:function(e){var t=this;t.historyTracker.canUndo()?t.Ro().then(()=>{e&&(t.historyTracker.clearRedo(),t.bo())},()=>t.zo()):t.zo()},zo:function(){this.lo().showEditor(),this.po(),this.s().isCurrentSessionBlank()||this.s().openBlankSession(),this.historyTracker.current=null},fo:function(e,t){var n=this.session.Re()||{};return Object.assign(n,{currentFilePath:t?PathUtils.relativeTo(t,e):null}),this.model.Ve(e,n)},Fo:function(e,t){var n=this;return ENV.tmpDirAsync().then(i=>{if(e&&!e.startsWith(i))return e.startsWith("ext://")?GFS.writeExternal(e.slice(6),t).then(()=>n.xo().hide()):GFS.write(e,t,{updateStatus:!0,skipLanguageService:!0}).then(()=>n.xo().hide());n.xo().show()}).catch(e=>{n.xo().show(),n.messages.gt("mainSaveFileError"),$LOG.log(`[save] ${e?e.message||String(e):"unknown error"}`)})},jo:function(e,t){var n=this;if(!n.s().isCurrentSessionBlank())return ENV.tmpDirAsync().then(i=>e.startsWith(i)?n.copyToProject.Jt(e):n.Fo(e,t));n.Po(t)},Po:function(e){this.files.Oo(null,e)}}),m.module("main").require("menuIcon","fileTree","fileBreadcrumb").__init__((function(e){UI.new({fill:"height",flexLayout:"",cells:[{id:"mainMenuToggleIcon",view:"link",cls:"svg-icon",template:e.menuIcon,device:"touch",on:{onClick:function(){e.u().open()}}},e.menu.verticalTabView,e.menu.menuView,{id:"menuContainerResizer",view:"resizer",direction:"x",minValue:function(){return 280+e._o()},maxValue:function(){return 500+e._o()},on:{onHandleResized:function(t){var n=t-e._o();e.menu.switcher().element.style="width:"+n+"px",e.s().resize()}}},{id:"mainContainer",cells:[{id:"mainEditorContainer",batch:"editor",flexLayout:"column",position:"relative",cells:[{id:"mainFileBar",batch:"bar",fill:"width",flexSize:"",cls:["x-bar","float"],flexAlign:"middle",selectable:!1,cells:[{id:"mainBackButton",view:"menuIcon",device:"notouch",icon:"chevron-left",disabled:!0,iconClass:"",on:{onClick:function(){e.Ro().then(GA_SendEvent_Success("previous_file","file_navigation"),GA_SendEvent_Failure("previous_file","file_navigation"))}}},{id:"mainForwardButton",view:"menuIcon",device:"notouch",icon:"chevron-right",disabled:!0,iconClass:"",on:{onClick:function(){e.To().then(GA_SendEvent_Success("previous_file","file_navigation"),GA_SendEvent_Failure("previous_file","file_navigation"))}}},{view:"spacer",width:36,cls:"uk-hidden-notouch"},{id:"mainFileBreadcrumbScroller",view:"scroller",scrollDirection:"x",cells:[{id:"mainFileBreadcrumb",view:"fileBreadcrumb",data:[],dropdownEvent:"onPathItemClick",dropdownOptions:{id:"mainBreadcrumbDropdown",pos:"bottom-left",dropdownAnimation:"",marginX:-18},dropdown:{id:"mainBreadcrumbDropdownContent",flexLayout:"column",cls:"uk-overflow-hidden",cells:[{view:"list",device:"touch",listStyle:"dropdown",itemTagClass:"uk-flex-item-1",flex:!0,data:[{id:"mainBackMenuItem",view:"link",flexSize:"flex",icon:"chevron-left",label:"Back",wrap:"nowrap",disabled:!0,on:{onClick:function(){e.Ro(),GA_SendEvent("previous_file","file_navigation")}}},{id:"mainForwardMenuItem",view:"link",flexSize:"flex",alignIconRight:!0,icon:"chevron-right",label:"Next",wrap:"nowrap",disabled:!0,on:{onClick:function(){e.To(),GA_SendEvent("next_file","file_navigation")}}}]},{id:"mainFileBreadcrumbDropdownScroller",view:"scroller",cells:[{id:"mainFileBreadcrumbDropdownList",view:"list",listStyle:"dropdown",template:function(t){return"<a>"+e.fileTree.Gt(t)+t.label+"</a>"},on:{onItemClick:function(t){if(t.$branch){UI.removeClass($$("mainBreadcrumbDropdown").element,"uk-open");var n=e.files.Vt().getParentBranch(t.path);$$("mainBreadcrumbDropdownContent").dispatch("onOpen",[null,null,{parent:n,files:t.$children}])}else e.P(t.path),GA_SendEvent("open_file_breadcrumb","file_navigation")}}}]}],on:{onOpen:function(e,t,n){this.element.style.height=n.files.length>12?"360px":null;var i=$$("mainFileBreadcrumbDropdownList"),o=n.files.map((function(e){return{path:e.path,label:e.label,file:e.file,$branch:e.$branch,$children:e.$children}}));n.parent&&o.unshift({path:n.parent.path,label:"..",file:!1,$branch:!0,$children:n.parent.$children}),i.setData(o),n.selectedPath&&i.select(i.findOne("path",n.selectedPath))}}},on:{onItemClick:function(t,n){var i=PathUtils.join(e.session.je(),t.path),o=e.files.Vt(),a=o.getParentBranch(i),r=o.getParentBranch(a.path);this.dispatch("onPathItemClick",[{parent:r,files:a.$children,selectedPath:i},n.lastChild])}}},{id:"mainNotSavedLink",view:"link",textColor:"danger",attributes:i18nAttributes({en:"Unsaved",es:"Sin Guardar",ja:"未保存",pt:"Não Salvo",zh:"没有保存",zhTW:"沒有保存"}),margin:"x-sm",hidden:!0,on:{onClick:function(){e.s().saveCurrentSessionAsync(!0)}}}]},{id:"mainSearchIcon",view:"menuToggle",cls:"x-menu-icon",icon:"search",title:"Search File",on:{onToggled:function(){var t=e.s();this.isSelected()?(t.execCommand("find"),GA_SendEvent("file_search","n/a")):t.$ace.searchBox&&t.$ace.searchBox.hide()}}},{id:"mainLaunchButton",view:"link",cls:"svg-icon",template:e.playIcon,hidden:!0,title:"Launch New Window",style:{color:"#0dbf7f"},on:{onInitialized:function(){this.element.addEventListener("mousedown",(function(){var t=e.do(),n=PathUtils.hasExt(t,".html")?ENV.resource(t):e.preview.Uo();UI.setAttributes(this,{href:n,target:"_blank",ref:"noopener noreferrer"})}))},onClick:function(t,n,i){e.Io(i)}}},{id:"mainRunButton",view:"link",cls:"svg-icon",hidden:!0,template:e.splitIcon,title:"Side Window",device:"notouch",style:{color:"#a5adb7"},on:{onClick:function(){e.Co(),GA_SendEvent("run","n/a")}}}]},{batch:"editor",id:"mainEditor",view:"touchEditor",editor:{view:"editor",on:{onInitialized:function(){this.observable.subscribe(({action:t,manual:n,writePath:i,text:o,skipSessionSave:a,skipBackupCheck:r})=>{switch(t){case"searchBoxOpen":e.wo().select();break;case"searchBoxClose":e.wo().deselect();break;case"sessionChange":case"save":n?e.jo(i,o):a||e.Fo(i,o),r||e.no({path:i,text:o,mtimeMs:Date.now()},"sessionChange"===t);break;case"focus":$$("mainBreadcrumbDropdown").close()}})}}},on:{onResize:function(){if(this.isVisible()){var t=e.s();if(t.resize(),UI.support.touch){if(this.originalHeight){var n=window.innerHeight-this.originalHeight;t.isFocused()&&(n>80?t.blur():n<-80&&t.focus(!0))}this.originalHeight=window.innerHeight}}}}},e.viewer.view]},e.landing.view],on:{onInitialized:function(){this.showEditor()}},showEditor:function(){this.showBatch("editor"),e.yo().showBatch(["bar","editor"])},showViewer:function(){this.showBatch("editor"),e.yo().showBatch(["bar","viewer"])},showLanding:function(){this.showBatch("landing")}},{id:"previewContainerResizer",view:"resizer",direction:"x",hidden:!0,minValue:function(){var t=e._o();return e.So()+t+320},maxValue:function(){return window.innerWidth-320},on:{onHandleResized:function(t){var n=e._o(),i=e.So(),o=window.innerWidth-n-i,a=window.innerWidth-t,r=a/(o-a)*100;e.S().el.style.flexBasis=Math.round(r)+"%",e.s().resize()}}},e.preview.view]},document.getElementById("appContainer"))})),m.module("menu").require("session","search","projects").__init__((function(e,{session:t,search:n,projects:i}){var o=new ObservableClass;Object.assign(e,{observable:o}),t.observable.subscribe(({action:t,project:n})=>{switch(t){case"open":e.switcher().switchToTab("files",!0);break;case"setProject":n||(UI.support.touch?e.switcher().switchToTab("projects"):o.run({action:"hideMenu"}))}}),n.observable.subscribe(t=>{switch(t.action){case"blockDrawer":e.u().$blockDrawerPan=t.block}}),i.observable.subscribe(t=>{switch(t.action){case"blockDrawer":e.u().$blockDrawerPan=t.block}})})).def({u:function(){return $$("menuContainer")},Di:function(){return $$("menuTab")},m:function(){return $$("menuVerticalTab")},switcher:function(){return $$("menuSwitcher")}}),m.module("menu").require("projects","files","search","settings","menuIcon","keyButton").__init__((function(e,{projects:t,files:n,search:i,settings:o,keyButton:a}){e.verticalTabView=UI.new({id:"menuVerticalTab",view:"list",cls:"x-vertical-menu-tab",listStyle:["tab","tab-left"],flexSize:"none",device:"notouch",data:[{id:"menuVerticalProjectsTab",view:"menuIcon",icon:"album",value:"projects"},{view:"menuIcon",icon:"folder",value:"files"},{view:"menuIcon",icon:"search",value:"search"},{view:"menuIcon",icon:"cog",value:"settings"}],on:{onItemClick:function(t){this.isSelected(t)?(this.deselectAll(),e.observable.run({action:"hideMenu"})):e.switcher().switchToTab(t.value,!0)}}});var r={id:"menuSwitcher",cls:["uk-offcanvas-bar","uk-overflow-hidden"],style:{width:"300px"},template:{flexLayout:"column",flexSize:"",fill:"height",cells:[{id:"menuTab",view:"list",cls:"x-horizontal-menu-tab",listStyle:"tab",itemTagClass:"x-chrome-tab",device:"touch",style:{zIndex:20},data:[{view:"link"},{id:"menuProjectsTab",view:"menuIcon",icon:"album",value:"projects"},{id:"menuFilesTab",view:"menuIcon",icon:"folder",value:"files"},{id:"menuSearchTab",view:"menuIcon",icon:"search",value:"search"},{id:"menuSettingsTab",view:"menuIcon",icon:"cog",value:"settings"},{view:"link"}],setClassToItem:function(e,t){this.each((function(e){var n=this.getItemNode(e.id);n&&UI.removeClass(n,t)}),this);var n=this.getItemNode(e.id);n&&UI.addClass(n,t)},on:{onItemClick:function(t){e.switcher().switchToTab(t.value)}}},{id:"menuSwitcherContainer",view:"list",cls:"x-min-height-0",flex:!0,flexSize:"flex",itemTagClass:"uk-flex uk-width-1-1",data:[t.view,n.view,i.view,o.view]}]},switchToTab:function(t,n){var i=e.Di(),o=e.m(),a=i.data.find(e=>e.value===t),r=a&&a.value;if(r&&(i.setClassToItem(i.next(a),"next"),i.setClassToItem(i.previous(a),"previous"),i.setActive("value",r),o.setActive("value",r),$$("menuSwitcherContainer").showBatch(r),n))return e.observable.run({action:"showMenu"})}};e.menuView=UI.new({id:"menuContainer",view:"drawer",touchOnly:!0,edge:!0,flexSize:"",openable:function(){return!a.activeKey},template:r})})),m.module("preview").require("model","session","history","messages").__init__((function(e,{model:t,session:n,history:i,messages:o}){Object.assign(e,{model:t,session:n,history:i,messages:o}),e.historyTracker=new e.history.HistoryTracker,e.session.observable.subscribe(({action:t})=>{if("open"===t)return e.so(),e.No()}),GFS.observable.subscribe(({path:t,action:n})=>{if("write"===n){var i=e.session.je();if(i&&PathUtils.childOf(t,i))switch(PathUtils.ext(t)){case".html":e.No()}}}),e.so()})).def({onHidePreviewContainer:m.noop,so:function(){this.historyTracker.reset()},fileSelect:function(){return $$("previewFileSelect")},iframe:function(){return $$("iframe")},backButton:function(){return $$("previewBackIcon")},forwardButton:function(){return $$("previewForwardIcon")},Bo:function(e){this.useLiveMode=e},ko:function(e){this.iframe().setSrc(ENV.resource(this.fileSelect().getValue()),e),window.focus()},Uo:function(){var e=this.fileSelect().getFilePaths(),t=(this.session.Re()||{}).defaultLaunchFilePath,n=-1!==e.indexOf(t)?t:this.fileSelect().getValue();return ENV.resource(n)||"about:blank"},No:function(){var e=this,t=e.session.je();return GFS.readdirDeep(t).then(t=>{e.fileSelect().setFilesData(t.filter(e=>PathUtils.hasExt(e,".html")))})}}),m.module("preview").require("fileSelect").__new__((function(e){e.view=UI.new({id:e.__name__,view:"drawer",touchOnly:!0,$blockDrawerPan:!0,hidden:!0,flexSize:"flex",template:{style:{width:"100%"},cls:["uk-offcanvas-bar","uk-offcanvas-bar-flip"],template:{flexLayout:"column",fill:"screen",cells:[{id:"previewActionBar",cls:["uk-form","x-bar"],flexAlign:"middle",flexSize:"none",cells:[{id:"previewBackIcon",view:"menuIcon",icon:"chevron-left",disabled:!0,on:{onClick:function(){e.iframe().back()}}},{id:"previewForwardIcon",view:"menuIcon",icon:"chevron-right",disabled:!0,on:{onClick:function(){e.iframe().forward()}}},{id:"previewRefreshIcon",view:"menuIcon",icon:"refresh",on:{onClick:function(){e.iframe().refresh()}}},{id:"previewFileSelect",view:"fileSelect",margin:"x-sm",style:{width:"100%"},on:{onChange:function(){e.ko()}}},{id:"previewHideIcon",view:"menuIcon",icon:"close",on:{onClick:function(){e.iframe().setSrc("about:blank"),e.onHidePreviewContainer()}}}]},{id:"iframe",flexSize:"flex",htmlTag:"IFRAME",style:{background:"white"},refresh:function(){e.ko(!0)},forward:function(){e.historyTracker.redo(!0),this.bo(),this.setSrc(e.historyTracker.current,!0)},back:function(){e.historyTracker.undo(!0),this.bo(),this.setSrc(e.historyTracker.current,!0)},bo:function(){e.historyTracker.canUndo()?e.backButton().enable():e.backButton().disable(),e.historyTracker.canRedo()?e.forwardButton().enable():e.forwardButton().disable()},getSrc:function(){return e.historyTracker.current},setSrc:function(t,n){if(t){n||(e.historyTracker.push(t),this.bo());var i=this.element;i.contentWindow&&null!=i.contentWindow.location?i.contentWindow.location=t:i.setAttribute("src",t)}}}]}},style:{flexBasis:"100%"}})})),m.module("project").__new__((function(e){e.ranks={html:0,css:10,vue:20,angularjs:30,angular:40,d3:60,backbone:70,react:50,jquery:55,bootstrap:20,semantic_ui:25,mdl:30,bulma:35,uikit:40},e.viewBox={javascript:"0 0 128 128",html:"0 0 128 128",css:"0 0 128 128",vue:"0 0 128 128",angularjs:"0 0 128 128",angular:"0 0 250 250",backbone:"0 0 128 128",d3:"0 0 128 128",react:"0 0 128 128",jquery:"0 0 128 128",bootstrap:"0 0 128 128",mdl:"0 0 24 24",bulma:"0 0 480 480",uikit:"0 0 200 200",semantic_ui:"0 0 256 256"},e.svg={javascript:'<path fill="#F0DB4F" d="M1.408 1.408h125.184v125.185h-125.184z"></path><path fill="#323330" d="M116.347 96.736c-.917-5.711-4.641-10.508-15.672-14.981-3.832-1.761-8.104-3.022-9.377-5.926-.452-1.69-.512-2.642-.226-3.665.821-3.32 4.784-4.355 7.925-3.403 2.023.678 3.938 2.237 5.093 4.724 5.402-3.498 5.391-3.475 9.163-5.879-1.381-2.141-2.118-3.129-3.022-4.045-3.249-3.629-7.676-5.498-14.756-5.355l-3.688.477c-3.534.893-6.902 2.748-8.877 5.235-5.926 6.724-4.236 18.492 2.975 23.335 7.104 5.332 17.54 6.545 18.873 11.531 1.297 6.104-4.486 8.08-10.234 7.378-4.236-.881-6.592-3.034-9.139-6.949-4.688 2.713-4.688 2.713-9.508 5.485 1.143 2.499 2.344 3.63 4.26 5.795 9.068 9.198 31.76 8.746 35.83-5.176.165-.478 1.261-3.666.38-8.581zm-46.885-37.793h-11.709l-.048 30.272c0 6.438.333 12.34-.714 14.149-1.713 3.558-6.152 3.117-8.175 2.427-2.059-1.012-3.106-2.451-4.319-4.485-.333-.584-.583-1.036-.667-1.071l-9.52 5.83c1.583 3.249 3.915 6.069 6.902 7.901 4.462 2.678 10.459 3.499 16.731 2.059 4.082-1.189 7.604-3.652 9.448-7.401 2.666-4.915 2.094-10.864 2.07-17.444.06-10.735.001-21.468.001-32.237z"></path>',html:'<path fill="#E44D26" d="M19.037 113.876l-10.005-112.215h109.936l-10.016 112.198-45.019 12.48z"></path><path fill="#F16529" d="M64 116.8l36.378-10.086 8.559-95.878h-44.937z"></path><path fill="#EBEBEB" d="M64 52.455h-18.212l-1.258-14.094h19.47v-13.762h-34.511l.33 3.692 3.382 37.927h30.799zM64 88.198l-.061.017-15.327-4.14-.979-10.975h-13.817l1.928 21.609 28.193 7.826.063-.017z"></path><path fill="#fff" d="M63.952 52.455v13.763h16.947l-1.597 17.849-15.35 4.143v14.319l28.215-7.82.207-2.325 3.234-36.233.335-3.696h-3.708zM63.952 24.599v13.762h33.244l.276-3.092.628-6.978.329-3.692z"></path>',css:'<path fill="#1572B6" d="M18.814 114.123l-10.054-112.771h110.48l-10.064 112.754-45.243 12.543-45.119-12.526z"></path><path fill="#33A9DC" d="M64.001 117.062l36.559-10.136 8.601-96.354h-45.16v106.49z"></path><path fill="#fff" d="M64.001 51.429h18.302l1.264-14.163h-19.566v-13.831h34.681999999999995l-.332 3.711-3.4 38.114h-30.95v-13.831z"></path><path fill="#EBEBEB" d="M64.083 87.349l-.061.018-15.403-4.159-.985-11.031h-13.882l1.937 21.717 28.331 7.863.063-.018v-14.39z"></path><path fill="#fff" d="M81.127 64.675l-1.666 18.522-15.426 4.164v14.39l28.354-7.858.208-2.337 2.406-26.881h-13.876z"></path><path fill="#EBEBEB" d="M64.048 23.435v13.831000000000001h-33.407999999999994l-.277-3.108-.63-7.012-.331-3.711h34.646zM64.001 51.431v13.831000000000001h-15.209l-.277-3.108-.631-7.012-.33-3.711h16.447z"></path>',angularjs:'<path fill="#B3B3B3" d="M63.81 1.026l-59.257 20.854 9.363 77.637 49.957 27.457 50.214-27.828 9.36-77.635z"></path><path fill="#A6120D" d="M117.536 25.998l-53.864-18.369v112.785l45.141-24.983z"></path><path fill="#DD1B16" d="M11.201 26.329l8.026 69.434 44.444 24.651v-112.787z"></path><path fill="#F2F2F2" d="M78.499 67.67l-14.827 6.934h-15.628l-7.347 18.374-13.663.254 36.638-81.508 14.827 55.946zm-1.434-3.491l-13.295-26.321-10.906 25.868h10.807l13.394.453z"></path><path fill="#B3B3B3" d="M63.671 11.724l.098 26.134 12.375 25.888h-12.446l-.027 10.841 17.209.017 8.042 18.63 13.074.242z"></path>',angular:'<g><polygon fill="#DD0031" points="125,30 125,30 125,30 31.9,63.2 46.1,186.3 125,230 125,230 125,230 203.9,186.3 218.1,63.2"/><polygon fill="#C3002F" points="125,30 125,52.2 125,52.1 125,153.4 125,153.4 125,230 125,230 203.9,186.3 218.1,63.2 125,30"/><path fill="#FFFFFF" d="M125,52.1L66.8,182.6h0h21.7h0l11.7-29.2h49.4l11.7,29.2h0h21.7h0L125,52.1L125,52.1L125,52.1L125,52.1   L125,52.1z M142,135.4H108l17-40.9L142,135.4z"/></g>',d3:'<path fill="#f69b44" d="M118.16 63.966c5.223-6.256 8.368-14.217 8.368-22.98C126.528 21.097 110.352 5 90.464 5H47.986c10.375 7 18.966 16 24.82 26h17.658c5.55 0 10.064 4.45 10.064 10s-4.515 10-10.064 10H80.047c.82 5 1.26 8.62 1.26 13.098 0 4.41-.433 8.902-1.224 12.902h10.382c5.55 0 10.064 4.95 10.064 10.5S96.013 98 90.464 98H72.92c-1.315 2-2.79 4.74-4.38 6.98C63.137 112.59 56.253 119 48.29 124H90.463c19.335 0 35.16-15.746 36.024-34.876-.017.31-.043.39-.066.698.062-.848.107-1.813.107-2.678-.002-8.766-3.148-16.92-8.37-23.178z"/><path fill="#f69b44" d="M61.03 97.543l.003-.18c.07-.1.138-.292.207-.39.077-.118.152-.275.228-.392.002-.002 0-.03.003-.034 6.14-9.33 9.727-20.41 9.727-32.39C71.197 31.5 44.624 5 11.962 5H1v26h10.962c18.32 0 33.23 14.823 33.23 33.144 0 4.984-1.113 9.675-3.088 13.924-.006.013-.013.36-.02.374C36.79 89.782 25.283 98 11.963 98H1v26h10.962c20.396 0 38.41-10.722 49.068-26.457z"/>',react:'<path fill="#53c1de" d="M107.3 45.2c-2.2-.8-4.5-1.6-6.9-2.3.6-2.4 1.1-4.8 1.5-7.1 2.1-13.2-.2-22.5-6.6-26.1-1.9-1.1-4-1.6-6.4-1.6-7 0-15.9 5.2-24.9 13.9-9-8.7-17.9-13.9-24.9-13.9-2.4 0-4.5.5-6.4 1.6-6.4 3.7-8.7 13-6.6 26.1.4 2.3.9 4.7 1.5 7.1-2.4.7-4.7 1.4-6.9 2.3-12.5 4.8-19.3 11.4-19.3 18.8s6.9 14 19.3 18.8c2.2.8 4.5 1.6 6.9 2.3-.6 2.4-1.1 4.8-1.5 7.1-2.1 13.2.2 22.5 6.6 26.1 1.9 1.1 4 1.6 6.4 1.6 7.1 0 16-5.2 24.9-13.9 9 8.7 17.9 13.9 24.9 13.9 2.4 0 4.5-.5 6.4-1.6 6.4-3.7 8.7-13 6.6-26.1-.4-2.3-.9-4.7-1.5-7.1 2.4-.7 4.7-1.4 6.9-2.3 12.5-4.8 19.3-11.4 19.3-18.8s-6.8-14-19.3-18.8zm-14.8-30.5c4.1 2.4 5.5 9.8 3.8 20.3-.3 2.1-.8 4.3-1.4 6.6-5.2-1.2-10.7-2-16.5-2.5-3.4-4.8-6.9-9.1-10.4-13 7.4-7.3 14.9-12.3 21-12.3 1.3 0 2.5.3 3.5.9zm-11.2 59.3c-1.8 3.2-3.9 6.4-6.1 9.6-3.7.3-7.4.4-11.2.4-3.9 0-7.6-.1-11.2-.4-2.2-3.2-4.2-6.4-6-9.6-1.9-3.3-3.7-6.7-5.3-10 1.6-3.3 3.4-6.7 5.3-10 1.8-3.2 3.9-6.4 6.1-9.6 3.7-.3 7.4-.4 11.2-.4 3.9 0 7.6.1 11.2.4 2.2 3.2 4.2 6.4 6 9.6 1.9 3.3 3.7 6.7 5.3 10-1.7 3.3-3.4 6.6-5.3 10zm8.3-3.3c1.5 3.5 2.7 6.9 3.8 10.3-3.4.8-7 1.4-10.8 1.9 1.2-1.9 2.5-3.9 3.6-6 1.2-2.1 2.3-4.2 3.4-6.2zm-25.6 27.1c-2.4-2.6-4.7-5.4-6.9-8.3 2.3.1 4.6.2 6.9.2 2.3 0 4.6-.1 6.9-.2-2.2 2.9-4.5 5.7-6.9 8.3zm-18.6-15c-3.8-.5-7.4-1.1-10.8-1.9 1.1-3.3 2.3-6.8 3.8-10.3 1.1 2 2.2 4.1 3.4 6.1 1.2 2.2 2.4 4.1 3.6 6.1zm-7-25.5c-1.5-3.5-2.7-6.9-3.8-10.3 3.4-.8 7-1.4 10.8-1.9-1.2 1.9-2.5 3.9-3.6 6-1.2 2.1-2.3 4.2-3.4 6.2zm25.6-27.1c2.4 2.6 4.7 5.4 6.9 8.3-2.3-.1-4.6-.2-6.9-.2-2.3 0-4.6.1-6.9.2 2.2-2.9 4.5-5.7 6.9-8.3zm22.2 21l-3.6-6c3.8.5 7.4 1.1 10.8 1.9-1.1 3.3-2.3 6.8-3.8 10.3-1.1-2.1-2.2-4.2-3.4-6.2zm-54.5-16.2c-1.7-10.5-.3-17.9 3.8-20.3 1-.6 2.2-.9 3.5-.9 6 0 13.5 4.9 21 12.3-3.5 3.8-7 8.2-10.4 13-5.8.5-11.3 1.4-16.5 2.5-.6-2.3-1-4.5-1.4-6.6zm-24.7 29c0-4.7 5.7-9.7 15.7-13.4 2-.8 4.2-1.5 6.4-2.1 1.6 5 3.6 10.3 6 15.6-2.4 5.3-4.5 10.5-6 15.5-13.8-4-22.1-10-22.1-15.6zm28.5 49.3c-4.1-2.4-5.5-9.8-3.8-20.3.3-2.1.8-4.3 1.4-6.6 5.2 1.2 10.7 2 16.5 2.5 3.4 4.8 6.9 9.1 10.4 13-7.4 7.3-14.9 12.3-21 12.3-1.3 0-2.5-.3-3.5-.9zm60.8-20.3c1.7 10.5.3 17.9-3.8 20.3-1 .6-2.2.9-3.5.9-6 0-13.5-4.9-21-12.3 3.5-3.8 7-8.2 10.4-13 5.8-.5 11.3-1.4 16.5-2.5.6 2.3 1 4.5 1.4 6.6zm9-15.6c-2 .8-4.2 1.5-6.4 2.1-1.6-5-3.6-10.3-6-15.6 2.4-5.3 4.5-10.5 6-15.5 13.8 4 22.1 10 22.1 15.6 0 4.7-5.8 9.7-15.7 13.4z"></path>',vue:'<path d="m-2.3125e-8 8.9337 49.854 0.1586 14.167 24.47 14.432-24.47 49.547-0.1577-63.834 110.14zm126.98 0.6374-24.36 0.0207-38.476 66.052-38.453-66.052-24.749-0.0194 63.211 107.89zm-25.149-0.008-22.745 0.16758l-15.053 24.647-14.817-24.647-22.794-0.1679 37.731 64.476zM25.997 9.3929l23.002 0.0087M25.997 9.3929l23.002 0.0087" fill="none"></path><path d="m25.997 9.3929 23.002 0.0087l15.036 24.958 14.983-24.956 22.982-0.0057-37.85 65.655z" fill="#35495e"></path><path d="m0.91068 9.5686 25.066-0.1711 38.151 65.658 37.852-65.654 25.11 0.0263-62.966 108.06z" fill="#41b883"></path></svg>',bootstrap:'<path fill="#7d4dc6" d="M75.701 65.603c-2.334-.768-5.694-.603-10.08-.603h-17.621v23h18.844c2.944 0 5.012-.315 6.203-.535 2.099-.376 3.854-1.104 5.264-1.982 1.409-.876 2.568-2.205 3.478-3.881.908-1.676 1.363-3.637 1.363-5.83 0-2.568-.658-4.54-1.975-6.436-1.316-1.896-3.141-2.965-5.476-3.733zM73.282 55.087c2.317-.688 4.064-1.89 5.239-3.487 1.176-1.598 1.763-3.631 1.763-6.044 0-2.286-.549-4.314-1.646-6.054s-2.662-2.413-4.699-3.056c-2.037-.641-5.53-.446-10.48-.446h-15.459v20h16.587c4.042 0 6.939-.38 8.695-.913zM126 18.625c0-9.182-7.443-16.625-16.625-16.625h-91.75c-9.182 0-16.625 7.443-16.625 16.625v91.75c0 9.182 7.443 16.625 16.625 16.625h91.75c9.182 0 16.625-7.443 16.625-16.625v-91.75zm-35.447 66.12c-1.362 2.773-3.047 4.911-5.052 6.415-2.006 1.504-4.521 2.78-7.544 3.548-3.022.769-6.728 1.292-11.113 1.292h-27.844v-69h27.42c5.264 0 9.485.609 12.665 2.002 3.181 1.395 5.671 3.497 7.474 6.395 1.801 2.898 2.702 5.907 2.702 9.071 0 2.945-.8 5.708-2.397 8.308-1.598 2.602-4.011 4.694-7.237 6.292 4.166 1.222 7.37 3.304 9.61 6.248 2.24 2.945 3.36 6.422 3.36 10.432 0 3.227-.681 6.225-2.044 8.997z"></path>',mdl:'<circle cx="12" cy="12" fill="#757575" r="12"/><path d="m3.6 3.6h16.8v16.8h-16.8z" fill="#bdbdbd"/><path d="m20.4 3.6-8.4 16.8-8.4-16.8z" fill="#fff"/><path d="m0 0h24v24h-24z" fill="none"/>',semantic_ui:'<g><path d="M0,0 L256,0 L256,256 L0,256 L0,0 Z" fill="#34BDB2"></path><path d="M168.461,87.041 C154.945,79.199 142.947,73.032 127.251,73.304 C118.271,73.46 110.561,78.341 108.94,87.274 C107.431,95.585 114.819,100.195 122.505,103.025 C135.252,107.719 146.349,112.675 158.874,117.894 C181.643,127.383 193.318,142.75 191.938,162.467 C190.182,187.554 175.084,205.547 151.089,211.479 C119.735,219.231 89.288,207.423 63.563,190.939 C70.056,181.048 77.589,174.296 84.043,164.465 C98.905,170.791 110.581,179.339 126.129,180.672 C137.092,181.612 149.514,181.089 151.977,168.212 C154.197,156.6 144.091,150.375 134.234,146.898 C122.499,142.759 110.786,137.696 99.278,132.996 C78.005,124.307 69.349,107.312 70.806,87.291 C70.806,75.552 80.546,51.825 104.427,44.445 C141.119,33.105 161.335,44.717 187.942,61.816 C180.875,71.162 175.442,77.807 168.461,87.041" fill="#FFFFFF"></path></g>',bulma:'<g stroke="none" stroke-width="1" fill="#00d1b2" fill-rule="evenodd"><polygon id="Path" points="136 296 156 156 236 76 336 176 276 236 356 316 236 396"></polygon></g>',uikit:'<path fill="#58BBE5" d="M136.167,42.291L108.47,59.07l31.695,18.186v47.708l-42.639,23.861l-41.864-23.858V87.989L27.91,73.733    v67.735l68.604,40.44l71.403-40.44V60.56L136.167,42.291z M123.344,35.611l-26.83-15.52L68.532,37.404l27.191,14.958    L123.344,35.611z"/>'}})),m.module("project").require("model","prompt","path","set","templates","messages","session","remote","editor","zipper").__init__((function(e,{model:t,prompt:n,messages:i,templates:o,labs:a,projects:r,files:s,path:l,set:c,session:u,remote:h,editor:d,zipper:p}){Object.assign(e,{model:t,prompt:n,messages:i,templates:o,labs:a,projects:r,files:s,path:l,set:c,session:u,remote:h,editor:d,zipper:p}),e.labLocation="labs/"})).def({switcher:function(){return $$("projectTabList")},nameInput:function(){return $$("projectNameInput")},createButton:function(){return $$("projectCreateButton")},Lo:function(e,t){var n=this;return n.Go(i18nTag({en:"Enter a name for new project.",es:"Ingrese nombre para proyecto nuevo.",ja:"プロジェクト名を入力してください",pt:"Digite o nome para novo projeto.",zh:"输入新建项目名",zhTW:"輸入新增專案名"}),e.split(/\.zip/i)[0]).then(e=>n.C({name:e,buildCallback:function({dir:e}){return n.zipper.yt(e,t)}})).then(GA_SendEvent_Success("import_zip","zip"),GA_SendEvent_Failure("import_zip","zip"))},Go:function(e,t){var n=this;return new Promise((function(i,o){n.prompt.V(RES_I18N.Actions.New(RES_I18N.Objects.Project),t||"",{showInput:!0,message:e,onResult:function(e){i(e)},onDismiss:function(){o()},onValidate:function(e,t,n){0===e.length?t(RES_I18N.ErrorMessages.CannotBeEmpty):(t(null),n&&n())}})}))},C:function({name:e="Unknown",buildCallback:t=(()=>{}),uniqueName:n=!0,openAfter:i=!0,currentFilePath:o=null}){var a=this;return ENV.filesDirAsync(e).then(e=>n?a.model.qe(e):e).then(e=>{var n={dir:e,currentFilePath:o,modifiedAt:Date.now()};return Promise.resolve(t(n)).then(()=>Promise.all([GFS.mkdir(e),a.model.Ve(e,n)])).then(()=>i&&a.session.D(e)).then(()=>n)})},to:function(e,t,n,i){var o=this,a=o.templates.frameworks.js[t]||{},r=o.templates.frameworks.css[n]||{},s=i&&i.templates[0]||a.defaultFile;return o.C({name:e,currentFilePath:s,buildCallback:function(e){var{dir:t}=e;return Promise.resolve().then(()=>{if(i){var e=o.labLocation+i.key+"/";return Promise.all(i.templates.map((function(t){return o.remote.$({url:e+t,retryCount:1,responseType:"arraybuffer"}).then(e=>({path:t,contents:e}))})))}return Promise.all([o.templates.ft(a),o.templates.ft(r)]).then((function(e){var t=e[0],n=e[1];n.scripts=o.set.Tt(n.scripts,t.scripts),t.links=o.set.Tt(t.links,n.links);var i=a.templates||[],s={js:t,css:n,files:i,stylesheets:i.filter(e=>e.stylesheet),heading:(a.name||"")+(r.name?" + "+r.name:""),text:o.templates.dt(),cls:r.classes||{}};return Promise.all(i.map((function({src:e,path:t}){return o.templates.ht(e).then(e=>({path:t,contents:e(s)}))})))}))}).then((function(e){return PromisePool({data:e,promiseGenerator:function({path:e,contents:n}){return GFS.write(PathUtils.join(t,e),n)},maxConcurrency:1})})).catch(e=>($LOG.error(e),o.messages.gt("loadTemplateError"),Promise.all([GFS.rmdir(t),ENV.trashDirAsync(t).then(e=>GFS.rmdir(e)),ENV.metadataDirAsync(t).then(e=>GFS.rm(e))]).then(()=>Promise.reject(e))))}}).then(()=>{GA_SendEvent(i?"lab_"+i.key:"framework_"+(t||"")+"+"+(n||""),"projects")})}}),m.module("project").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,dialogClass:"uk-flex uk-flex-column",dialogStyle:["full","large","blank"],header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexAlign:"middle",cells:[{id:"projectBackButton",view:"menuIcon",icon:"chevron-left",margin:"left",style:{fontSize:"1.25em"},on:{onClick:function(){var t=e.switcher();t.selectedCssFrameworkItem?t.setJsFrameworkItem(t.selectedJsFrameworkItem):t.selectedJsFrameworkItem?t.navigateToStart(!0):e.modal.close()}}},{id:"projectTitleSwitcherContainer",view:"list",cls:"uk-switcher",data:[{view:"label",cls:"x-menu-title",label:"JAVASCRIPT FRAMEWORK"},{view:"label",cls:"x-menu-title",label:"CSS FRAMEWORK"},{view:"label",cls:"x-menu-title",label:i18nTag(RES_I18N.Actions.Create(RES_I18N.Objects.Project))}]},{id:"projectCreateButton",view:"button",label:i18nTag(RES_I18N.Actions.Create(RES_I18N.Objects.Project)),style:{marginLeft:"auto"},on:{onClick:function(){var t=e.switcher();e.to(e.nameInput().getValue(),t.selectedJsFrameworkItem.value,t.selectedCssFrameworkItem.value),e.nameInput().reset(),e.modal.close()}}}]},body:{view:"scroller",cells:[{id:"projectTabList",view:"list",flexSize:"none",hidden:!0,listStyle:"breadcrumb",switcherOptions:{connect:"#projectTypeSwitcherContainer, #projectTitleSwitcherContainer",animation:"slide-horizontal",swiping:!1},data:[{},{},{}],on:{onInitialized:function(){UI.delay((function(){this._switcher=UIkit2.switcher(this.element,this.switcherOptions)}),this,null)}},setJsFrameworkItem:function(t){this.selectedJsFrameworkItem=t,this.selectedCssFrameworkItem=null,this._switcher.show(1,!0),e.nameInput().setValue(t.title+" Seed"),e.createButton().hide()},setCssFrameworkItem:function(t){var n=this.selectedJsFrameworkItem;this.selectedCssFrameworkItem=t,this._switcher.show(2,!0),$$("projectConfirmList").setData([{htmlTag:"DIV",view:"card",title:n.title,svg:n.svg,viewBox:n.viewBox,accessoryIcon:""},{htmlTag:"DIV",view:"card",title:t.title,svg:t.svg,viewBox:t.viewBox,accessoryIcon:""}]),e.createButton().show(),setTimeout((function(){e.nameInput().getFormControl().focus()}),250)},navigateToStart:function(t){this.selectedJsFrameworkItem=null,this.selectedCssFrameworkItem=null,this._switcher.show(0,!!t),e.createButton().hide()}},{flexSize:"flex",template:{id:"projectTypeSwitcherContainer",view:"list",cls:"uk-switcher",data:[e.Mo(),e.Do(),{view:"flexgrid",margin:"x y",flexLayout:"column",cells:[{template:i18nTag(RES_I18N.Objects.NameFor(RES_I18N.Objects.Project)),selectable:!1},{id:"projectNameInput",view:"input",width:"full",size:"large",margin:"top bottom-lg",i18nPlaceholders:RES_I18N.Objects.NameFor(RES_I18N.Objects.Project),on:{onKeyUp:function(t,n,i){"Enter"===i.key&&e.createButton().dispatch("onClick")}}},{template:'<span class="uk-h6">Packages</span>',margin:"bottom",selectable:!1},e.Wo("projectConfirmList",[])]}]}}]},on:{onOpened:function(){e.switcher().navigateToStart()}}},document.getElementById("appContainer"))})).def({Wo:function(e,t,n){return{id:e,view:"list",listStyle:"side line",cls:"uk-padding-remove",data:t,on:n}},Mo:function(){var e=this,t=e.templates.frameworks.js;return e.Wo("projectAppList",[{view:"card",title:"No JS Framework",label:"Work with a clean slate.",svg:e.svg.javascript,viewBox:e.viewBox.javascript,rank:1}].concat(Object.keys(t).map((function(n){var i=t[n];return{view:"card",value:n,title:i.name,label:i.info,svg:e.svg[n],viewBox:e.viewBox[n],rank:e.ranks[n]}}))).sort((function(e,t){return e.rank-t.rank})).concat([{view:"spacer",height:96}]),{onItemClick:function(t){e.switcher().setJsFrameworkItem(t)}})},Do:function(){var e=this,t=e.templates.frameworks.css;return e.Wo("projectStyleList",[{view:"card",title:"No CSS Framework",label:"Work on a clean canvas.",value:"",svg:e.svg.css,viewBox:e.viewBox.css}].concat(Object.keys(t).sort().map((function(n){var i=t[n];return{view:"card",value:n,title:i.name,label:i.info,svg:e.svg[n],viewBox:e.viewBox[n]}}))).concat([{view:"spacer",height:96}]),{onItemClick:function(t){e.switcher().setCssFrameworkItem(t)}})}}),m.module("viewer").__init__((function(e){e.md=window.markdownit({html:!0});var t=e.Vo.bind(e),n=e.Ho.bind(e),i=e.qo.bind(e),o=e.Ko.bind(e),a=e.Qo.bind(e);e.SupportedExtensions={".svg":t,".jpe":t,".jpg":t,".jpeg":t,".png":t,".gif":t,".bmp":t,".md":i,".woff":n,".woff2":n,".eot":n,".otf":n,".ttf":n,".mp4":a,".webm":a,".ogg":a,".mp3":o,".wav":o},e.styleContainer=document.createElement("style"),document.head.appendChild(e.styleContainer)})).def({Ai:function(e){return e in this.SupportedExtensions},$o:function(e){var t=this;return Promise.resolve(t.SupportedExtensions[PathUtils.ext(e)]).then(n=>n?n(e):t.Zo())},qo:function(e){var t=this;return GFS.readFile(e,{encoding:"utf8"}).then(e=>{var n=t.md.render(e);t.view.showBatch("markdown"),$$("viewerMarkdown").element.innerHTML=n})},Vo:function(e){this.view.showBatch("image"),$$("viewerImage").set("src",ENV.resource(e))},Qo:function(e){this.view.showBatch("video"),$$("viewerVideo").config.src=ENV.resource(e),$$("viewerVideo").render()},Ko:function(e){this.view.showBatch("audio"),$$("viewerAudio").config.src=ENV.resource(e),$$("viewerAudio").render()},Ho:function(e){this.styleContainer.firstChild&&this.styleContainer.removeChild(this.styleContainer.firstChild),this.styleContainer.appendChild(document.createTextNode(`@font-face {font-family: 'CustomV Font' src: url('${ENV.resource(e)}')}`)),this.view.showBatch("font"),$$("viewerFont").element.style.fontFamily="CustomV Font"},Zo:function(){this.view.showBatch("invalid")}}),m.module("viewer").__init__((function(e){e.view=UI.new({id:e.__name__,batch:e.__name__,view:"scroller",singleView:!0,style:{paddingTop:"48px"},cells:[{batch:"image",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:{id:"viewerImage",view:"image",valign:"middle"}},{id:"viewerFont",batch:"font",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:{valign:"middle",style:{fontSize:"32px",lineHeight:"36px"},template:"<p>A B C D E F</p><p>G H I J K L M</p><p>N O P Q R S</p><p>T U V W X Y Z</p><p>a b c d e f</p><p>g h i j k l m</p><p>n o p q r s</p><p>t u v w x y z</p><p>1 2 3 4 5</p><p>6 7 8 9 0</p>"}},{batch:"markdown",id:"viewerMarkdown",cls:"x-markdown",padding:"x",style:{paddingBottom:"24px"}},{id:"viewerAudio",batch:"audio",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:function(e){var t=e.src;return t?`<audio class='x-no-outline' controls>\n                <source src='${t}' type='${ExtensionMimeTypes[PathUtils.ext(t)]}'>\n                Your browser does not support the audio tag.\n              </audio>`:"<audio class='x-no-outline' controls>Your browser does not support the audio tag.</audio>"}},{id:"viewerVideo",batch:"video",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:function(e){var t=e.src;return t?`<video class='x-no-outline' width='320' height='240' controls>\n                <source src='${t}' type='${ExtensionMimeTypes[PathUtils.ext(t)]}'>\n                Your browser does not support the video tag.\n              </video>`:"<video class='x-no-outline' width='320' height='240' controls>Your browser does not support the video tag.</audio>"}},{batch:"invalid",flex:!0,flexSize:"flex",flexAlign:"middle center",template:"File type not supported.",htmlTag:"H4"}]})})),m.module("gitBranches").require("string","checkoutBranch","addGitAuth","gitClient","session").__init__((function(e,{addGitAuth:t,gitClient:n,checkoutBranch:i,string:o,session:a}){Object.assign(e,{addGitAuth:t,gitClient:n,string:o,checkoutBranch:i,session:a}),a.observable.subscribe((function({action:t,projectDir:n}){if("syncGit"===t)return e.Yo(n)}))})).def({Jo:function(){return $$("gitBranchesOkButton")},Xo:function(){return $$("gitBranchesAddInput")},Wi:function(){return $$("gitBranchesList")},ea:function(){return $$("gitBranchesRemoteList")},ta:function(){return $$("gitBranchesSearchInput")},na:function(e){this.Xo().setValue(""),this.addModal.open(e)},ia:function(e){var t=this;return t.Yo(e).then(()=>t.modal.open(e))},Yo:function(e){var t=this;return Promise.all([t.gitClient.Hn(e),t.gitClient.xn(e,!0).catch(()=>null)]).then((function([e,n]){var i=e.filter(e=>!e.remote),o=e.filter(e=>!!e.remote),a=t.Wi();a.setData(i),a.deselectAll();var r=a.findOne("ref",n);r&&a.select(r),t.ea().setData(o)}))},li:function(e,t){var n=this;return n.gitClient.ci(e,t).then(()=>n.Yo(e))}}),m.module("gitBranches").__init__((function(e){e.addModal=UI.new({id:"gitBranchesAddModal",view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:i18nTag(RES_I18N.Actions.Create(RES_I18N.Objects.Branch)),collapsable:!1}]},body:{flexLayout:"column",cls:"uk-form",margin:"top",cells:[{id:"gitBranchesAddInput",view:"input",i18nPlaceholders:RES_I18N.Objects.NameFor(RES_I18N.Objects.Branch),on:{onKeyUp:function(t,n,i){this.validateAsync().then(()=>{"Enter"==i.key&&e.Jo().dispatch("onClick")})}},validateAsync:function(){var t=this,n=t.getValue();return new Promise((i,o)=>{if(n){if(!(/[~^:\s\\]/.test(n)||n.endsWith("/")||n.includes("..")||n.startsWith(".")||n.toLowerCase().endsWith(".lock"))){var{projectDir:a}=e.addModal;return e.gitClient.qn(a).then(e=>{e.includes(n)?(t.raiseConcern(RES_I18N.ErrorMessages.ExistsFor(RES_I18N.Objects.Branch)),o()):(t.raiseConcern(null),i(n))})}t.raiseConcern(RES_I18N.ErrorMessages.InvalidFor(RES_I18N.Objects.NameFor(RES_I18N.Objects.Branch))),o()}else t.raiseConcern(RES_I18N.ErrorMessages.CannotBeEmpty),o()})}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"gitBranchesCancelButton",view:"button",label:RES_I18N.Elements.Cancel,on:{onClick:function(){e.addModal.close()}}},{id:"gitBranchesOkButton",view:"button",label:RES_I18N.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){var{projectDir:t}=e.addModal;e.Xo().validateAsync().then(n=>{e.gitClient.si(t,n),e.addModal.close()})}}}]},on:{onOpened:function(e,t,n){this.projectDir=n}}},document.getElementById("appContainer"));const t=t=>t.ref.includes(e.ta().getValue());e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,dialogClass:"uk-flex uk-flex-column",dialogStyle:["scroll","blank"],style:{zIndex:1900},header:{flexSize:"none",cls:"x-menu-title-bar shadow",flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:RES_I18N.Elements.Branches,collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"gitBranchesCloseButton",view:"menuIcon",icon:"close",on:{onClick:function(){e.modal.close()}}}]}]},{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{id:"gitBranchesSearchInput",cls:"x-menu-search",view:"searchField",flexSize:"flex",i18nPlaceholders:RES_I18N.Actions.SearchFor(RES_I18N.Objects.Branch),clearSearch:!0,on:{onInput:function(){e.Wi().refresh()}}},{id:"gitBranchesAddButton",view:"menuIcon",icon:"plus",margin:"right",on:{onClick:function(){e.na(e.modal.projectDir)}}}]}]},body:{view:"scroller",cells:[{view:"menuTitle",label:RES_I18N.Elements.Local,style:{padding:"0.5em 1em"},on:{onToggled:function(t){var n=e.Wi();t.visible?n.show():n.hide()}}},{id:"gitBranchesList",view:"list",selectable:!0,flexSize:"flex",listStyle:"side",template:function(t){return{cls:"x-list-item",template:{cls:"x-list-item-meta",flexAlign:"middle",cells:[{flex:!1,flexSize:"flex",style:{minWidth:0},cells:[{view:"label",cls:"x-flex-text-overflow-ellipsis",htmlTag:"DIV",label:e.string.zt(t.name)},{view:"label",cls:"x-flex-text-overflow-ellipsis",htmlTag:"DIV",textColor:"muted",label:e.string.zt(t.ref)}]},{view:"menuIcon",tagClass:"",margin:"left",text:"large",icon:"pull",on:{onClick:function(){e.checkoutBranch.oa({dir:e.modal.projectDir,branch:t.name})}}},{view:"menuIcon",tagClass:"",margin:"left",text:"large",icon:"trash",on:{onClick:function(){e.li(e.modal.projectDir,t.name)}}}]}}},filter:t,data:[]},{view:"menuTitle",label:i18nTag(RES_I18N.Objects.Remote)+" "+RES_I18N.Elements.Branches,style:{padding:"0.5em 1em"},on:{onToggled:function(t){var n=e.ea();t.visible?n.show():n.hide()}}},{id:"gitBranchesRemoteList",view:"list",selectable:!0,flexSize:"flex",listStyle:"side",template:function(t){return{cls:"x-list-item",template:{cls:"x-list-item-meta",flexAlign:"middle",cells:[{flex:!1,flexSize:"flex",style:{minWidth:0},cells:[{view:"label",cls:"x-flex-text-overflow-ellipsis",htmlTag:"DIV",label:e.string.zt(t.name)},{view:"label",cls:"x-flex-text-overflow-ellipsis",htmlTag:"DIV",textColor:"muted",label:e.string.zt(t.ref)}]},{view:"menuIcon",tagClass:"",margin:"left",text:"large",icon:"pull",on:{onClick:function(){e.checkoutBranch.oa({dir:e.modal.projectDir,branch:t.name})}}}]}}},filter:t,data:[]}]},on:{onOpened:function(e,t,n){this.projectDir=n}}},document.getElementById("appContainer"))})),m.module("addBranch").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:i18nTag(RES_I18N.Actions.Create(RES_I18N.Objects.Branch)),collapsable:!1}]},body:{flexLayout:"column",cls:"uk-form",margin:"top",cells:[{id:"addBranchInput",view:"input",i18nPlaceholders:RES_I18N.Objects.NameFor(RES_I18N.Objects.Branch),on:{onKeyUp:function(t,n,i){this.validate((function(){"Enter"==i.key&&e.sn().dispatch("onClick")}))}},validate:function(t){var n=this,i=n.getValue();if(i){if(!(/[~^:\s\\]/.test(i)||i.endsWith("/")||i.includes("..")||i.startsWith(".")||i.toLowerCase().endsWith(".lock"))){var o=e.modal.projectDir;return e.gitClient.qn(o).then(e=>{e.includes(i)?n.raiseConcern(i18nTag({en:"This branch name already exists.",es:"Ya existe un ramal con el mismo nombre.",ja:"このブランチ名は既に存在します。",pt:"Um ramo com este nome já existe.",zh:"此名称的分支已存在",zhTW:"相同名稱的分支已經存在"})):(n.raiseConcern(null),t&&t(i))})}n.raiseConcern(i18nTag({en:"Branch name is invalid.",es:"El nombre Ramal no es válido.",ja:"ブランチの名前が無効です",pt:"Nome do ramo inválido.",zh:"分支名称不合规定",zhTW:"分支名稱無效"}))}else n.raiseConcern(RES_I18N.ErrorMessages.CannotBeEmpty)}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"addBranchCancelButton",view:"button",label:RES_I18N.Elements.Cancel,on:{onClick:function(){e.modal.close()}}},{id:"addBranchOkButton",view:"button",label:RES_I18N.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){var t=e.modal.projectDir;if(e.Kt().validate()){var n=e.Kt().getValue();t&&n&&e.gitClient.ri(t,n),e.modal.close()}}}}]},on:{onOpened:function(e,t,n){this.projectDir=n}}},document.getElementById("appContainer"))})),m.module("addGitAuth").require("git").__init__((function(e,{git:t}){e.git=t})).__init__((function(e){e.CredentialManager={prompt:function(t){return new Promise((function(n,i){e.aa(t,(function(){e.git.ne(t).then(n,i)}),i)}))},getItemAsync:function(t){return e.git.ne(t).then(e=>e.username&&e.token?{username:e.username,token:e.token}:this.prompt(t))},getItemAsyncWithoutPrompt:function(t){return e.git.te(t).then(n=>n?e.git.ne(t):null)},setItemAsync:function(t,n,i,o){return e.git.ie(t,n,i,o)}}})).def({ra:function(){return $$("addGitAuthHostSelect")},sa:function(){return $$("addGitTokenInput")},la:function(){return $$("addGitUsernameInput")},ca:function(){return $$("addGitAuthorEmailInput")},aa:function(e,t,n){if(e){var i=this.ra();i.setValue(e),i.dispatch("onChange")}this.modal.open({onResult:t,onDismiss:n})},ua:function(){var e=this.la().getValue(),t=this.ca().getValue(),n=this.sa().getValue(),i=this.ra().getValue();return this.CredentialManager.setItemAsync(i,e,n,t)}}),m.module("addGitAuth").__init__((function(e){e.modal=UI.new({id:e.__name__,cls:"x-prompt",view:"modal",closeButton:!1,bgClose:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:RES_I18N.Elements.GitCredentials,collapsable:!1},{flexSize:"none",cells:[{view:"label",textColor:"muted",label:i18nTag({en:"Provider",es:"Proveedor",ja:"プロバイダー",pt:"Provedor",zh:"提供者",zhTW:"提供者"})},{id:"addGitAuthHostSelect",view:"select",textColor:"primary",margin:"x",style:{border:"none",padding:"0"},data:[{value:"git",label:"Default"},{value:"github.com",label:"GitHub",optgroup:"Host"},{value:"bitbucket.org",label:"BitBucket",optgroup:"Host"},{value:"gitlab.com",label:"GitLab",optgroup:"Host"}],on:{onChange:function(){var t=this.getValue();$$("addGitAuthMessage").showBatch(t),e.modal.updateFieldsForProviderAsync(t)}}}]}]},body:{flexLayout:"column",margin:"top",cells:[{id:"addGitUsernameInput",view:"input",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:RES_I18N.Placeholders.Username,on:{onKeyUp:function(t,n,i){"Enter"==i.key&&e.sa().focus()}}},{id:"addGitTokenInput",view:"input",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:{en:"Password/Token",es:"Contraseña/Token",ja:"パスワード/Token",pt:"Senha/Token",zh:"密码/Token",zhTW:"密碼/Token"},on:{onKeyUp:function(t,n,i){"Enter"==i.key&&this.getValue()&&e.ca().focus()}}},{id:"addGitAuthorEmailInput",view:"input",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:RES_I18N.Placeholders.AuthorEmail,type:"email",on:{onKeyUp:function(e,t,n){"Enter"==n.key&&$$("addGitAuthOkButton").dispatch("onClick")}}},{id:"addGitAuthMessage",margin:"top-sm left-sm",cells:[{batch:"github.com",htmlTag:"SPAN",template:"Create a <a href='https://github.com/settings/tokens' rel='noopener noreferrer' target='_blank'>GitHub token</a>."},{batch:"gitlab.com",htmlTag:"SPAN",template:"How to create a <a href='https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html' rel='noopener noreferrer' target='_blank'>GitLab token</a>."},{batch:"bitbucket.org",htmlTag:"SPAN",template:"How to create a <a href='https://confluence.atlassian.com/bitbucket/app-passwords-828781300.html' rel='noopener noreferrer' target='_blank'>BitBucket token</a>."}],on:{onInitialized:function(){this.showBatch(e.ra().getValue())}}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"addGitAuthCancelButton",view:"button",label:RES_I18N.Elements.Cancel,on:{onClick:function(){e.modal.close()}}},{id:"addGitAuthOkButton",view:"button",label:RES_I18N.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){e.ua().then(()=>{e.onModalResult&&(e.onModalResult(),e.onModalDismiss=null),e.modal.close()})}}}]},on:{onOpened:function(t,n,i){var o=e.ra().getValue();this.updateFieldsForProviderAsync(o),e.onModalResult=i&&i.onResult,e.onModalDismiss=i&&i.onDismiss},onClosed:function(){e.onModalDismiss&&e.onModalDismiss()}},updateFieldsForProviderAsync:function(t){return e.git.ne(t).then(t=>{e.sa().setValue(t.token),e.la().setValue(t.username),e.ca().setValue(t.email)})}},document.getElementById("appContainer"))})),m.module("checkoutBranch").require("gitClient","session","prompt").__init__((function(e,{gitClient:t,session:n,prompt:i}){Object.assign(e,{gitClient:t,session:n,prompt:i})})).def({select:function(){return $$("checkoutBranchSelect")},ha:function(e){var t=this;return t.gitClient.Fn(e).then(n=>Promise.all(n.map(n=>t.gitClient.Qn(e,n.remote)))).then(()=>t.da(e)).then(()=>t.prompt.be(RES_I18N.Objects.Fetch,"Successfully updated all remote branches."))},pa:function(e){return e.filter(({name:e})=>"HEAD"!==e).map(e=>({label:e.name,value:e.name,optgroup:e.remote?`Remote: ${e.remote}`:"Local"}))},da:function(e){var t=this;return Promise.all([t.gitClient.Hn(e),t.gitClient.xn(e)]).then((function([e,n]){t.select().setData(t.pa(e)),t.select().setValue(n)}))},fa:function(e){var t=this;return t.da(e).then(()=>t.modal.open(e))},oa:function({dir:e,branch:t,noChecks:n}){var i=this;return(n?i.gitClient.oi(e,t):i.gitClient.ii(e,t)).then(()=>i.session.Xe(e)).then(()=>i.session.Qe(i.session.Re()))}}),m.module("checkoutBranch").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,style:{zIndex:1900},header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:RES_I18N.Elements.Checkout,collapsable:!1}]},body:{cls:"uk-form",margin:"top",flexAlign:"middle",cells:[{id:"checkoutBranchSelect",view:"select",flexSize:"flex",data:[],style:{maxWidth:"calc(100% - 56px)"}},{view:"menuIcon",icon:"refresh",title:"Fetch All Remotes",margin:"x-sm",flexSize:"none",on:{onClick:function(){var t=e.modal.projectDir;t&&e.ha(t)}}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"checkoutBranchCancelButton",view:"button",label:RES_I18N.Elements.Cancel,on:{onClick:function(){e.modal.close()}}},{id:"checkoutBranchOkButton",view:"button",label:RES_I18N.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){var t=e.modal.projectDir;t&&e.oa({dir:t,branch:e.select().getValue()}),e.modal.close()}}}]},on:{onOpened:function(e,t,n){this.projectDir=n}}},document.getElementById("appContainer"))})),m.module("cloneRepo").require("gitClient","git","addGitAuth","initRepo","project").__init__((function(e,{gitClient:t,git:n,addGitAuth:i,initRepo:o,project:a}){Object.assign(e,{gitClient:t,git:n,addGitAuth:i,initRepo:o,project:a})})).__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:RES_I18N.Elements.CloneRepo,collapsable:!1}]},body:{flexLayout:"column",cells:[{view:"link",htmlTag:"SPAN",margin:"y-sm",template:`Set ${i18nTag(RES_I18N.Objects.Credentials,"a")} to access for private ${i18nTag(RES_I18N.Objects.Repository)}.`,on:{onClick:function(t,n,i){"A"===i.target.tagName&&(e.modal.close(),e.addGitAuth.aa())}}},{id:"cloneRepoUrlInput",view:"input",width:"full",size:"large",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:RES_I18N.Placeholders.HttpsUrl,on:{onKeyUp:function(e,t,n){this.validate((function(){"Enter"==n.key&&$$("cloneRepoOkButton").dispatch("onClick")}))}},validate:function(t){var n=this.getValue(),i=e.git.ee(n);n?i?(this.raiseConcern(null),t&&t(i)):this.raiseConcern("Please enter a valid HTTPS repo url."):this.raiseConcern(null)}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"cloneRepoCancelButton",view:"button",label:RES_I18N.Elements.Cancel,on:{onClick:function(){e.modal.close()}}},{id:"cloneRepoOkButton",view:"button",label:RES_I18N.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){var t=$$("cloneRepoUrlInput");t.setValue(e.git.Y(t.getValue())),t.validate((function(t){e.modal.close(),e.ma(t.repoName,t.url)}))}}}]},on:{onOpened:function(){$$("cloneRepoUrlInput").setValue("")}}},document.getElementById("appContainer"))})).def({va:function(e){this.modal.open({onResult:e})},ma:function(e,t){var n=this;return n.project.C({name:e,buildCallback:function(e){var{dir:i}=e;return e.git=!0,n.gitClient.Un(i,t)}}).then(GA_SendEvent_Success("clone_git_repo","git_core"),GA_SendEvent_Failure("clone_git_repo","git_core"))}}),m.module("commitMessage").require("git","gitClient","path").__init__((function(e,{git:t,gitClient:n,path:i}){Object.assign(e,{git:t,gitClient:n,path:i})})).def({commitMessage:function(){return $$("commitMessageInput")},authorName:function(){return $$("commitAuthorName")},authorEmail:function(){return $$("commitAuthorEmail")},sn:function(){return $$("commitMessageOkButton")},ga:function(){return $$("commitMessageCredentialSelect")},ba:function(e){var t=this;return t.gitClient.jn(e).then(({url:e})=>t.path.Rt(e),()=>null).then(e=>(t.ga().setValue(e||"git"),t.git.ne(e))).then(e=>(t.commitMessage().setValue(""),t.authorName().setValue(e.username),t.authorEmail().setValue(e.email),new Promise((function(e,n){t.modal.open({resolve:e,reject:n})}))))}}),m.module("commitMessage").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:RES_I18N.Elements.CommitAll,collapsable:!1},{flexSize:"none",cells:[{view:"label",textColor:"muted",label:i18nTag(RES_I18N.Objects.Credentials)},{id:"commitMessageCredentialSelect",view:"select",textColor:"primary",margin:"x",style:{border:"none",padding:"0"},data:[{value:"git",label:"Default"},{value:"github.com",label:"GitHub",optgroup:"Host"},{value:"bitbucket.org",label:"BitBucket",optgroup:"Host"},{value:"gitlab.com",label:"GitLab",optgroup:"Host"}],on:{onChange:function(){var t=this.getValue();e.git.ne(t).then(t=>{e.authorName().setValue(t.username),e.authorEmail().setValue(t.email)})}}}]}]},body:{flexLayout:"column",margin:"top",cells:[{id:"commitMessageInput",view:"input",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:RES_I18N.Placeholders.CommitMessage,validateAsync:function(){var e=this;return new Promise((t,n)=>{var i=e.getValue();i?t(i):(e.raiseConcern(RES_I18N.ErrorMessages.CannotBeEmpty),n())})},on:{onKeyUp:function(t,n,i){this.validateAsync().then(()=>{"Enter"==i.key&&e.authorName().focus()})}}},{id:"commitAuthorName",view:"input",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:RES_I18N.Placeholders.AuthorName,validateAsync:function(){var e=this;return new Promise((t,n)=>{var i=e.getValue();i?t(i):(e.raiseConcern(RES_I18N.ErrorMessages.CannotBeEmpty),n())})},on:{onKeyUp:function(t,n,i){this.validateAsync().then(()=>{"Enter"==i.key&&e.authorEmail().focus()})}}},{id:"commitAuthorEmail",view:"input",autocapitalize:"off",autocorrect:"off",spellcheck:"false",i18nPlaceholders:RES_I18N.Placeholders.AuthorEmail,type:"email",validateAsync:function(){var e=this;return new Promise((t,n)=>{var i=e.getValue();i?t(i):(e.raiseConcern(RES_I18N.ErrorMessages.CannotBeEmpty),n())})},on:{onKeyUp:function(t,n,i){this.validateAsync().then(()=>{"Enter"==i.key&&e.sn().dispatch("onClick")})}}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"commitMessageCancelButton",view:"button",label:RES_I18N.Elements.Cancel,on:{onClick:function(){e.modal.close()}}},{id:"commitMessageOkButton",view:"button",label:RES_I18N.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){return Promise.all([e.commitMessage().validateAsync(),e.authorName().validateAsync(),e.authorEmail().validateAsync()]).then(([t,n,i])=>{e.modal.close(),e.modal.resolve&&e.modal.resolve({message:t,author:{name:n,email:i}})})}}}]},on:{onOpened:function(t,n,{resolve:i,reject:o}){Object.assign(this,{resolve:i,reject:o}),e.commitMessage().raiseConcern(null),e.authorName().raiseConcern(null),e.authorEmail().raiseConcern(null)}}},document.getElementById("appContainer"))})),m.module("initRepo").require("gitClient","session","model","gitRemotes").__init__((function(e,{gitClient:t,session:n,model:i,gitRemotes:o}){Object.assign(e,{gitClient:t,session:n,gitRemotes:o,model:i})})).def({wa:function(e){var t=this;return t.gitClient.pi(e).then(()=>t.session.Xe(e)).then(()=>t.model.Ve(e,{git:!0}))}}),m.module("gitLogger").require("gitClient","prompt").__init__((function(e,{gitClient:t,prompt:n}){Object.assign(e,{gitClient:t,prompt:n})})).def({Wi:function(){return $$("gitLoggerList")},Kt:function(){return $$("gitLoggerSearchInput")},ya:function(e){var t=this;return Promise.all([t.gitClient.Hn(e),t.gitClient.En(e)]).then(([n,i])=>Promise.all(n.map(n=>t.gitClient.Tn(e,n.ref))).then(e=>{e.forEach((e,t)=>{const o=i.find(t=>t.oid===e);o&&(n[t].remote?o.remote=n[t].remote+"/"+n[t].name:o.head=n[t].name)}),t.Wi().setData(i),t.modal.open()})).catch(e=>{this.prompt.be("Git Log Failed",e.message||"An error occurred in gathering log info.")})}}),m.module("gitLogger").__init__(e=>{e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,dialogClass:"uk-flex uk-flex-column",dialogStyle:["scroll","blank"],header:{flexSize:"none",cls:"x-menu-title-bar shadow",flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:RES_I18N.Elements.LogHistory,collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"gitLoggerCloseButton",view:"menuIcon",icon:"close",title:"Close",on:{onClick:function(){e.modal.close()}}}]}]},{id:"gitLoggerSearchInput",cls:"x-menu-search",view:"searchField",i18nPlaceholders:RES_I18N.Actions.SearchFor(RES_I18N.Objects.Log),clearSearch:!0,on:{onInput:function(){e.Wi().refresh()}}}]},body:{view:"scroller",cells:[{id:"gitLoggerList",view:"list",padding:"x-sm y",batch:"list",selectable:!0,flexSize:"flex",listStyle:"side",filter:t=>{var n=e.Kt().getValue();return t.message.includes(n)||t.oid.includes(n)},template:e=>{var{author:t,oid:n,head:i,remote:o,message:a}=e,{timestamp:r,name:s,email:l}=t,c=new Date(1e3*r).toLocaleString(),u=[];return i&&u.push(`<span class='uk-badge uk-badge-notification'>HEAD: ${i}</span>`),o&&u.push(`<span class='uk-badge uk-badge-notification uk-badge-danger'>${o}</span>`),`${u.length?`<div>${u.join(" ")}</div>`:""}<span class='x-commit-title'>Commit:</span><small class='x-commit-oid uk-margin-small-right'>${n}</small>\n              <div><span class='x-commit-title'>Author:</span>${s} &lt;${l}&gt;</div>\n              <div><span class='x-commit-title'>Date:</span>${c}</div>\n              <div class='x-commit-message'>${a}</div>`},data:[]}]}},document.getElementById("appContainer"))}),m.module("gitRemotes").require("gitClient","git","prompt").__init__((function(e,{gitClient:t,git:n,prompt:i}){Object.assign(e,{gitClient:t,git:n,prompt:i})})).def({Wi:function(){return $$("gitRemotesList")},ta:function(){return $$("gitRemotesSearchInput")},xa:function(){return $$("gitRemotesUpstreamModalTitle")},ka:function(){return $$("gitRemotesUpstreamModalBody")},Sa:function(){return $$("gitRemotesAddRemoteTitleIcon")},_a:function(){return $$("gitRemotesUpstreamRemoteSelect")},Aa:function(){return $$("gitRemotesRemoteOnlySelect")},Ia:function(){return $$("gitRemotesUpstreamBranchSelect")},Jo:function(){return $$("gitRemotesAddModalOkButton")},Ca:function(){return $$("gitRemotesUrlInput")},Ea:function(){return $$("gitRemotesNameInput")},$a:function({projectDir:e,afterModalCallback:t}){var n=this;return new Promise((i,o)=>{n.addModal.open({resolve:i,reject:o,projectDir:e}),t&&t({resolve:i,reject:o})}).then(({remote:t,url:i})=>n.gitClient.ui(e,t,i).then(()=>n.Ra(e)))},hi:function(e,t){var n=this;return n.gitClient.hi(e,t).then(()=>n.Ra(e))},Ta:function(e){var t=this;return t.za({projectDir:e,remoteOnly:!0,title:RES_I18N.Objects.Fetch}).then(n=>{const i=n.remote;return t.gitClient.Qn(e,i).then(()=>{const e=RES_I18N.Objects.Remote;t.prompt.be(RES_I18N.Objects.SuccessfulFor(RES_I18N.Objects.Fetch),{en:`Successfully fetched ${e.en.toLowerCase()} [${i}].`,es:`Recuperada con éxito ${e.es.toLowerCase()} [${i}].`,ja:`正常にフェッチされました${e.ja} [${i}]`,pt:`Busca ${e.pt.toLowerCase()} com sucesso [${i}].`,zh:`成功获取${e.zh} [${i}]`,zhTW:`成功獲取${e.zhTW} [${i}]`})})})},za:function({projectDir:e,remoteOnly:t,title:n,afterModalCallback:i}){var o=this;return(t?o.Fa(e):o.Pa(e)).then(()=>new Promise((a,r)=>{o.upstreamModal.open({resolve:a,reject:r,projectDir:e,remoteOnly:t,title:n}),i&&i()})).then(({remote:n,branch:i})=>Promise.all([o.gitClient.In(e,n),!t&&o.gitClient.Cn(e,i)]).then(()=>({remote:n,branch:i})))},Fa:function(e){var t=this;return Promise.all([t.gitClient._n(e),t.gitClient.Fn(e)]).then(([e,n])=>{var i=t.Aa(),o=e||"origin";i.setData(n.map(({remote:e})=>({label:e,value:e}))),i.setValue(o)})},Pa:function(e){var t=this;return Promise.all([t.gitClient._n(e),t.gitClient.Fn(e)]).then(([n,i])=>{var o=t._a(),a=n||"origin";return o.setData(i.map(({remote:e})=>({label:e,value:e}))),o.setValue(a),t.Oa(e,a)})},Oa:function(e,t){var n=this;return Promise.all([n.gitClient.xn(e),n.gitClient.An(e),n.gitClient.qn(e,t)]).then(([e,t,i])=>{var o=n.Ia();o.setData([e].concat(i).map(e=>({label:e,value:e}))),o.setValue(t||e)})},Ra:function(e){var t=this;return Promise.all([t.gitClient._n(e),t.gitClient.Fn(e)]).then(([e,n])=>{var i=t.Wi();i.setData(n),i.deselectAll();var o=i.findOne("remote",e);o&&i.select(o)})},Ua:function(e){return this.Ra(e).then(()=>this.modal.open(e))}}),m.module("gitRemotes").require("string").__init__((e,{string:t})=>{e.addModal=UI.new({id:"gitRemotesAddModal",view:"modal",cls:"x-prompt",closeButton:!1,bgclose:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:i18nTag(RES_I18N.Actions.New(RES_I18N.Objects.Remote)),collapsable:!1}]},body:{flexLayout:"column",margin:"top",cells:[{id:"gitRemotesNameInput",view:"input",i18nPlaceholders:RES_I18N.Objects.NameFor(RES_I18N.Objects.Remote),on:{onKeyUp:function(t,n,i){this.validateAsync().then(()=>{"Enter"==i.key&&e.Jo().dispatch("onClick")})}},validateAsync:function(){var t=this;return new Promise((n,i)=>{var o=t.getValue();o?e.gitClient.Fn(e.addModal.projectDir).then(e=>{e.map(e=>e.remote).includes(o)?(t.raiseConcern(RES_I18N.ErrorMessages.ExistsFor(RES_I18N.Objects.Remote)),i()):(t.raiseConcern(null),n(o))}):(t.raiseConcern(RES_I18N.ErrorMessages.CannotBeEmpty),i())})}},{id:"gitRemotesUrlInput",view:"input",i18nPlaceholders:RES_I18N.Placeholders.HttpsUrl,on:{onKeyUp:function(t,n,i){this.validateAsync().then(()=>{"Enter"==i.key&&e.Jo().dispatch("onClick")})}},validateAsync:function(){var t=this;return new Promise((n,i)=>{var o=t.getValue(),a=e.git.ee(o);o?a?(t.raiseConcern(null),n(a.url)):(t.raiseConcern(RES_I18N.ErrorMessages.InvalidFor({en:"Remote URL",es:"URL Remota",ja:"リモート URL ",pt:"URL Remota",zh:"远端 URL ",zhTW:"遠端 URL "})),i()):(t.raiseConcern(RES_I18N.ErrorMessages.CannotBeEmpty),i())})}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"gitRemotesAddModalCancelButton",view:"button",label:RES_I18N.Elements.Cancel,on:{onClick:function(){e.addModal.close(),this.reject&&this.reject()}}},{id:"gitRemotesAddModalOkButton",view:"button",label:RES_I18N.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){var t=e.Ca(),n=e.Ea();return t.setValue(e.git.Y(t.getValue())),n.getValue()||n.setValue("origin"),Promise.all([n.validateAsync(),t.validateAsync()]).then(([n,i])=>e.gitClient.Zn(i).then(()=>{const t=e.addModal;t.close(),t.resolve&&t.resolve({remote:n,url:i})},()=>{t.raiseConcern(i18nTag({en:"Failed to connect. GIT URL may not be valid.",es:"No se pudo conectar. El enlace puede estar roto.",ja:"接続に失敗しました。リンクが壊れている可能性があります。",pt:"Falha ao conectar. O link pode estar quebrado.",zh:"连接失败。链接可能中断了。",zhTW:"無法連線。連接可能已經中斷。"}))}))}}}]},on:{onOpened:function(t,n,{resolve:i,reject:o,projectDir:a}){e.Ea().setValue(""),e.Ca().setValue(""),Object.assign(this,{resolve:i,reject:o,projectDir:a})}}},document.getElementById("appContainer")),e.upstreamModal=UI.new({id:"gitRemotesUpstreamModal",view:"modal",cls:"x-prompt",closeButton:!1,bgclose:!1,center:!1,style:{zIndex:1900},header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{id:"gitRemotesUpstreamModalTitle",view:"menuTitle",label:"",collapsable:!1},{id:"gitRemotesAddRemoteTitleIcon",cls:"x-menu-icons",view:"menuIcon",icon:"plus",title:"Add Remote",flexSize:"none",on:{onClick:function(){var t=e.upstreamModal.projectDir;t&&e.$a({projectDir:t}).then(()=>e.Pa(t))}}}]},body:{id:"gitRemotesUpstreamModalBody",margin:"top",cells:[{batch:"upstream",view:"form",formStyle:"horizontal",fill:"width",fieldset:[{id:"gitRemotesUpstreamRemoteSelect",formLabel:RES_I18N.Elements.Remotes,view:"select",style:{maxWidth:"calc(100% - 128px)"},data:[],on:{onChange:function(){e.Oa(e.upstreamModal.projectDir,this.getValue())}}},{id:"gitRemotesUpstreamBranchSelect",formLabel:RES_I18N.Elements.Branches,view:"select",style:{maxWidth:"calc(100% - 128px)"},data:[]}]},{batch:"remoteOnly",cells:[{id:"gitRemotesRemoteOnlySelect",flexSize:"flex",view:"select",data:[]},{cls:"x-menu-icons",view:"menuIcon",icon:"plus",margin:"left",title:"Add Remote",flexSize:"none",on:{onClick:function(){var t=e.upstreamModal.projectDir;t&&e.$a({projectDir:t}).then(()=>e.Fa(t))}}}]}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"gitRemotesUpstreamModalCancelButton",view:"button",label:RES_I18N.Elements.Cancel,on:{onClick:function(){e.upstreamModal.close(),e.upstreamModal.reject&&e.upstreamModal.reject()}}},{id:"gitRemotesUpstreamModalOkButton",view:"button",label:RES_I18N.Elements.Ok,style:{minWidth:"64px"},on:{onClick:function(){var{resolve:t,projectDir:n,remoteOnly:i}=e.upstreamModal;e.upstreamModal.close(),n&&t&&t(i?{remote:e.Aa().getValue()}:{remote:e._a().getValue(),branch:e.Ia().getValue()})}}}]},on:{onOpened:function(t,n,{resolve:i,reject:o,projectDir:a,remoteOnly:r,title:s}){Object.assign(this,{resolve:i,reject:o,projectDir:a,remoteOnly:r}),r?(e.ka().showBatch("remoteOnly"),e.Sa().hide()):(e.ka().showBatch("upstream"),e.Sa().show()),s&&(e.xa().config.label=("string"==typeof s?s:i18nTag(s))+": "+i18nTag(r?RES_I18N.Actions.Select(RES_I18N.Objects.Remote):RES_I18N.Actions.Select(RES_I18N.Objects.Upstream)),e.xa().updateLabel())}}},document.getElementById("appContainer")),e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",center:!1,closeButton:!1,dialogClass:"uk-flex uk-flex-column",dialogStyle:["blank"],style:{zIndex:1900},header:{flexSize:"none",cls:"x-menu-title-bar shadow",flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:RES_I18N.Elements.Remotes,collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"gitRemotesCloseButton",view:"menuIcon",icon:"close",on:{onClick:function(){e.modal.close()}}}]}]},{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{id:"gitRemotesSearchInput",cls:"x-menu-search",view:"searchField",flexSize:"flex",i18nPlaceholders:RES_I18N.Actions.SearchFor(RES_I18N.Objects.Remote),clearSearch:!0,on:{onInput:function(){e.Wi().refresh()}}},{id:"gitRemotesAddButton",view:"menuIcon",icon:"plus",title:"Add Remote",margin:"right",on:{onClick:function(){const{projectDir:t}=e.modal;e.$a({projectDir:t})}}}]}]},body:{view:"scroller",cells:[{id:"gitRemotesList",view:"list",selectable:!0,flexSize:"flex",listStyle:"side",template:function(n){return{cls:"x-list-item",template:{cls:"x-list-item-meta",flexAlign:"middle",cells:[{flex:!1,flexSize:"flex",style:{minWidth:0},cells:[{view:"label",cls:"x-flex-text-overflow-ellipsis",htmlTag:"DIV",label:t.zt(n.remote)},{view:"label",cls:"x-flex-text-overflow-ellipsis",htmlTag:"DIV",textColor:"muted",label:t.zt(n.url)}]},{view:"menuIcon",margin:"left",tagClass:"",text:"large",icon:"trash",on:{onClick:function(){e.hi(e.modal.projectDir,n.remote)}}}]}}},filter:t=>t.remote.includes(e.ta().getValue()),data:[]}]},on:{onOpened:function(e,t,n){this.projectDir=n}}},document.getElementById("appContainer"))}),m.module("fileTreeController").require("model","path","session","fileTree").__init__((function(e,{model:t,path:n,session:i}){e.model=t,e.path=n,e.session=i})).__init__((function(e){e.FileTreeController=function(e){this.tree=e},e.FileTreeController.prototype={root:function(){return this.tree().findOne("root",!0)},sync:function(t){var n=this,i=e.path.Te,o={};return GFS.readdirDeep(t,{folders:!0,files:!1}).then((function(e){e.sort(n.compareObjectsByPathDepth),e.forEach(e=>{if(!i(e)){var t=o[PathUtils.dirname(e)];o[e]=n.addBranch(e,t)}})})).then((function(){return GFS.readdirDeep(t).then(e=>{e.map(e=>{if(!i(e)){var t=o[PathUtils.dirname(e)];n.addLeaf(e,t)}})})}))},updateParentStatus:function(t){if(t){var n=e.Na(t);n!==t.status&&this.markStatus(t,n)}},compareObjectsByPathDepth:function(e,t){var n=/\//g,i=(e.match(n)||[]).length,o=(t.match(n)||[]).length;return i>o?1:i<o?-1:0},showInTree:function(e){var t=this;e.split("/").forEach((function(e,n,i){t.openBranch(i.slice(0,n+1).join("/"))}))},get:function(e,t){var n=this.tree().findOne("path",e);if(!n&&t)throw new Error(`Path ${e} not found.`);return n},markActive:function(e){this.tree().deselectAll();var t=this.get(e);t&&this.tree().select(t)},markStatus:function(e,t){if(e){this.tree().updateItemStatus(e,t);var n=e.$parent?this.tree().getItem(e.$parent):null;n&&this.updateParentStatus(n)}},clearAll:function(){this.tree().clearAll()},addRoot:function(e){var t=PathUtils.basename(e);return this.add({$branch:!0,$draggable:!1,label:t,name:t,path:e,root:!0,file:!1})},addBranch:function(e,t){if(t=t||this.getParentBranch(e)){var n=PathUtils.basename(e);return this.add({$branch:!0,$parent:t.id,$draggable:!0,$droppable:!0,label:n,name:n,path:e,root:!1,file:!1})}$LOG.warn("Could not find parent for: "+e)},setFileDefaultFlag:function(e,t){e&&this.tree().updateItem(e,{isDefaultLaunchFile:t})},openBranch:function(e){if(this.get(e))return this.tree().open(this.get(e,!0))},closeBranch:function(e){if(this.get(e))return this.tree().close(this.get(e,!0))},getParentBranch:function(e){return this.get(PathUtils.dirname(e))},addLeaf:function(e,t){if(t=t||this.getParentBranch(e)){var n=PathUtils.basename(e),i={$branch:!1,$parent:t.id,$draggable:!0,$droppable:!1,label:n,name:n,path:e,root:!1,file:!0};return i=this.add(i)}$LOG.warn("Could not find parent for: "+e)},add:function(e){var t=this.get(e.path);return t||(this.tree().add(e),e)},remove:function(e){if(e){var t=e.$parent?this.tree().getItem(e.$parent):null;this.tree().remove(e),t&&this.updateParentStatus(t)}}}})).def({Na:function(e){var{EMPTY:t,CONFLICT:n,SAME:i,IGNORED:o,ADDED:a,CHANGED:r}=GitStatusTypes,s=e.$children.reduce((e,t)=>e|t.status,t);return s&n||s&r||s&a||s&o||s&i}}),m.module("files").def({Ba:function(e){var t=this;t.prompt.V(RES_I18N.Actions.Rename(RES_I18N.Objects.Project),PathUtils.basename(e),{showInput:!0,onResult:function(n){var i=`${PathUtils.dirname(e)}/${n}`;return t.La(e,i)}})},La:function(e,t){return Promise.all([ENV.metadataDirAsync(e),ENV.metadataDirAsync(t),ENV.trashDirAsync(e),ENV.trashDirAsync(t),ENV.tmpDirAsync(e),ENV.tmpDirAsync(t)]).then(([e,t,n,i,o,a])=>Promise.all([GFS.mv(e,t),GFS.mv(n,i),GFS.mv(o,a)])).then(()=>this.model.Ve(e,{dir:t})).then(()=>GFS.mv(e,t,{updateStatus:!0}))},Ga:function({oldpath:e,path:t}){return GFS.mv(e,t,{updateStatus:!0})},Ma:function(){var e=this,{CONFLICT:t}=GitStatusTypes;return Promise.resolve(e.metadata.Oe()).then(e=>{var n=e.filter(({status:e})=>e&t).length;return n?Promise.reject({message:`You have ${n} unmerged file(s) in conflict.`,name:"Commit Failed",files:e}):0===e.length?Promise.reject({message:i18nTag({en:"No files were changed or added since the last commit.",es:"No se cambiaron o añadieron ficheros desde la última consignación (commit).",ja:"最後のコミットから\n変更/追加されたファイルはありません。",pt:"Nenhum arquivo foi alterado ou adicionado desde a última submissão.",zh:"在上次提交后没有添加或更改过文件",zhTW:"從上次提交以來沒有任何檔案變動或加入"}),name:i18nTag({en:"No Changes",es:"Sin Cambios",ja:"変更なし",pt:"Sem Alterações",zh:"没有变化",zhTW:"沒有變化"}),files:e}):e}).catch((function(t){return t&&t.name&&t.message&&e.prompt.be(t.name,t.message),Promise.reject(t)}))},Da:function(e){var t=this;return t.Ma().then((function(n){var i=t.gitClient,o=i.ei(e,n);return t.commitMessage.ba(e).then(({message:n,author:a})=>o.then(()=>i.ni(e,n,a)).then(()=>t.session.Xe(e)).then(GA_SendEvent_Success("commit_all","git_core"),GA_SendEvent_Failure("commit_all","git_core")))}))},Wa:function(e){var t=this;return t.gitClient.xn(e).then((function(n){if(n)return t.checkoutBranch.oa({dir:e,branch:n,noChecks:!0}).then(GA_SendEvent_Success("git_revert_all","git_core"),GA_SendEvent_Failure("git_revert_all","git_core"));t.prompt.be("Revert Failed","Revert failed due to missing HEAD commit. Please perform a checkout to fix this problem.")}))},Va:function(){var e=this.historyTracker;e.truncate(0),e.clearRedo()},Ha:function(e){var t=this.historyTracker;t.pushUndo(e),t.truncate(20),t.clearRedo()},qa:function(){var e=this;if(!e.historyTracker.canUndo())return Promise.reject({source:"files.model",fn:"pvUndoLastActionAsync",message:"No undo action exists."});var t,n=e.historyTracker.popUndo(),i=n.action;switch(i){case"delete":t=e.Ka(n);break;case"updatePath":t=e.Qa(n);break;case"addFile":t=e.Za(n);break;case"addFolder":t=e.Ya(n);break;default:t=Promise.reject({source:"files.model",fn:"pvUndoLastActionAsync",action:i,message:"Undo history action unrecognized"})}return t.then(t=>{e.historyTracker.pushRedo(t)}).then(GA_SendEvent_Success("undo_action","undo_redo"),GA_SendEvent_Failure("undo_action","undo_redo"))},Ja:function(){var e=this;if(!e.historyTracker.canRedo())return Promise.reject({source:"files.model",fn:"pvRedoLastActionAsync",message:"No redo action exists."});var t,n=e.historyTracker.popRedo(),i=n.action;switch(i){case"delete":t=e.Xa(n);break;case"updatePath":t=e.er(n);break;case"addFile":t=e.tr(n);break;case"addFolder":t=e.nr(n);break;default:t=Promise.reject({source:"files.model",fn:"pvRedoLastActionAsync",action:i,message:"Redo history action unrecognized"})}return t.then(t=>{e.historyTracker.pushUndo(t)}).then(GA_SendEvent_Success("redo_action","undo_redo"),GA_SendEvent_Failure("redo_action","undo_redo"))},Ka:function(e){var{oldpath:t,path:n}=e;return GFS.mv(n,t,{updateStatus:!0}).then(()=>e)},Xa:function(e){var{oldpath:t,path:n}=e;return GFS.mv(t,n,{updateStatus:!0}).then(()=>e)},Za:function(e){return ENV.trashDirAsync().then(t=>GFS.rm(e.path,{tmpDir:t,updateStatus:!0}).then(({oldpath:t,path:n})=>(Object.assign(e,{oldpath:t,path:n}),e)))},tr:function(e){return this.Ka(e).then(()=>(e.path=e.oldpath,e))},Ya:function(e){return this.Za(e)},nr:function(e){return this.Ka(e)},Qa:function(e){var{path:t,oldpath:n}=e;return this.Ga({oldpath:t,path:n}).then(()=>e)},er:function(e){var{path:t,oldpath:n}=e;return this.Ga({oldpath:n,path:t}).then(()=>e)},ir:function(e){var t=this.session.je();return this.gitClient.Wn(t,PathUtils.relativeTo(e,t))},or:function(e){var t=this,n=t.session.je();return t.gitClient.wn(n,PathUtils.relativeTo(e,n)).then(n=>null===n?t.ar(e):GFS.write(e,n,{updateStatus:!0}).then(()=>t.observable.run({action:"update",path:e}))).then(GA_SendEvent_Success("git_revert_file","git_core"),GA_SendEvent_Failure("git_revert_file","git_core"))},Nn:function(e){var t=this;return t.gitRemotes.za({projectDir:e,title:RES_I18N.Objects.Pull}).then(({remote:n,branch:i})=>t.gitClient.zn(e,n).then(n=>t.gitClient.Pn(e,n,i))).then(GA_SendEvent_Success("pull_git_repo","git_core"),GA_SendEvent_Failure("pull_git_repo","git_core"))},Xn:function(e){var t=this;return t.gitRemotes.za({projectDir:e,title:RES_I18N.Objects.Push}).then(({remote:n,branch:i})=>t.gitClient.zn(e,n).then(n=>t.gitClient.Jn(e,n,i)).then(()=>{const e=RES_I18N.Objects.Remote;t.prompt.be(RES_I18N.Objects.SuccessfulFor(RES_I18N.Objects.Push),{en:`Successfully pushed to ${e.en.toLowerCase()} [${n}].`,es:`Empujado con éxito a ${e.es.toLowerCase()} [${n}].`,ja:`${e.ja} [${n}] にプッシュされました`,pt:`Enviado com sucesso para ${e.pt.toLowerCase()} [${n}].`,zh:`成功推送到${e.zh} [${n}]`,zhTW:`成功推送到${e.zhTW} [${n}]`})})).then(GA_SendEvent_Success("push_git_repo","git_core"),GA_SendEvent_Failure("push_git_repo","git_core"))},rr:function(e){return ENV.trashDirAsync().then(t=>GFS.rm(e,{tmpDir:t,updateStatus:!0}))},ar:function(e){var t=this;return t.rr(e).then(({oldpath:e,path:n})=>{t.Ha({action:"delete",label:RES_I18N.Elements.Delete,oldpath:e,path:n})},e=>t.sr(e))},lr:function(e,t,n){if(0==e.length)return Promise.reject("Path cannot be empty.");var i=t?t.path:this.session.je();if(!i)return Promise.reject("Parent path cannot be empty.");if(e=PathUtils.join(i,e),!n){var o=this.editor.Bi();switch(PathUtils.ext(e)){case".html":n=this.templates.ct(o);break;case".js":n=this.templates.lt(o);break;case".css":n=this.templates.ut(o);break;default:n=""}}return this.cr(e,n).then(()=>e)},ur:function(e,t){if(0==e.length)return Promise.reject("Path cannot be empty.");return e=PathUtils.join(t?t.path:this.session.je(),e),this.hr(e)},dr:function(e,t){if(0==e.length)return Promise.reject("Name cannot be empty.");var n=PathUtils.join(PathUtils.dirname(t.path),e);return this.pr(t.path,n,"Rename")},mr:function(e,t){var n=PathUtils.join(t,PathUtils.basename(e));return this.pr(e,n,"Move")},pr:function(e,t,n){return this.Ga({oldpath:e,path:t}).then(()=>{this.Ha({action:"updatePath",label:n,oldpath:e,path:t})})},vr:function(e,t){return GFS.write(e,t,{updateStatus:!0})},cr:function(e,t){var n=this;return n.vr(e,t).then(()=>{n.Ha({action:"addFile",label:i18nTag(RES_I18N.Actions.New(RES_I18N.Objects.File)),path:e,content:t})}).catch(e=>n.sr(e))},gr:function(e){return GFS.mkdir(e)},hr:function(e){var t=this;return t.gr(e).then(()=>{t.Ha({action:"addFolder",label:i18nTag(RES_I18N.Actions.New(RES_I18N.Objects.Folder)),path:e})}).catch(e=>t.sr(e))},br:function(e){var t=this;return new Promise((function(n,i){t.prompt.V({en:`${e} CONFLICTS FOUND`,es:`${e} CONFLICTOS ENCONTRADOS`,ja:`${e}対立が見つかりました`,pt:`${e} CONFLITOS ENCONTRADOS`,zh:`发现${e}个冲突`,zhTW:`發現${e}個衝突`},null,{message:{en:`Do you want to recreate these ${e} files?`},cancelLabel:{en:"Keep",es:"Manten",ja:"保持",pt:"Manter",zh:"保留",zhTW:"保留"},okLabel:{en:"Recreate",es:"Recrear",ja:"再作成する",pt:"Recriar",zh:"重新创建",zhTW:"重新創建"},onResult:n,onDismiss:i})}))},wr:function(e,t){for(var n=this,i=[],o=0;o<t.length;o++)i.push(n.yr(t[o]).then((function(t){return{path:PathUtils.join(e,t.name),data:t.data}}),()=>n.messages.gt("fileEncodeError")));var a=!1;return Promise.all(i).then((function(e){var t=e.map(e=>e.path);return n.xr(t).then((function(e){if(e.length>0)return n.br(e.length).then((function(){return a=!0,e}),(function(){return a=!1,e}))})).then((function(t){return Promise.all(e.map((function(e){return t&&t.includes(e.path)?a?n.ar(e.path).then((function(){return n.cr(e.path,e.data)})):void 0:n.cr(e.path,e.data)})))}))}))},xr:function(e){return Promise.all(e.map(e=>GFS.exists(e))).then(t=>t.map((t,n)=>t?e[n]:null).filter(e=>e))},yr:function(e){return new Promise((function(t,n){var i=new FileReader;i.addEventListener("error",(function(){n(i.error)})),i.addEventListener("load",(function(){t({name:e.name,data:i.result})})),i.readAsArrayBuffer(e)}))},sr:function(e){switch(e.code){case GlobalErrorCodes.FileNotFound:this.messages.gt("fileNotFoundError",{name:PathUtils.basename(e.path)});break;default:$LOG.warn(`Failed to handle database error code: ${e.code}`),this.messages.gt("databaseError"),GA_SendEvent("dexie_f","dexie_f",e.message||e.name||String(e))}return Promise.reject(e)}}),m.module("files").require("model","path","session","messages","templates","prompt","history","diff","project","gitClient","checkoutBranch","gitBranches","commitMessage","gitRemotes","initRepo","string","fileTreeController","metadata","gitLogger","zipper","memory","share").__init__((function(e,{path:t,model:n,session:i,messages:o,templates:a,prompt:r,editor:s,viewer:l,history:c,diff:u,project:h,gitClient:d,checkoutBranch:p,gitBranches:f,commitMessage:m,gitRemotes:v,initRepo:g,string:b,fileTreeController:w,metadata:y,gitLogger:x,zipper:k,memory:S,share:_}){Object.assign(e,{path:t,model:n,session:i,messages:o,templates:a,prompt:r,editor:s,viewer:l,history:c,diff:u,project:h,gitClient:d,checkoutBranch:p,gitBranches:f,commitMessage:m,gitRemotes:v,initRepo:g,string:b,fileTreeController:w,metadata:y,gitLogger:x,zipper:k,memory:S,share:_}),e.minimatch=window.minimatch,e.observable=new ObservableClass,e.historyTracker=new c.HistoryTracker,e.treeController=new w.FileTreeController(e.cn),e.fileQuery={searchPhrase:""},y.observable.subscribe(({path:t,action:n,status:i})=>{var o=e.Vt();switch(n){case"updateStatus":var a=o.get(t);a&&o.markStatus(a,i),e.kr()}});var A=e.path.Te;GFS.observable.subscribe(({action:t,type:n,path:o,oldpath:a})=>{var r=i.Re();if(r){var s=e.Vt(),l=r.dir;if(l){const e=(e,t)=>e&&PathUtils.childOf(e,t)&&!A(e);if(e(a,l)||e(o,l))switch(t){case"mv":case"rmdir":case"rm":var c=s.get(a);c&&s.remove(c),$LOG.log(`[file:${t}] ${a}`)}if(e(a,l)||e(o,l))switch(t){case"mv":"file"===n?s.get(o)||s.addLeaf(o):"folder"===n&&(s.get(o)||(o===l?s.addRoot(o):s.addBranch(o)),s.sync(o)),$LOG.log(`[file:sync] ${n}: ${o}`);break;case"write":s.get(o)||s.addLeaf(o);break;case"mkdir":s.get(l)||s.addRoot(l),PathUtils.normalizePath(o)!==l&&PathUtils.relativeTo(o,l).split("/").map((e,t,n)=>{var i=`${l}/${n.slice(0,t+1).join("/")}`;i===l||s.get(i)||s.addBranch(i)})}}}}),i.observable.subscribe(({action:t,project:n})=>{switch(t){case"setProject":e.Sr(n);break;case"open":var i=e.Vt(),{dir:o,currentFilePath:a}=n;return i.clearAll(),e.Va(),e.lo().showBatch("list"),i.addRoot(o),i.sync(o).then(()=>a?(a.startsWith(o)||(a=PathUtils.join(o,a)),e.observable.run({action:"open",path:a,preserveHistory:!0,showInTree:!0,skipSessionSave:!0})):e.observable.run({action:"open",path:null})).then(()=>y.D(n)).then(()=>S.ve())}})})).def({u:function(){return $$("menuContainer")},Vt:function(){return this.treeController},cn:function(){return $$("filesTree")},_r:function(){return $$("filesGitList")},lo:function(){return $$("filesContainer")},contextMenu:function(){return $$("fileContextMenu")},Ar:function(){return $$("filesGitInitMenu")},Ir:function(){return $$("filesBranchesRemotesMenu")},Cr:function(){return $$("filesAddMenuList")},Er:function(){return $$("filesAddMenuIcon")},$r:function(){this.Er().dropdownPopup.close(),this.dropdownMenu.close()},kr:UIkit2.Utils.debounce((function(){var e=this.metadata.Oe();e.sort(),this._r().setData(e)}),150),Sr:function(e){if(e){var{git:t,dir:n}=e;$$("filesActionsContainer").showBatch(["search","add"]),$$("filesGitActionsContainer").showBatch(t?"git":"init"),t&&this.gitClient.xn(n).then(e=>{$$("filesCurrentBranchItem").setValue(i18nTag(RES_I18N.Objects.BranchWithName(e||"")))})}else $$("filesActionsContainer").showBatch(),$$("filesGitActionsContainer").showBatch()},Rr:function(e){var{dir:t,defaultLaunchFilePath:n}=this.session.Re(),i=this.Vt();return i.setFileDefaultFlag(e,!0),n&&i.setFileDefaultFlag(i.get(n),!1),this.model.Ve(t,{defaultLaunchFilePath:PathUtils.relativeTo(e.path,t)})},Tr:function(e,t){var n=this;n.prompt.V(RES_I18N.Actions.New(RES_I18N.Objects.File),"",{placeholders:RES_I18N.Placeholders.EnterNameOrPath,showInput:!0,onResult:function(i){return n.lr(i,e,t).then((function(e){return n.observable.run({action:"open",path:e})})).then(GA_SendEvent_Success("add_file","files"),GA_SendEvent_Failure("add_file","files"))},onValidate:n.zr.bind(n,!1,e.path)})},Oo:function(e,t){(e=e||this.Vt().root())&&this.Tr(e,t)},Fr:function(e){var t=this;t.prompt.V(RES_I18N.Actions.New(RES_I18N.Objects.Folder),"",{placeholders:RES_I18N.Placeholders.EnterNameOrPath,showInput:!0,onResult:function(n){return t.ur(n,e).then(GA_SendEvent_Success("add_folder","files"),GA_SendEvent_Failure("add_folder","files"))},onValidate:t.zr.bind(t,!1,e.path)})},jr:function(e){(e=e||this.Vt().root())&&this.Fr(e)},Pr:function(e){var t=this;t.prompt.V(RES_I18N.Actions.Rename(e.file?RES_I18N.Objects.File:RES_I18N.Objects.Folder),e.label,{placeholders:RES_I18N.Placeholders.EnterNameOrPath,showInput:!0,onResult:function(n){return t.dr(n,e).then(GA_SendEvent_Success("rename_file","files"),GA_SendEvent_Failure("rename_file","files"))},onValidate:t.zr.bind(t,!0,PathUtils.dirname(e.path))})},Or:function(e){var t=this,n=e.label;t.prompt.V(RES_I18N.Actions.Delete(e.file?RES_I18N.Objects.File:RES_I18N.Objects.Folder),"",{message:RES_I18N.Actions.Delete({en:`: ${n}?`,es:`: ${n}?`,ja:`「${n}」`,pt:`: ${n}?`,zh:`:「${n}」?`,zhTW:`:「$${n}」?`}),onResult:function(){return t.ar(e.path).then(GA_SendEvent_Success("delete_file","files"),GA_SendEvent_Failure("delete_file","files"))}})},Ur:function(e){var t=this.string.zt(PathUtils.basename(e));this.prompt.V(RES_I18N.Actions.Revert(RES_I18N.Objects.File),null,{message:{en:`Revert changes to: ${t}?`,es:`¿Descartar todos los cambios: ${t}?`,ja:`${t} へのすべての変更を破棄しますか？`,pt:`Descartar todas as mudanças: ${t}`,zh:`丢弃对 ${t} 的全部修改?`,zhTW:`要放棄所有對 ${t} 的更動嗎?`},onResult:this.or.bind(this,e)})},Nr:function(e){this.prompt.V({en:"REVERT ALL",es:"RESTITUIR TUDO",ja:"すべて元に戻す",pt:"REVERTER TUDO",zh:"全部还原",zhTW:"全部還原"},null,{message:{en:"Revert all changes back to the HEAD commit? Warning: changes will be permanently lost!",es:"¿Revertir todos los cambios a la confirmación HEAD? Advertencia: ¡los cambios se perderán permanentemente!",ja:"本当すべての変更を取り消して、HEADのリビジョンに戻りますか。変更を破棄して?",pt:"Reverter todas as alterações de volta para o commit HEAD? Aviso: as alterações serão perdidas permanentemente!",zh:"确定要复原中的所有变更并回到HEAD版本？警告：更改将永久丢失!",zhTW:"確定要復原中的所有變更並回到HEAD版本？警告：更改將永久丟失!"},okLabel:RES_I18N.Elements.Revert,onResult:this.Wa.bind(this,e)})},zr:function(e,t,n,i,o){if(0===n.length)i(RES_I18N.ErrorMessages.CannotBeEmpty);else{var a=this.path.St(n);if(a)i(RES_I18N.ErrorMessages.InvalidCharsFound(a));else{var r=PathUtils.join(t,n);!e&&this.Vt().get(r)?i(RES_I18N.ErrorMessages.ExistsFor(RES_I18N.Objects.Path)):(i(null),o&&o())}}},Br:function(){var e=$$("filesUndoIcon"),t=$$("filesRedoIcon");if(e){var n=this.historyTracker.getLastUndo();n?(e.enable(),e.setLabel(RES_I18N.Elements.Undo+": "+n.label)):e.disable()}if(t){var i=this.historyTracker.getLastRedo();i?(t.enable(),t.setLabel(RES_I18N.Elements.Redo+": "+i.label)):t.disable()}},Lr:function(e,t){var n=e&&e.path||"";return n.slice(n.indexOf("/")).toLowerCase().includes(t)},Gr:function(e){var t=this,n=t.fileQuery.searchPhrase.toLowerCase();if(n){var i=RegExp("("+t.string.Ft(n)+")","ig");return i.test(e.name)?(e.label=e.name.replace(i,'<span class="x-search-highlight">$&</span>'),t.cn().refreshItem(e)):e.label!==e.name&&(e.label=e.name,t.cn().refreshItem(e)),e.$branch?e.$children.some((function(e){return t.Lr(e,n)})):t.Lr(e,n)}return e.label!==e.name&&(e.label=e.name,t.cn().refreshItem(e)),!e.$parentClosed}}),m.module("files").require("fileTree").__init__((function(e,{fileTree:t}){var n={id:"filesBarContainer",flexSize:"none",flexLayout:"column",cls:"x-menu-title-bar shadow",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",attributes:i18nAttributes({en:"Files",es:"Archivos",ja:"ファイル",pt:"Arquivos",zh:"文件",zhTW:"檔案"}),on:{onToggled:function(e){var t=$$("filesScroller");e.visible?t.show():t.hide()}}},{id:"filesActionsContainer",cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{batch:"search",view:"menuToggle",cls:"x-menu-icon",icon:"search",title:"Search Files",on:{onToggled:function(){var e=$$("filesSearch");this.isSelected()?(e.show(),e.focus()):e.hide()}}},{id:"filesAddMenuIcon",view:"menuIcon",batch:"add",icon:"plus",title:"Add Files",dropdownOptions:{pos:"bottom-right",relativeTo:"filesBarContainer",dropdownAnimation:""},dropdown:{id:"filesAddMenuList",view:"list",listStyle:"dropdown",data:[{view:"link",value:"file",icon:"file",label:i18nTag(RES_I18N.Actions.New(RES_I18N.Objects.File))},{view:"link",value:"folder",icon:"folder",label:i18nTag(RES_I18N.Actions.New(RES_I18N.Objects.Folder))},r("filesUploadButton"),{$divider:!0},{id:"filesUndoIcon",view:"link",value:"undo",icon:"reply",label:RES_I18N.Elements.Undo,disabled:!0},{id:"filesRedoIcon",view:"link",value:"redo",icon:"forward",label:RES_I18N.Elements.Redo,disabled:!0}],on:{onOpen:function(){$$("filesUploadButton").reset(),e.Br()},onItemClick:function(t){if(e.session.Re())switch(t.value){case"file":e.Oo();break;case"folder":e.jr();break;case"undo":e.qa();break;case"redo":e.Ja()}}}}}]}]},{id:"filesSearch",cls:"x-menu-search",view:"searchField",batch:"search",hidden:!0,flexSize:"none",i18nPlaceholders:{en:"Enter Filename",es:"Ingrese Nombre",ja:"ファイル名を入力",pt:"Digite o Nome",zh:"输入文件名",zhTW:"輸入檔名"},clearSearch:!0,on:{onFocus:function(){e.u().$blockDrawerPan=!0,UI.addClass(this.el,"uk-focus")},onBlur:function(){e.u().$blockDrawerPan=!1,UI.removeClass(this.el,"uk-focus")},onInput:function(){e.fileQuery.searchPhrase=this.getValue(),e.cn().refresh()}}}]},i={id:"filesGitBarContainer",flexSize:"none",flexLayout:"column",cls:"x-menu-title-bar shadow collapsed",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",attributes:i18nAttributes({en:"SOURCE CONTROL",es:"CONTROL DE VERSIONES",ja:"ソース管理",pt:"CONTROLE DE VERSÃO",zh:"源代码控制",zhTW:"源代碼控制"}),visible:!1,on:{onToggled:function(e){var t=$$("filesGitScroller");e.visible?t.show():t.hide()}}},{id:"filesGitActionsContainer",cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{view:"menuIcon",batch:"init",icon:"plus",title:"Git Init",on:{onClick:function(){var t=e.session.je();t&&e.initRepo.wa(t)}}},{view:"menuIcon",batch:"git",icon:"git-fork",title:"Branches/Remotes",dropdownOptions:{pos:"bottom-right",relativeTo:"filesGitBarContainer",dropdownAnimation:""},dropdown:{id:"filesBranchesRemotesMenu",view:"list",listStyle:"dropdown",data:[{view:"link",value:"git:branches",icon:"git-branch",label:RES_I18N.Elements.Branches},{view:"link",value:"git:checkout",icon:"pull",label:RES_I18N.Elements.Checkout},{view:"link",value:"git:remotes",icon:"social",label:RES_I18N.Elements.Remotes},{view:"link",value:"git:fetch",icon:"download",label:i18nTag(RES_I18N.Objects.Fetch)},{view:"link",value:"git:log",icon:"list",label:RES_I18N.Elements.LogHistory}],on:{onItemClick:function(t){var n=e.session.je();if(n)switch(t.value){case"git:branches":e.gitBranches.ia(n);break;case"git:remotes":e.gitRemotes.Ua(n);break;case"git:fetch":e.gitRemotes.Ta(n);break;case"git:checkout":e.checkoutBranch.fa(n);break;case"git:log":e.gitLogger.ya(n)}}}}},{view:"menuIcon",batch:"git",icon:"git-branch",title:"Git Operations",dropdownOptions:{pos:"bottom-right",relativeTo:"filesGitBarContainer",dropdownAnimation:"",dropdownClass:["uk-dropdown-close","x-dropdown-large"]},dropdown:{view:"list",listStyle:"dropdown",data:[{id:"filesCurrentBranchItem",view:"label",cls:"uk-nav-header",label:i18nTag(RES_I18N.Objects.BranchWithName(""))},{id:"filesCommitAllMenuItem",view:"link",value:"git:commit",icon:"file-edit",label:RES_I18N.Elements.CommitAll},{view:"link",value:"git:pull",icon:"pull",label:i18nTag(RES_I18N.Objects.Pull)},{id:"filesPushMenuItem",view:"link",value:"git:push",icon:"push",label:i18nTag(RES_I18N.Objects.Push)},{id:"filesRevertAllMenuItem",view:"link",value:"git:revert",icon:"reply",label:RES_I18N.Elements.RevertAll}],on:{onOpen:function(){var t=e.session.je();if(t){var n=(e,t)=>t?`${e} <span class='x-menu-alt-text uk-text-primary'>${t}</span>`:e;e.gitClient._n(t).then(i=>{e.gitClient.ti(t,i).then(e=>{$$("filesPushMenuItem").setLabel(n(i18nTag(RES_I18N.Objects.Push),e))})});var i=e._r().data,o=i?i.length:0;$$("filesCommitAllMenuItem").setLabel(n(RES_I18N.Elements.CommitAll,o)),$$("filesRevertAllMenuItem").setLabel(n(RES_I18N.Elements.RevertAll,o))}},onItemClick:function(t){var n=e.session.je();if(n)switch(t.value){case"git:commit":return e.Da(n);case"git:revert":return e.Nr(n);case"git:pull":return e.Nn(n);case"git:push":return e.Xn(n)}}}}}]}]}]};e.dropdownMenu=UI.new({view:"dropdown",dropdownAnimation:"",dropdown:{id:"fileContextMenu",view:"list",data:[{id:"pasteItemContextButton",view:"link",value:"paste",icon:"move",label:RES_I18N.Elements.Paste,batch:"pastable"},{$divider:!0,batch:"pastable"},{id:"newFileContextButton",view:"link",value:"new",icon:"file",label:i18nTag(RES_I18N.Actions.New(RES_I18N.Objects.File)),batch:"folder"},{id:"newFolderContextButton",view:"link",value:"folder",icon:"folder",label:i18nTag(RES_I18N.Actions.New(RES_I18N.Objects.Folder)),batch:"folder"},r("uploadFileContextButton"),{$divider:!0,batch:"folder"},{id:"cutItemContextButton",view:"link",value:"cut",icon:"move",label:RES_I18N.Elements.Cut,batch:"cutable"},{id:"renameItemContextButton",view:"link",value:"rename",icon:"pencil",label:RES_I18N.Elements.Rename,batch:"renameable"},{id:"deleteItemContextButton",view:"link",value:"delete",icon:"trash",label:RES_I18N.Elements.Delete,batch:"editable"},{id:"shareItemContextButton",view:"link",value:"share",icon:"link",label:RES_I18N.Elements.ShareLink,batch:"file:edit"},{id:"exportItemContextButton",view:"link",value:"export",icon:"download",label:RES_I18N.Elements.Export,batch:"exportable"},{$divider:!0,batch:"git:divider"},{view:"link",value:"diff",icon:"code",label:i18nTag(RES_I18N.Actions.View(RES_I18N.Objects.Diff)),batch:"git:changed"},{view:"link",value:"resolve-conflict",icon:"check",label:RES_I18N.Elements.MarkResolved,batch:"git:conflict"},{view:"link",value:"revert",icon:"refresh",label:RES_I18N.Elements.Revert,batch:"git:changed"},{$divider:!0,batch:"file"},{view:"link",value:"edit",icon:"file-edit",label:RES_I18N.Elements.Edit,batch:"file:edit"},{view:"link",value:"preview",icon:"forward",label:i18nTag(RES_I18N.Objects.Preview),batch:"file:preview"},{id:"setAsDefaultItemContextButton",view:"link",value:"default",icon:"star",label:"Launch Default",batch:"file:default"}],on:{onOpen:function(t,n,i){var o=["renameable"];if(this.masterConfig=i,i.root||(o.push("editable"),o.push("cutable")),i.file){var a=PathUtils.ext(i.path||""),r=e.editor.Ai(a),s=e.viewer.Ai(a),l=!1;o.push("file"),i.status&GitStatusTypes.CHANGED&&(e.path._t(i.path)||(o.push("git:changed"),l=!0)),i.status&GitStatusTypes.CONFLICT&&(o.push("git:conflict"),l=!0),l&&o.push("git:divider"),i.isDefaultLaunchFile||".html"!=a||o.push("file:default"),!r&&s||o.push("file:edit"),s&&o.push("file:preview")}else{if(this.source){var c=this.source.path,u=i.path;c===u||u.startsWith(c)||o.push("pastable")}o.push("folder")}o.push("exportable"),this.showBatch(o),$$("uploadFileContextButton").reset()},onClose:function(){this.masterConfig=null},onItemClick:function(t){var n=t.value,i=this.masterConfig,o=i&&i.path;switch(n){case"cut":this.source=i,GA_SendEvent("cut_file","files");break;case"paste":var a=this.source&&this.source.path;e.Vt().get(a)&&(a===o||o.startsWith(a)||(e.mr(a,o),i.$branch&&i.$closed&&e.cn().open(i))),this.source=null,GA_SendEvent("paste_file","files");break;case"edit":e.observable.run({action:"open",path:o});break;case"share":e.share.ot(o);break;case"export":i.file?e.zipper.wt(o):e.zipper.nt(o);break;case"preview":e.observable.run({action:"open",path:o,preview:!0});break;case"folder":e.jr(i);break;case"new":e.Oo(i);break;case"rename":i.root?e.Ba(o):e.Pr(i);break;case"delete":e.Or(i);break;case"diff":e.diff.bn(o);break;case"revert":e.Ur(o);break;case"resolve-conflict":e.ir(o);break;case"default":e.Rr(i)}}}}},document.body);var o={id:"filesContainer",batch:"projects",flex:!1,flexLayout:"",flexSize:"",fill:"height",cells:[{id:"filesTree",view:"fileTree",batch:"list",flexSize:"flex",dataTransfer:"path",data:[],filter:e.Gr.bind(e),allowDrag:!0,context:!0,draggable:function(){return!UI.support.touch},droppable:function(e){return!e.file},on:{onAdd:function(e){e.$closed=e.$branch&&e.$depth>0},onItemContext:function(t,n,i){i&&UI.preventEvent(i),e.dropdownMenu.open(t),e.dropdownMenu.position(i.clientY+2,i.clientX),e.dropdownMenu.moveWithinBoundary()},onItemDragStart:function(){e.u().$blockDrawerPan=!0},onItemDragEnd:function(){e.u().$blockDrawerPan=!1},onItemDrop:function(t,n){e.mr(n.path,t.path),t.$branch&&t.$closed&&e.cn().open(t)},onItemClick:function(t,n,i){UI.preventEvent(i),e.$r(),"I"==i.target.tagName&&UI.hasClass(i.target,"menu")?(e.dropdownMenu.open(t),e.dropdownMenu.positionNextTo(n,"bottom-right",this.config.dropdownMarginX,this.config.dropdownMarginY),e.dropdownMenu.moveWithinBoundary(),this.toggle(t)):t.$branch||e.observable.run({action:"open",path:t.path})}}},{batch:"list",view:"spacer",height:128}],on:{onInitialized:function(){this.showBatch()}}},a={id:"filesGitList",view:"list",cls:"x-file-git-list",listStyle:"side",itemTagClass:"uk-flex",template:function({status:n,path:i}){var o=e.session.je(),a=t.Bt(n),r=PathUtils.basename(i),s=PathUtils.dirname(PathUtils.relativeTo(i,o));return`<div class='uk-flex-item-1'>${`<span class='x-git-list-name x-text-overflow-ellipsis ${a}'>${r}</span>`}${"."!==s?`<span class='x-git-ignored x-git-list-dir x-text-overflow-ellipsis'>${s}</span>`:""}</div><div class='x-menu-icons'><i title='Revert' class='uk-icon-refresh revert'></i></div>`},on:{onItemClick:function({path:t},n,i){UI.preventEvent(i),"I"==i.target.tagName?UI.hasClass(i.target,"revert")&&e.Ur(t):e.diff.bn(t)}}};function r(t){return{id:t,view:"link",uploader:"multiple",value:"upload",batch:"folder",icon:"upload",label:i18nTag(RES_I18N.Actions.Upload(RES_I18N.Objects.File)),reset:function(){this._uploader.value=""},on:{onClick:function(t,n,i){this.reset(),this.parentConfig=e.contextMenu().masterConfig,e.session.je()||UI.preventEvent(i)},onFileChange:function(t,n){var i=e.session.je();if(i){var o=this.parentConfig?this.parentConfig.path:i;e.wr(o,n.files),GA_SendEvent("upload_files","files")}}}}}e.view=UI.new({batch:"files",fill:"height",flexLayout:"column",cls:"x-max-width-100",cells:[n,{id:"filesScroller",view:"scroller",flexSize:"flex",cells:[o],on:{onScroll:function(){e.$r()}}},i,{id:"filesGitScroller",view:"scroller",hidden:!0,flexSize:"flex",cells:[a],on:{onScroll:function(){e.$r()}}}]})})),m.module("library").require("path","model","session","dom","set").__init__((function(e,{path:t,model:n,session:i,dom:o,set:a}){Object.assign(e,{path:t,model:n,session:i,dom:o,set:a,urls:{}})})).def({Mr:function(e){var t=this;return e.filter((function(e){return t.path.At(e)})).map((function(e){return t.path.Et(e)}))},Dr:function(){var e=this;return Object.keys(e.urls).reduce((function(t,n){var i=e.urls[n],o=e.set.Tt(t,i);return o.length?t.concat(o):t}),[])}}),m.module("projects").def({Wr:UIkit2.Utils.debounce((function(){this.G()}),100,!1),G:function(){var e=this;return e.model.He().then((function(t){t.sort((e,t)=>t.modifiedAt-e.modifiedAt),e.container().showBatch(t.length>0?"list":"empty"),e.Wi().setData(t),e.Vr()}))}}),m.module("projects").require("prompt","project","messages","session","date","path","zipper","cloneRepo","addGitAuth","checkoutBranch","gitClient","model","landing","string","files").__init__((function(e,{prompt:t,project:n,messages:i,session:o,date:a,addGitAuth:r,path:s,cloneRepo:l,zipper:c,main:u,checkoutBranch:h,gitClient:d,model:p,landing:f,string:m,files:v}){Object.assign(e,{prompt:t,project:n,messages:i,session:o,date:a,addGitAuth:r,path:s,cloneRepo:l,zipper:c,main:u,checkoutBranch:h,gitClient:d,model:p,landing:f,string:m,files:v,observable:new ObservableClass}),o.observable.subscribe(({action:t})=>{"open"!==t&&"close"!==t||e.Vr()}),p.observable.subscribe(({type:t})=>{"project"!==t&&"projects"!==t||e.Wr()})})).def({Vr:function(){var e=this.Wi();e.refresh(),e.deselectAll();var t=e.findOne("dir",this.session.je());t&&e.select(t)},Hr:function(){return $$("projectsSearch")},container:function(){return $$("projectsContainer")},Wi:function(){return $$("projectsList")},qr:function(){this.projectMenu.close()},Kr:function(e){var t=this,n=String(Math.random()).slice(2,5),i=t.string.zt(PathUtils.basename(e));t.prompt.V(RES_I18N.Actions.Delete(RES_I18N.Objects.Project),"",{message:{en:`Type '${n}' to confirm. '${i}' will be permanently deleted. It can NOT be recovered!`,es:`Escriba '${n}' para confirmar. '${i}' se borrará permanentemente. ¡No se podrá recuperar!`,ja:`「${n}」と入力して確認します。「${i}」 は完全に削除されます。削除後は取り消す事はできません！`,pt:`Digite '${n}' para confirmar. '${i}' será excluído permanentemente.`,zh:`输入「${n}」 进行确认。「${i}」将被永久删除。这个操作不能恢复！`,zhTW:`輸入「${n}」 進行確認。「${i}」會被永久刪除而「無法還原」！`},showInput:!0,onValidate:function(e,t,n){t(null),n&&n()},onResult:function(o){if(o!==n)return t.prompt.Wt(`What you typed did not match '${n}'.`),!0;t.model.F(e).then((function(){t.messages.gt("deleteProjectMessage",{name:i})}))}})}}),m.module("projects").__new__((function(e){var t={cls:"x-menu-title-bar shadow",id:"projectsBarContainer",flexSize:"none",flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",attributes:i18nAttributes({en:"PROJECTS",es:"PROYECTO",ja:"プロジェクト",pt:"PROJETOS",zh:"项目",zhTW:"專案"}),collapsable:!1,on:{onToggled:function(e){var t=$$("projectsScroller");e.visible?t.show():t.hide()}}},{id:"projectsActionsContainer",cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"projectsSearchButton",cls:"x-menu-icon",view:"menuToggle",icon:"search",title:"Search Projects",on:{onToggled:function(){var t=e.Hr();this.isSelected()?(t.show(),t.focus()):t.hide()}}},{id:"projectsGitButton",view:"menuIcon",icon:"git-fork",title:"Git Clone",dropdownOptions:{pos:"bottom-right",relativeTo:"projectsBarContainer",dropdownAnimation:""},dropdown:{id:"projectsGitListMenu",view:"list",listStyle:"dropdown",data:[{view:"link",value:"git:clone",icon:"git-fork",label:RES_I18N.Elements.CloneRepo},{view:"link",value:"git:auth",icon:"lock",label:RES_I18N.Elements.GitCredentials}],on:{onItemClick:function(t){switch(t.value){case"git:auth":e.addGitAuth.aa();break;case"git:clone":e.cloneRepo.va()}}}}},{id:"projectsAddButton",view:"menuIcon",icon:"plus",title:"Add Project",dropdownOptions:{pos:"bottom-right",relativeTo:"projectsBarContainer",dropdownAnimation:""},dropdown:{id:"projectsAddListMenu",view:"list",listStyle:"dropdown",data:[{view:"link",value:"new",icon:"album",label:i18nTag(RES_I18N.Actions.New(RES_I18N.Objects.Project))},{id:"projectsImportZipButton",view:"link",value:"import:zip",icon:"upload",label:i18nTag(RES_I18N.Actions.Import(RES_I18N.Objects.Echo("ZIP"))),uploader:!0,on:{onClick:function(){this._uploader.value=""},onFileChange:function(t,n){var i=n.files[0];i&&m.modules.files.yr(i).then(({name:t,data:n})=>e.project.Lo(t,n),t=>e.prompt.gt(RES_I18N.ErrorMessages.DecodeError,t))}}},{$divider:!0},{view:"link",value:"update",icon:"comments",label:i18nTag({en:"Change Log",es:"Registro de Cambios",ja:"変更ログ",pt:"Histórico de Mudanças",zh:"改动日志",zhTW:"變更日誌"})},{view:"link",value:"lab",icon:"thumbnails",label:i18nTag(RES_I18N.Actions.View(RES_I18N.Objects.Labs))}],on:{onItemClick:function(t){switch(t.value){case"new":e.project.modal.open();break;case"update":e.main.lo().showLanding(),e.landing.Di().switchToTab("update");break;case"lab":e.main.lo().showLanding(),e.landing.Di().switchToTab("lab")}}}}}]}]},{id:"projectsSearch",cls:"x-menu-search",view:"searchField",hidden:!0,flexSize:"flex",i18nPlaceholders:{en:"Enter Project Name",es:"Ingrese el Nombre del Proyecto",ja:"プロジェクト名を入力",pt:"Digite o Nome do Projeto",zh:"输入项目名称",zhTW:"输入專案名称"},clearSearch:!0,on:{onFocus:function(){e.observable.run({action:"blockDrawer",block:!0}),UI.addClass(this.el,"uk-focus")},onBlur:function(){e.observable.run({action:"blockDrawer",block:!1}),UI.removeClass(this.el,"uk-focus")},onInput:function(){e.projectQuery.searchPhrase=this.getValue(),e.Wi().refresh()}}}]};e.projectMenu=UI.new({view:"dropdown",dropdown:{view:"list",listStyle:"dropdown",data:[{view:"link",value:"download",icon:"download",label:i18nTag(RES_I18N.Actions.Export(RES_I18N.Objects.Echo("ZIP")))},{view:"link",value:"rename",icon:"pencil",label:RES_I18N.Elements.Rename},{view:"link",value:"delete",icon:"trash",label:RES_I18N.Elements.Delete}],on:{onItemClick:function(t){var n=this.project&&this.project.dir;if(n)switch(t.value){case"download":e.zipper.nt(n);break;case"rename":e.files.Ba(n);break;case"delete":e.Kr(n)}},onOpened:function(e,t,n){this.project=n}}}},document.body);var n={id:"projectsContainer",fill:"height",batch:"projects",flex:!1,flexLayout:"",flexSize:"",cells:[{id:"projectsList",view:"list",batch:"list",flexSize:"flex",listStyle:"side",filter:function(t){var n=e.projectQuery.searchPhrase.toLowerCase(),i=PathUtils.basename(t.dir).replace(/«[^»]*»/g,""),o=!0;if(n)if(o=i.toLowerCase().includes(n)){var a=RegExp("("+e.string.Ft(n)+")","ig");t.label=i.replace(a,'<span class="x-search-highlight">$&</span>'),t.$dirty=!0}else t.$dirty=i!==t.label,t.label=i;else t.$dirty=t.label!==i,t.label=i;t.$dirty&&(this.refreshItem(t),t.$dirty=!1);return o},template:function(t){var{dir:n,modifiedAt:i,git:o,label:a}=t,r=`${o?"GIT ":""}${PathUtils.isIDB(n)?"IDB":""}`,s=e.date.xt.bind(e.date);return{cls:"x-list-item",template:{cls:"x-list-item-meta",flexAlign:"middle",cells:[{view:"image",htmlTag:"SVG",margin:"right-sm",width:40,height:40,on:{onInitialized:function(){jdenticon.update(this.el,n)}}},{flex:!1,flexSize:"flex",style:{minWidth:0},cells:[{view:"label",flex:!0,htmlTag:"DIV",label:`<span class='x-text-overflow-ellipsis'>${a}</span>`+(r?`<small class='uk-text-muted uk-margin-small-left'>${r}</span>`:"")},{view:"label",text:"small",htmlTag:"DIV",attributes:i18nAttributes({en:"Modified "+s(i),es:"Modificado "+s(i),ja:"修正済み"+s(i,"ja"),pt:"Modificado "+s(i,"pt"),zh:"修改于"+s(i,"zh"),zhTW:"修改"+s(i,"zhTW")})}]},{view:"menuIcon",tagClass:"",icon:"more-vertical",on:{onClick:function(n,i,o){o&&UI.preventEvent(o),e.projectMenu.open(t),e.projectMenu.positionNextTo(this.el,"bottom-right"),e.projectMenu.moveWithinBoundary()}}}]}}},on:{onItemClick:function({dir:t}){return e.session.D(t)}}},{batch:"empty",textAlign:"center",flexLayout:"column",flexAlign:["center","middle"],cells:[{view:"label",cls:"uk-h5",padding:"large",label:"No projects found.",style:{height:"160px",opacity:.5}}]},{batch:"list",view:"spacer",height:128}]};e.view=UI.new({batch:"projects",fill:"height",cls:"x-max-width-100",flexLayout:"column",cells:[t,{id:"projectsScroller",view:"scroller",flexSize:"flex",cells:[n],on:{onScroll:function(){e.qr()}}}]}),e.projectQuery={searchPhrase:""}})),m.module("search").require("prompt","path","session","editor","messages","string","searchSettings").__init__((e,{path:t,prompt:n,session:i,editor:o,messages:a,string:r,searchSettings:s})=>{Object.assign(e,{path:t,prompt:n,session:i,editor:o,messages:a,string:r,searchSettings:s,observable:new ObservableClass}),e.entityMap={"&":"&amp","<":"&lt",">":"&gt",'"':"&quot","'":"&#39","/":"&#x2F","`":"&#x60","=":"&#x3D"},e.session.observable.subscribe(({action:t})=>{"open"===t&&e.so()}),e.searchSettings.observable.subscribe(({action:t})=>{switch(t){case"updateSettings":e.co()}}),e.so()}).def({Qr:function(){return 500},so:function(){this.searchResults=[],this.searchTerm=null,this.running=!1,this.cn()&&(this.cn().setData([]),this.container().clearResults(),this.replaceInput().setValue(""),this.findInput().setValue(""))},u:function(){return $$("menuContainer")},statusLabel:function(){return $$("searchStatusLabel")},findInput:function(){return $$("searchFindInput")},replaceInput:function(){return $$("searchReplaceInput")},cn:function(){return $$("searchTree")},container:function(){return $$("searchContainer")},progress:function(){return $$("searchProgress")},isMatchCaseOn:function(){return $$("searchCaseSensitiveIcon").isSelected()},isMatchWholeWordOn:function(){return $$("searchWholeWordIcon").isSelected()},isRegExOn:function(){return $$("searchRegExIcon").isSelected()},clearAll:function(){this.cn().clearAll()},Zr:function(e,t,n,i){return e=t?e:this.string.Ft(e),e=i?"\\b"+e+"\\b":e,new RegExp(e,n?"gm":"igm")},Yr:function(){var e=this.searchResults||[];return this.running?(this.messages.gt("searchBusyError"),!1):0!==e.length},Jr:function(e){var t=this,n=t.searchResults;if(t.Yr()){for(var i,o,a={},r=0;r<n.length;r++)o=n[r],i=a[o.path]||[],a[o.path]=i,i.push({range:{start:o.start,end:o.end},text:e});return t.running=!0,PromisePool({data:Object.keys(a),promiseGenerator:function(e){return t.editor.mi({changes:a[e],path:e})},useRaf:!0}).then(()=>(t.running=!1,t.co()),e=>(t.running=!1,Promise.reject(e))).then(GA_SendEvent_Success("search_replace","search"),GA_SendEvent_Failure("search_replace","search"))}},Xr:function(){var e=this;if(e.Yr()){var t=e.string.zt(e.replaceInput().getValue()||""),n=e.string.zt(e.searchTerm||"");e.prompt.V(RES_I18N.Elements.ReplaceAll,null,{message:{en:`Replace all occurrences of 「${n}」 with 「${t}」?`,es:`Reemplaza todas las ocurrencias 「${n}」 con 「${t}」?`,ja:`すべての「${n}」を「${t}」に置き換えますか？`,pt:`Substituir todas as ocorrências 「${n}」 com 「${t}」?`,zh:`替换「${e.searchTerm}」为「${t}」?`,zhTW:`取代「${e.searchTerm}」為「${t}」?`},onResult:function(){e.Jr(e.replaceInput().getValue())},type:"confirm"})}},ts:function(){var e=this,t=e.cn(),n=e.searchResults,i={};if(0!==n.length){var o=(n=n.filter((function(n){var o=n.path;if(i[o]=1,t.getItem(o)||t.add({$branch:!0,file:!0,id:o,path:o,cls:"x-search-branch",label:PathUtils.basename(o)}),n.nodeId){var a=t.getItem(n.nodeId);t.updateItem(a,{label:e.ns(n.line,n.match,n.start.row),row:n.start.row,column:n.start.column})}else n.nodeId=t.add({$branch:!1,$parent:o,search:!0,cls:"x-search-item",label:e.ns(n.line,n.match,n.start.row),path:n.path,row:n.start.row,column:n.start.column,file:n.file});return!0}))).length,a=Object.keys(i).length;UI.setAttributes(e.statusLabel().element,i18nAttributes({en:`${o} results in ${a} files`,es:`${o} resultados en ${a} archivos`,ja:`${o}は${a}つのファイルになります`,pt:`${o} resultados em ${a} arquivos`,zh:`${o}文件中有${a}个结果`,zhTW:`${o}文件中有${a}個結果`}))}else e.container().displayNoResults()},os:function(e,t,n,i,o){for(var a,r=[],s=0;s<o&&(a=t.exec(e));s++){var l=this.as(e,a.index,a[0].length,i);r.push({start:this.rs(e,a.index),end:this.rs(e,t.lastIndex),range:l,line:e.slice(l.start,l.end),match:{start:a.index-l.start,end:t.lastIndex-l.start},path:n})}return r},co:function(){var e=this,t=e.findInput().getValue(),n=e.isMatchWholeWordOn(),i=e.isMatchCaseOn(),o=e.isRegExOn();if("string"!=typeof t||0===t.length)return Promise.reject("Invalid search pattern.");var a=e.Zr(t,o,i,n),r=e.session.je(),s=e.Qr(),l=e.searchSettings.un();if(!r)return Promise.reject("No current project.");e.searchTerm=t;var c=e.searchResults=[],u=e.progress();return e.cn().clearAll(),UI.setAttributes(e.statusLabel().element,i18nAttributes({en:"Searching…",es:"Buscando…",ja:"検索中…",pt:"A procurar…",zh:"搜索…",zhTW:"搜尋中…"})),u.setValue(0),u.reveal(),GFS.readdirDeep(r).then(t=>{var n=(t=t.filter(t=>!e.path.Te(t)&&!e.path._t(t)&&(!l||l.includes(t)))).length,i=0,o=0;return PromisePool({data:t,promiseGenerator:t=>c!==e.searchResults?($LOG.log("Search aborted."),Promise.reject("Search aborted.")):((o=++i/n*100)-u.getValue()>5&&u.setValue(o),GFS.readFile(t,{encoding:"utf8"}).then(n=>{var i=e.os(n,a,t,32,s);return c.push.apply(c,i),c.length>=s?(c.length=s,$LOG.log("[search] Max results reached."),Promise.reject("Exceeded max number of results.")):c!==e.searchResults?($LOG.log("Search aborted."),Promise.reject("Search aborted.")):void(i.length&&e.ts())})),maxConcurrency:1,retryAttempts:0,useRaf:!0})}).then(GA_SendEvent_Success("search_find_display","search"),GA_SendEvent_Failure("search_find_display","search")).then((function(){e.ss(),e.ts()}),(function(t){return e.ss(),e.ts(),Promise.reject(t)}))},ss:function(){var e=this.progress();e.setValue(100),setTimeout((function(){e.conceal(),e.setValue(0)}),500)},as:function(e,t,n,i){i=(i=i||1e4)>n?i-n:0;var o=t+n,a=e.slice(Math.max(t-i,0),t),r=e.slice(o,o+i);return a=(a=a.split(/[\n\r]/).pop()).replace(/^\s+/,""),r=(r=r.split(/[\n\r]/).shift()).replace(/\s+$/,""),a.length+r.length>i&&(a=a.slice(Math.max(0,a.length-Math.floor(i/2))),r=r.slice(0,i-a.length)),{start:t-a.length,end:o+r.length}},rs:function(e,t){var n=(e=e.slice(0,t)).split(/\r\n|\r|\n/g);return{row:n.length-1,column:n.pop().length}},ns:function(e,t,n){var i=this,o=t?t.start:-1,a=t?t.end:-1;return`<small class='x-search-item-row uk-text-muted'>${n+1}</small>`+e.split("").map((e,t)=>{var n=i.entityMap[e]||e;return t===o&&(n='<span class="x-search-highlight">'+n),t===a-1&&(n+="</span>"),n}).join("")}}),m.module("search").require("fileTree").__init__((function(e){var t=UI.new({id:"searchBarContainer",flexSize:"none",flexLayout:"column",cells:[{cls:"x-menu-title-bar",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:RES_I18N.Elements.Find,on:{onToggled:function(e){var t=$$("searchFindInput");e.visible?(t.show(),t.focus()):t.hide()}}},{cls:"x-menu-icons",flexSize:"none",cells:[{id:"searchSettingsIcon",view:"menuIcon",icon:"list",title:"Filter Files",on:{onClick:function(){e.searchSettings.modal.open()}}}]}]},{id:"searchFindInput",cls:"x-menu-search",view:"searchField",i18nPlaceholders:{en:"Find Text",es:"Buscar Texto",ja:"検索キーワード",pt:"Pesquisar Texto",zh:"搜索关键词",zhTW:"搜索關鍵詞"},clearSearch:!0,searchOptions:[{id:"searchRegExIcon",view:"menuToggle",outline:!0,cls:"ace_icon regex",title:"Use RegEx"},{id:"searchCaseSensitiveIcon",view:"menuToggle",outline:!0,cls:"ace_icon case-sensitive",title:"Match Case"},{id:"searchWholeWordIcon",view:"menuToggle",outline:!0,cls:"ace_icon whole-word",title:"Match Whole Word"}],updateSearch:function(){return e.co()},on:{onKeyUp:function(e,t,n){"Enter"===n.key&&this.updateSearch()},onFocus:function(){e.observable.run({action:"blockDrawer",block:!0})},onBlur:function(){e.observable.run({action:"blockDrawer",block:!1})}}},{cls:"x-menu-title-bar",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:RES_I18N.Elements.Replace,visible:!1,on:{onToggled:function(e){var t=$$("searchReplaceInput");e.visible?(t.show(),t.focus()):t.hide()}}}]},{id:"searchReplaceInput",view:"searchField",cls:"x-menu-search",hidden:!0,i18nPlaceholders:{en:"Replace Text",es:"Reemplazar Texto",ja:"代替テキスト",pt:"Substituir Texto",zh:"替换文字",zhTW:"替換文字"},clearSearch:!0,on:{onKeyUp:function(t,n,i){"Enter"===i.key&&e.Xr()},onFocus:function(){e.u().$blockDrawerPan=!0},onBlur:function(){e.u().$blockDrawerPan=!1}}},{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:RES_I18N.Elements.FindResults,on:{onToggled:function(e){var t=$$("searchContainer");e.visible?t.show():t.hide()}}},{flexSize:"none",cells:[{id:"searchStatusLabel",view:"label",label:"",htmlTag:"SMALL",margin:"x"}]}]},{id:"searchProgress",view:"progress",size:"mini",color:"primary"}]}),n={id:"searchContainer",batch:"search",fill:"height",flexLayout:"column",cells:[{id:"searchTree",view:"fileTree",batch:"list",flexSize:"flex",allowDrag:!1,indentWidth:8,data:[],draggable:function(){return!1},orderAfter:function(e,t){var n=e.$parent==t.id,i=e.$depth<t.$depth,o=e.$parent==t.$parent;return n||i||o&&(e.$branch<t.$branch||e.row>t.row&&!e.$branch&&!t.$branch||e.label.toLowerCase()>t.label.toLowerCase()&&e.$branch&&t.branch)},on:{onAdded:function(){this.$count>1&&e.container().showBatch(["list"])},onItemClick:function(t){t.search&&e.observable.run({action:"jumpToFile",path:t.path,item:t})}}},{batch:"empty",textAlign:"center",fill:"height",flexLayout:"column",flexAlign:["center","middle"],cells:[{id:"searchEmptyMessage",cls:"uk-h5",view:"label",padding:"large",attributes:i18nAttributes({en:"Find & Replace in Files",es:"Buscar y Reemplazar en Archivos",ja:"複数のファイルから検索",pt:"Localizar e Substituir em Ficheiros",zh:"在多个文件中查找…",zhTW:"多重檔案尋找"}),style:{height:"160px",opacity:.5}}]},{batch:"list",view:"spacer",height:256}],clearResults:function(){e.statusLabel().setValue("&nbsp"),this.showBatch(["empty"])},displayNoResults:function(){e.statusLabel().setValue("0 results")}};e.view=UI.new({batch:"search",fill:"screen",cls:"x-max-width-100",flexLayout:"column",cells:[t,{id:"searchScroller",view:"scroller",flexSize:"flex",cells:[n]}]})})),m.module("settings").__init__((function(e){e.supportAnimation=UIkit2.support.animation,e.supportTransition=UIkit2.support.transition})).def({ls:function(e){e?(UI.removeClass(document.body,"no-animation"),UIkit2.support.animation=this.supportAnimation,UIkit2.support.transition=this.supportTransition):(UI.addClass(document.body,"no-animation"),UIkit2.support.animation=!1,UIkit2.support.transition=!1)}}),m.module("settings").require("editor","session","preview","addGitAuth","vibrate","path").__init__((function(e,{editor:t,session:n,preview:i,addGitAuth:o,vibrate:a,path:r}){Object.assign(e,{editor:t,session:n,preview:i,addGitAuth:o,vibrate:a,path:r,darkThemes:["monokai","ayu-mirage","dracula"]})})).def({editorForm:function(){return $$("settingsEditorForm")},appearanceForm:function(){return $$("settingsAppearanceForm")},previewForm:function(){return $$("settingsPreviewForm")},touchForm:function(){return $$("settingsTouchForm")},cs:function(){var e={};return UI.extend(e,this.editorForm().getValues()),UI.extend(e,this.appearanceForm().getValues()),UI.extend(e,this.previewForm().getValues()),UI.extend(e,this.touchForm().getValues()),e.dark=this.darkThemes.includes(e.appearanceTheme),e},B:function(){return ENV.settingsConfigPathAsync().then(e=>GFS.write(e,JSON.stringify(this.cs())))},us:function(){var e=this.cs();return ENV.settingsConfigPathAsync().then(t=>GFS.readFile(t,{encoding:"utf8"}).then(e=>JSON.parse(e),()=>({})).then(t=>(UI.extend(e,t),e)))},A:function(e){-1!==this.darkThemes.indexOf(e)?UI.addClass(document.documentElement,"dark"):UI.removeClass(document.documentElement,"dark"),this.editor.$i(e)},O:function(e){this.editor.Pi(e)},U:function(e){this.editor.Ni(e)},N:function(e){this.editor.Ui(e)},hs:function(e){ENV.locale=e;var t=e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();document.documentElement.setAttribute("lang",t),Object.keys(UI.components).map(e=>UI.components[e]).filter(e=>e.i18nPlaceholders).forEach(t=>{var n=t.config.i18nPlaceholders;t.set("placeholder",n[e]||n.en||"")})},L:function(){var e=this;return e.us().then(t=>{e.ds(t),e.ps(t),e.fs(t),e.ms(t)})},ps:function(e){this.appearanceForm().setValues(e),this.ls(e.appearanceAnimations),e.appearanceTheme&&this.A(e.appearanceTheme),e.appearanceLanguage&&this.hs(e.appearanceLanguage)},ds:function(e){var t=this.editorForm();t.setValues(e),t.getFieldset().$components.forEach((function(t){m.isDefined(e[t.name])&&t.dispatch("onChange")}))},fs:function(e){this.previewForm().setValues(e),this.preview.Bo(e.previewUseLiveMode)},ms:function(e){this.touchForm().setValues(e),this.touchForm().getFieldset().$components.forEach((function(t){m.isDefined(e[t.name])&&t.dispatch("onChange")}))}}),m.module("settings").__new__((function(e){e.deviceTouchSupport=UI.support.touch})).__init__((function(e,{logger:t,addGitAuth:n,cookieBanner:i,editor:o}){var a={id:"settingsEditorForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabelAttributes:i18nAttributes({en:"Autocomplete",es:"Autocompletar",ja:"自動補完",pt:"Autocompletar",zh:"自动补全",zhTW:"自動補全"}),view:"toggle",name:"editorAutocomplete",checked:!0,on:{onChange:function(t,n,i){var a=this.getValue();o.Ri(a),i&&(e.B(),GA_SendEvent("change_autocomplete","settings"))}}},{formLabelAttributes:i18nAttributes({en:"Check Syntax",es:"Verificar Sintaxis",ja:"構文を確認する",pt:"Verificar Sintaxe",zh:"检查语法",zhTW:"檢查語法"}),view:"toggle",name:"editorUseAceWorkers",checked:!0,on:{onChange:function(t,n,i){var a=this.getValue();o._i(a),i&&(e.B(),GA_SendEvent("change_check_syntax","settings"))}}},{formLabelAttributes:i18nAttributes({en:"Font Size",es:"Tamaño de Fuente",ja:"フォントサイズ",pt:"Tamanho da Fonte",zh:"字号",zhTW:"字型"}),view:"select",name:"editorFontSize",data:[{value:"10px",label:"10px"},{value:"11px",label:"11px"},{value:"12px",label:"12px"},{value:"13px",label:"13px"},{value:"14px",label:"14px"},{value:"15px",label:"15px"},{value:"16px",label:"16px"}],on:{onInitialized:function(){this.setValue(window.innerWidth<=480?"12px":"14px")},onChange:function(t,n,i){e.O(this.getValue()),i&&(e.B(),GA_SendEvent("change_font_size","settings"))}}},{formLabelAttributes:i18nAttributes({en:"Indent Guide",es:"Guías de Sangría",ja:"インデントガイド",pt:"Guia de Indentação",zh:"缩进对齐线",zhTW:"縮排對齊線"}),view:"toggle",name:"editorIndentGuides",checked:!0,on:{onChange:function(t,n,i){o.Oi(this.getValue()),i&&e.B()}}},{formLabelAttributes:i18nAttributes({en:"Line Numbers",es:"Números de Línea",ja:"行番号を表示",pt:"Números de Linha",zh:"显示行号",zhTW:"顯示行號"}),view:"toggle",name:"editorLineNumbers",checked:!0,on:{onChange:function(t,n,i){e.N(this.getValue()),i&&e.B()}}},{formLabelAttributes:i18nAttributes({en:"Tab Size",es:"Tamaño de Tab",ja:"タブ幅",pt:"Tamanho do Tab",zh:"Tab 长度",zhTW:"Tab 長度"}),view:"select",name:"editorTabSize",data:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"8",label:"8"}],on:{onInitialized:function(){this.setValue("2")},onChange:function(t,n,i){e.U(this.getValue()),i&&(e.B(),GA_SendEvent("change_tab_size","settings"))}}},{formLabelAttributes:i18nAttributes({en:"Word Wrap",es:"Ajuste de Línea",ja:"自動折り返し",pt:"Quebra de Linha",zh:"自动换行",zhTW:"自動換行"}),view:"toggle",name:"editorWordWrap",checked:!0,on:{onChange:function(t,n,i){var a=this.getValue();o.Ti(a),i&&(e.B(),GA_SendEvent("change_word_wrap","settings"))}}}]},r={id:"settingsMobileForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabelAttributes:i18nAttributes({en:"Orientation",es:"Orientación",ja:"デバイスの向き",pt:"Orientação",zh:"方向",zhTW:"設備方向"}),view:"select",name:"touchOrientation",data:[{value:"portrait",label:"Portrait"},{value:"landscape",label:"Landscape"}],on:{onInitialized:function(){AndroidRef&&AndroidRef.getOrientation&&this.setValue(AndroidRef.getOrientation())},onChange:function(e,t,n){if(AndroidRef&&AndroidRef.setOrientation){var i=this.getValue();AndroidRef.setOrientation(i),n&&GA_SendEvent("change_orientation","settings")}}}}]},s={id:"settingsTouchForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabelAttributes:i18nAttributes({en:"Touch Features",es:"Funciones Táctiles",ja:"タッチ機能",pt:"Recursos de Toque",zh:"触控功能",zhTW:"觸控功能"}),view:"toggle",name:"touchFeatures",checked:e.deviceTouchSupport,on:{onChange:function(t,n,i){var o=document.documentElement;this.getValue()?e.deviceTouchSupport&&(UI.support.touch=!0,UI.removeClass(o,"uk-notouch"),UI.addClass(o,"uk-touch")):(UI.support.touch=!1,UI.removeClass(o,"uk-touch"),UI.addClass(o,"uk-notouch")),i&&(e.B(),GA_SendEvent("change_touch_features","settings"))}}},{formLabelAttributes:i18nAttributes({en:"Haptic Keypress",es:"Táctil Háptica",ja:"触覚キープレス",pt:"Tecla Táctil",zh:"触觉按键",zhTW:"觸覺按鍵"}),view:"toggle",name:"touchHapticKeypress",checked:!0,on:{onChange:function(t,n,i){var a=this.getValue();o.Li(a),i&&(e.B(),GA_SendEvent("change_haptic_keypress","settings"))}}},{formLabelAttributes:i18nAttributes({en:"Keyboard Position",es:"Posición del Teclado",ja:"キーボードの位置",pt:"Posição do Teclado",zh:"键盘位置",zhTW:"鍵盤位置"}),view:"select",name:"touchKeyboardPosition",data:[{value:"top",label:"Top"},{value:"bottom",label:"Bottom"}],on:{onInitialized:function(){this.setValue(o.useragent.isIOS?"top":"bottom")},onChange:function(t,n,i){var a=this.getValue();o.ji(a),i&&(e.B(),GA_SendEvent("change_keyboard_position","settings"))}}},{formLabelAttributes:i18nAttributes({en:"Extra Keyboard",es:"Teclado Extra",ja:"追加のキーボード",pt:"Teclado Extra",zh:"额外的键盘",zhTW:"額外的鍵盤"}),view:"toggle",name:"touchExtraKeyboard",checked:!0,on:{onChange:function(t,n,i){var a=this.getValue();o.zi(a),i&&(e.B(),GA_SendEvent("change_extra_keyboard","settings"))}}},{formLabelAttributes:i18nAttributes({en:"Touch Keyboard",es:"Teclado Táctil",ja:"タッチキーボード",pt:"Teclado de Toque",zh:"软键盘",zhTW:"軟鍵盤"}),view:"toggle",name:"touchKeyboard",checked:!0,on:{onChange:function(t,n,i){var a=this.getValue();o.Fi(a),i&&(e.B(),GA_SendEvent("change_touch_keyboard","settings"))}}}]},l={id:"settingsGitForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabel:i18nTag(RES_I18N.Objects.Credentials),view:"link",label:RES_I18N.Elements.Open,on:{onClick:function(){n.aa()}}}]},c={id:"settingsAppearanceForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabelAttributes:i18nAttributes({en:"Animations",es:"Animaciones",ja:"アニメーション",pt:"Animações",zh:"动画效果",zhTW:"動畫效果"}),view:"toggle",name:"appearanceAnimations",checked:!0,on:{onChange:function(t,n,i){var o=this.getValue();e.ls(o),i&&(e.B(),GA_SendEvent("change_animations","settings"))}}},{formLabel:"Language",view:"select",name:"appearanceLanguage",data:[{value:"en",label:"English"},{value:"es",label:"Español"},{value:"pt",label:"Portugues"},{value:"ja",label:"日本語"},{value:"zh",label:"简体中文"},{value:"zhTW",label:"繁體中文"}],on:{onInitialized:function(){this.setValue({en:"en","en-us":"en","en-ca":"en","en-gb":"en","en-in":"en",es:"es","es-ar":"es","es-gt":"es","es-cr":"es","es-pa":"es","es-do":"es","es-mx":"es","es-ve":"es","es-co":"es","es-pe":"es","es-ec":"es","es-cl":"es","es-uy":"es","es-py":"es","es-bo":"es","es-sv":"es","es-hn":"es","es-ni":"es","es-pr":"es","es-es":"es","es-us":"es",ja:"ja",pt:"pt","pt-br":"pt",zh:"zh","zh-cn":"zh","zh-sg":"zh","zh-hk":"zhTW","zh-tw":"zhTW"}[navigator.language.toLowerCase()]||"en")},onChange:function(t,n,i){e.hs(this.getValue()),i&&(e.B(),GA_SendEvent("change_language","settings"))}}},{formLabelAttributes:i18nAttributes({en:"Theme",es:"Tema",ja:"テーマ",pt:"Temas",zh:"主题",zhTW:"佈景主題"}),view:"select",name:"appearanceTheme",data:[{value:"ayu-light",label:"Ayu Light",optgroup:"Light"},{value:"chrome",label:"Chrome",optgroup:"Light"},{value:"xcode",label:"XCode",optgroup:"Light"},{value:"ayu-mirage",label:"Ayu Mirage",optgroup:"Dark"},{value:"dracula",label:"Dracula",optgroup:"Dark"},{value:"monokai",label:"Monokai",optgroup:"Dark"}],on:{onInitialized:function(){this.setValue("xcode")},onChange:function(t,n,i){e.A(this.getValue()),i&&(e.B(),GA_SendEvent("change_theme","settings"))}}}]},u={id:"settingsPreviewForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabel:"Live Preview",view:"toggle",name:"previewUseLiveMode",checked:!0,on:{onChange:function(t,n,i){var o=this.getValue();e.preview.Bo(o),i&&(e.B(),GA_SendEvent("change_live_preview","settings"))}}}]},h={id:"settingsAboutForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabelAttributes:i18nAttributes({en:"Build",es:"Versión",ja:"バージョン",pt:"Versão",zh:"版本号",zhTW:"版本號"}),view:"label",label:window.$version||"Dev"},{formLabelAttributes:i18nAttributes({en:"Terms Agreement",es:"Términos de Uso",ja:"利用条件",pt:"Termos de Uso",zh:"使用条款",zhTW:"使用條款"}),view:"link",label:RES_I18N.Elements.Open,on:{onClick:function(){i.banner.show()}}},{formLabel:RES_I18N.Elements.LogHistory,view:"link",label:RES_I18N.Elements.Open,on:{onClick:function(){t.modal.open()}}},{formLabel:"<a class='uk-text-danger uk-text-nowrap' href='https://github.com/spckio/spck-issues/issues' rel='noopener noreferrer' target='_blank'\n            data-i18n-en='Report an Issue' data-i18n-es='Reportar un Problema' data-i18n-ja='問題の報告' data-i18n-pt='Informar um Problema' data-i18n-zh='报告问题' data-i18n-zh-tw='回報問題'></a>"}]};function d(e){return e.hidden=!(AndroidRef&&AndroidRef.setOrientation),e}function p(t){return t.hidden=!e.deviceTouchSupport,t}function f(e,t){return{cls:"x-menu-title-bar",view:"menuTitle",attributes:i18nAttributes(e),on:{onToggled:function(e){var n=$$(t);e.visible?n.show():n.hide()}}}}e.view=UI.new({batch:"settings",id:e.__name__,fill:"height",flexLayout:"column",cls:"x-max-width-100",cells:[{cls:"x-menu-title-bar shadow",view:"menuTitle",attributes:i18nAttributes({en:"SETTINGS",es:"Opciones",ja:"環境設定",pt:"Preferências",zh:"设置",zhTW:"設定"}),collapsable:!1},{view:"scroller",flexSize:"flex",cells:[f({en:"GIT"},"settingsGitForm"),l,f({en:"APPEARANCE",es:"APARIENCIA",ja:"出現",pt:"APARÊNCIA",zh:"外观",zhTW:"出現"},"settingsAppearanceForm"),c,f({en:"EDITOR",ja:"エディタ設定",zh:"编辑器",zhTW:"編輯器"},"settingsEditorForm"),a,f(RES_I18N.Objects.Preview,"settingsPreviewForm"),u,d(f({en:"MOBILE",es:"MÓVIL",ja:"モバイル",pt:"MÓVEL",zh:"移动",zhTW:"移動"},"settingsMobileForm")),d(r),p(f({en:"TOUCH",es:"TOQUE",ja:"タッ",pt:"TOQUE",zh:"触控功能",zhTW:"觸控功能"},"settingsTouchForm")),p(s),f({en:"ABOUT",es:"ACERCA DE",ja:"について",pt:"SOBRE",zh:"关于",zhTW:"關於"},"settingsAboutForm"),h,{view:"spacer",height:64}]}]})}));